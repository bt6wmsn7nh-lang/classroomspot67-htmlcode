<html lang="en"><head>
<meta charset="UTF-8">
<title>CodeLearn - Student Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.ico">
<style>
  :root {
    --primary: #667eea;
    --primary-hover: #5a67d8;
    --secondary: #764ba2;
    --bg-light: #f0f2f5;
    --text-dark: #1f2937;
    --glass-bg: rgba(255, 255, 255, 0.85);
    --glass-border: rgba(255, 255, 255, 0.3);
    --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background: var(--bg-light);
    min-height: 100vh;
    overflow-x: hidden;
    color: var(--text-dark);
  }
  .login-screen {
    position: fixed; inset: 0;
    background: url('https://wallpapers-clan.com/wp-content/uploads/2024/03/starfall-night-sky-mountains-aesthetic-gif-cover-desktop-wallpaper.gif') center/cover no-repeat;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 10000; transition: opacity 0.5s ease;
  }
  .login-screen::before { content:''; position:absolute; inset:0; background:rgba(0,0,0,0.4); backdrop-filter:blur(2px); pointer-events:none; }
  .login-screen.hidden { opacity:0; pointer-events:none; }
  .login-box {
    background:var(--glass-bg); backdrop-filter:blur(12px); border:1px solid var(--glass-border);
    padding:40px; border-radius:24px; box-shadow:var(--shadow); width:90%; max-width:400px;
    text-align:center; animation:slideUp 0.6s ease-out; z-index:2; position:relative;
  }
  @keyframes slideUp { from{transform:translateY(30px);opacity:0} to{transform:translateY(0);opacity:1} }
  .login-banner { width:100px; height:100px; border-radius:50%; margin-bottom:20px; object-fit:cover; border:4px solid white; box-shadow:0 4px 15px rgba(0,0,0,0.2); }
  .login-box h1 { color:var(--text-dark); margin-bottom:10px; font-size:28px; }
  .login-box p { color:#666; margin-bottom:30px; font-size:14px; }
  .login-input { width:100%; padding:15px 20px; margin-bottom:15px; border:2px solid #e0e0e0; border-radius:12px; font-size:16px; transition:all 0.3s; outline:none; background:rgba(255,255,255,0.9); }
  .login-input:focus { border-color:var(--primary); box-shadow:0 0 0 3px rgba(102,126,234,0.2); }
  .login-btn { width:100%; padding:15px; background:linear-gradient(135deg,var(--primary)0%,var(--secondary)100%); color:white; border:none; border-radius:12px; font-size:16px; font-weight:600; cursor:pointer; transition:transform 0.2s,box-shadow 0.2s; }
  .login-btn:hover { transform:translateY(-2px); box-shadow:0 10px 20px rgba(102,126,234,0.3); }
  .error-msg { color:#e60012; margin-top:15px; font-size:14px; display:none; font-weight:500; }
  .more-info-container { margin-top:20px; position:relative; }
  .more-info-btn { background:transparent; border:1px solid #ccc; color:#666; padding:8px 16px; border-radius:20px; cursor:pointer; font-size:12px; transition:all 0.3s; }
  .more-info-btn:hover { border-color:var(--primary); color:var(--primary); }
  .info-tooltip {
    position:absolute; bottom:120%; left:50%; transform:translateX(-50%) scale(0.9);
    background:#333; color:white; padding:15px; border-radius:12px; width:90%; opacity:0; pointer-events:none;
    transition:all 0.3s cubic-bezier(0.68,-0.55,0.27,1.55); box-shadow:0 10px 25px rgba(0,0,0,0.2); z-index:10;
  }
  .info-tooltip.active { opacity:1; transform:translateX(-50%) scale(1); bottom:140%; }
  .info-tooltip::after { content:''; position:absolute; top:100%; left:50%; margin-left:-8px; border-width:8px; border-style:solid; border-color:#333 transparent transparent transparent; }
  .intro-screen { position:fixed; inset:0; background:#000; display:none; align-items:center; justify-content:center; z-index:9999; flex-direction:column; }
  .intro-screen.active { display:flex; }
  .intro-gif { max-width:200px; border-radius:20px; margin-bottom:20px; }
  .intro-text { color:white; font-size:20px; letter-spacing:2px; animation:pulse 1.5s infinite; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.5} }
  .feedback-popup {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.9);
    background:white; padding:30px; border-radius:24px; box-shadow:0 25px 80px rgba(0,0,0,0.3);
    z-index:10001; max-width:400px; width:90%; text-align:center; opacity:0; pointer-events:none; transition:all 0.3s ease;
  }
  .feedback-popup.active { opacity:1; pointer-events:all; transform:translate(-50%,-50%) scale(1); }
  .feedback-popup h2 { color:#333; margin-bottom:15px; font-size:22px; }
  .feedback-popup p { color:#666; margin-bottom:20px; font-size:14px; line-height:1.5; }
  .feedback-buttons { display:flex; gap:10px; justify-content:center; }
  .feedback-btn { padding:12px 24px; border:none; border-radius:12px; font-size:14px; font-weight:600; cursor:pointer; transition:all 0.2s; }
  .vote-btn { background:linear-gradient(135deg,var(--primary)0%,var(--secondary)100%); color:white; }
  .vote-btn:hover { transform:translateY(-2px); box-shadow:0 8px 20px rgba(102,126,234,0.3); }
  .exit-btn { background:#f0f0f0; color:#666; }
  .exit-btn:hover { background:#e0e0e0; }
  .main-site { display:none; min-height:100vh; flex-direction:column; background:var(--bg-light); padding-bottom:100px; }
  .main-site.active { display:flex; }
  .header { display:flex; justify-content:space-between; align-items:center; padding:15px 40px; background:white; box-shadow:0 2px 10px rgba(0,0,0,0.05); z-index:100; position:sticky; top:0; }
  .logo-section { display:flex; align-items:center; gap:15px; }
  .logo-banner { height:40px; border-radius:8px; }
  .site-title { color:#333; font-size:22px; font-weight:700; }
  .header-controls { display:flex; align-items:center; gap:20px; }
  .search-container { position:relative; }
  .search-input { padding:10px 15px 10px 35px; border:1px solid #ddd; border-radius:20px; width:250px; font-size:14px; outline:none; transition:all 0.3s; }
  .search-input:focus { width:300px; border-color:var(--primary); box-shadow:0 0 0 3px rgba(102,126,234,0.1); }
  .search-icon { position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#999; font-size:14px; }
  .total-games { color:white; background:#e60012; padding:6px 14px; border-radius:20px; font-size:13px; font-weight:600; }
  .time-display { color:#666; font-size:14px; font-weight:500; font-family:monospace; }
  .games-container { flex:1; display:flex; flex-direction:column; justify-content:center; padding:40px 0; position:relative; overflow:hidden; }
  .games-scroll-area { width:100%; overflow-x:auto; overflow-y:hidden; scroll-behavior:smooth; scrollbar-width:none; -ms-overflow-style:none; padding:20px 40px; }
  .games-scroll-area::-webkit-scrollbar { display:none; }
  .games-row { display:flex; gap:25px; width:max-content; padding:20px; }
  .game-card {
    width:200px; height:200px; border-radius:20px; overflow:hidden; cursor:pointer;
    transition:all 0.3s cubic-bezier(0.25,0.8,0.25,1); background:#000;
    box-shadow:0 4px 15px rgba(0,0,0,0.5); border:3px solid transparent; position:relative; flex-shrink:0;
  }
  .game-card:hover, .game-card.focused {
    transform:translateY(-10px) scale(1.05); box-shadow:0 20px 40px rgba(0,0,0,0.4); border-color:var(--primary);
  }
  .game-card img { width:100%; height:100%; object-fit:cover; transition:transform 0.3s, opacity 0.3s; opacity:0.85; }
  .game-card:hover img { opacity:1; transform:scale(1.1); }
  .game-card .star { position:absolute; top:10px; left:10px; color:#ffd700; font-size:24px; filter:drop-shadow(0 2px 4px rgba(0,0,0,0.5)); z-index:2; cursor:pointer; transition:transform 0.2s; }
  .game-card .star:hover { transform:scale(1.2); }
  .game-card .star.empty { color:rgba(255,255,255,0.4); }
  .game-card .title {
    position:absolute; bottom:0; left:0; right:0; padding:15px;
    background:linear-gradient(to top,rgba(0,0,0,0.9)0%,transparent 100%); color:white;
    font-size:14px; font-weight:600; text-align:center; opacity:0; transition:opacity 0.3s;
  }
  .game-card:hover .title { opacity:1; }
  .scroll-btn {
    position:absolute; top:50%; transform:translateY(-50%); width:50px; height:50px;
    background:rgba(255,255,255,0.9); border:none; border-radius:50%; cursor:pointer;
    display:flex; align-items:center; justify-content:center; box-shadow:0 4px 15px rgba(0,0,0,0.2);
    z-index:10; transition:all 0.3s;
  }
  .scroll-btn:hover { background:var(--primary); transform:translateY(-50%) scale(1.1); }
  .scroll-btn svg { width:24px; height:24px; fill:#333; }
  .scroll-btn-left { left:20px; }
  .scroll-btn-right { right:20px; }
  .game-player {
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    background:#000;
    z-index:9998;
    display:none;
    flex-direction:column;
  }
  .game-player.active { display:flex; }
  /* The game player header bar sits inside the player, always visible */
  .game-player-header {
    display:flex; align-items:center; padding:10px 16px;
    background:#1a1a1a; border-bottom:1px solid #333; gap:12px;
    flex-shrink:0; z-index:9999; position:relative;
  }
  .home-btn {
    display:flex; align-items:center; gap:6px; padding:8px 16px;
    background:var(--primary); color:white; border:none; border-radius:10px;
    font-size:13px; font-weight:600; cursor:pointer; white-space:nowrap;
  }
  .home-btn svg { width:16px; height:16px; fill:white; flex-shrink:0; }
  .home-btn:hover { background:var(--primary-hover); }
  .game-player-title { color:white; font-size:15px; font-weight:600; flex:1; text-align:center; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .game-frame { flex:1; width:100%; border:none; background:#000; display:block; }
  /* Small fullscreen button */
  .fullscreen-btn {
    display:flex; align-items:center; gap:4px;
    padding:6px 12px; background:#28a745; color:white;
    border:none; border-radius:8px; font-size:12px; font-weight:600;
    cursor:pointer; white-space:nowrap; flex-shrink:0;
  }
  .fullscreen-btn svg { width:13px; height:13px; fill:white; }
  .fullscreen-btn:hover { background:#218838; }
  .fullscreen-exit-overlay { position:absolute; top:0; left:0; right:0; height:80px; background:linear-gradient(to bottom,rgba(0,0,0,0.8)0%,transparent 100%); display:flex; justify-content:flex-end; align-items:flex-start; padding:20px; opacity:0; pointer-events:none; transition:opacity 0.3s; z-index:10; }
  .game-player.fullscreen .fullscreen-exit-overlay { pointer-events:all; opacity:1; }
  .fullscreen-exit-btn { background:#e60012; color:white; border:none; border-radius:50%; width:40px; height:40px; font-size:24px; cursor:pointer; }
  .my-list-section {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.9);
    background:white; padding:30px; border-radius:24px; box-shadow:0 25px 80px rgba(0,0,0,0.2);
    z-index:1002; max-width:900px; width:90%; max-height:80vh; overflow-y:auto; display:none; opacity:0;
  }
  .my-list-section.active { display:block; opacity:1; transform:translate(-50%,-50%) scale(1); }
  .my-list-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); gap:20px; }
  .close-mylist-btn { margin-top:20px; padding:12px; background:var(--primary); color:white; border:none; border-radius:12px; cursor:pointer; font-size:16px; width:100%; }
  .dock-container {
    position:fixed; bottom:25px; left:50%; transform:translateX(-50%);
    display:flex; gap:15px; padding:12px 20px; background:rgba(255,255,255,0.9);
    backdrop-filter:blur(10px); border-radius:25px; box-shadow:0 10px 40px rgba(0,0,0,0.1);
    border:1px solid rgba(255,255,255,0.5); z-index:100;
  }
  .dock-item {
    width:45px; height:45px; border-radius:12px; display:flex; align-items:center; justify-content:center;
    cursor:pointer; transition:all 0.2s; background:#f5f5f5; border:2px solid transparent; position:relative;
  }
  .dock-item:hover { transform:translateY(-5px); background:var(--primary); border-color:var(--primary); }
  .dock-item svg { width:22px; height:22px; fill:#666; }
  .dock-item.mylist-btn { background:linear-gradient(135deg,#ffd700 0%,#ffaa00 100%); }
  .dock-item.mylist-btn svg { fill:white; }
  .dock-item .badge { position:absolute; top:-5px; right:-5px; background:#e60012; color:white; font-size:11px; width:18px; height:18px; border-radius:50%; display:flex; align-items:center; justify-content:center; }
  .window {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.95);
    width:85%; height:85%; background:white; border-radius:20px; box-shadow:0 25px 80px rgba(0,0,0,0.3);
    z-index:1000; display:flex; flex-direction:column; overflow:hidden; border:1px solid #eee; opacity:0; pointer-events:none;
  }
  .window.active { opacity:1; pointer-events:all; transform:translate(-50%,-50%) scale(1); }
  .window.large { width:90%; height:90%; }
  .topbar { display:flex; justify-content:space-between; align-items:center; padding:12px 20px; background:#f8f9fa; border-bottom:1px solid #eee; }
  .topbar button { background:#e0e0e0; border:none; color:#333; width:30px; height:30px; border-radius:8px; cursor:pointer; }
  #frame { flex:1; width:100%; border:none; }
  .settings {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.95);
    background:white; padding:30px; border-radius:24px; box-shadow:0 25px 80px rgba(0,0,0,0.2);
    z-index:1001; max-width:500px; width:90%; max-height:80vh; overflow-y:auto; opacity:0; pointer-events:none;
  }
  .settings.active { opacity:1; pointer-events:all; transform:translate(-50%,-50%) scale(1); }
  .visitor-counter {
    position:fixed; bottom:100px; right:20px; background:white; padding:10px 20px;
    border-radius:30px; box-shadow:0 4px 15px rgba(0,0,0,0.1); font-size:14px; color:#666;
    z-index:50; font-weight:600; display:flex; align-items:center; gap:8px;
  }
  .overlay { position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:999; opacity:0; pointer-events:none; }
  .overlay.active { opacity:1; pointer-events:all; }
  .no-games, .loading-games { text-align:center; color:#666; padding:40px; font-size:16px; width:100%; }
  .spinner { width:20px; height:20px; border:3px solid #f3f3f3; border-top:3px solid var(--primary); border-radius:50%; animation:spin 1s linear infinite; display:inline-block; }
  @keyframes spin { to { transform:rotate(360deg); } }
</style>
</head>
<body>

<div class="login-screen" id="loginScreen">
  <div class="login-box">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSEtseCaQReYgXH1C-tdRM6kNttqlXvFyym_g&amp;s" alt="CodeLearn" class="login-banner">
    <h1>üîí Student Login</h1>
    <p>Welcome to CodeLearn Programming Portal</p>
    <input type="text" class="login-input" id="username" placeholder="Username" autocomplete="off">
    <input type="password" class="login-input" id="password" placeholder="Password">
    <button class="login-btn" onclick="checkLogin()">Sign In</button>
    <div class="error-msg" id="errorMsg">Invalid username or password!</div>
    <div class="more-info-container">
      <button class="more-info-btn" onclick="toggleInfo()">‚ÑπÔ∏è More Info</button>
      <div class="info-tooltip" id="infoTooltip">
        <p><strong>Username:</strong> 1</p>
        <p><strong>Password:</strong> blockmelol (any capitalization works now)</p>
      </div>
    </div>
  </div>
</div>

<div class="intro-screen" id="introScreen">
  <img src="https://68.media.tumblr.com/ecea9391e51144ebfb48c0451f11ee70/tumblr_oh98s6US8x1qjoleso1_500.gif" alt="Loading" class="intro-gif">
  <div class="intro-text">Loading your workspace...</div>
</div>

<div class="feedback-popup" id="feedbackPopup">
  <h2>üí≠ We Value Your Feedback!</h2>
  <p>What should I add next?<br>Vote if you like this portal!</p>
  <div class="feedback-buttons">
    <button class="feedback-btn vote-btn" onclick="voteSite()">üó≥Ô∏è Vote</button>
    <button class="feedback-btn exit-btn" onclick="closeFeedback()">‚úï Exit</button>
  </div>
</div>

<div class="main-site" id="mainSite">
  <div class="header">
    <div class="logo-section">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSEtseCaQReYgXH1C-tdRM6kNttqlXvFyym_g&amp;s" alt="CodeLearn" class="logo-banner">
      <span class="site-title">CodeLearn</span>
    </div>
    <div class="header-controls">
      <div class="search-container">
        <span class="search-icon">üîç</span>
        <input type="text" class="search-input" id="searchInput" placeholder="Search games..." oninput="handleSearch()">
      </div>
      <span class="total-games" id="totalGames">Total Games: Loading...</span>
      <span class="time-display" id="clock">7:33 AM</span>
    </div>
  </div>

  <div class="games-container">
    <button class="scroll-btn scroll-btn-left" onclick="scrollGamesLeft()">
      <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>
    </button>
    <button class="scroll-btn scroll-btn-right" onclick="scrollGamesRight()">
      <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>
    </button>
    <div class="games-scroll-area" id="gamesScrollArea">
      <div class="games-row" id="gamesRow">
        <div class="loading-games">
          <div class="spinner"></div>
          Loading games...
        </div>
      </div>
    </div>
  </div>
</div>

<div class="game-player" id="gamePlayer">
  <div class="game-player-header">
    <button class="home-btn" onclick="closeGame()">
      <svg viewBox="0 0 24 24" style="width:16px;height:16px;fill:white;flex-shrink:0;"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
      Home
    </button>
    <span class="game-player-title" id="gamePlayerTitle">Game</span>
    <button class="fullscreen-btn" onclick="toggleFullscreen()">
      <svg viewBox="0 0 24 24" style="width:13px;height:13px;fill:white;"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg>
      Fullscreen
    </button>
  </div>
  <iframe class="game-frame" id="gameFrame" sandbox="allow-scripts allow-same-origin allow-popups allow-forms allow-pointer-lock"></iframe>
  <div class="fullscreen-exit-overlay" id="fullscreenExitOverlay">
    <button class="fullscreen-exit-btn" onclick="exitFullscreen()">‚úï</button>
  </div>
</div>

<div class="visitor-counter" id="visitorCounter">
  üë• Visitors: <span id="visitorCount">1,257</span>
</div>

<div class="my-list-section" id="myListSection">
  <h2>‚≠ê My List (<span id="myListCount">0</span>)</h2>
  <div class="my-list-grid" id="myListGrid"></div>
  <button class="close-mylist-btn" onclick="closeMyList()">Close</button>
</div>

<div class="overlay" id="overlay" onclick="closeAllModals()"></div>

<div class="dock-container">
  <div class="dock-item" onclick="openWindow('movies.html','Movies')" title="Movies"><svg viewBox="0 0 24 24"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2z"></path></svg></div>
  <div class="dock-item" onclick="openWindow('partners.html','Partners')" title="Partners"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></svg></div>
  <div class="dock-item" onclick="openWindow('unblockers.html','Unblocker')" title="Unblocker"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></svg></div>
  <div class="dock-item mylist-btn" onclick="openMyList()" title="My List">
    <svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>
    <span class="badge" id="myListBadge" style="display:none;">0</span>
  </div>
  <div class="dock-item presentation-btn" onclick="openPresentation()" title="Presentation"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></svg></div>
  <div class="dock-item chat-btn" onclick="openChat()" title="Chat"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"></path></svg></div>
  <div class="dock-item apps-btn" onclick="openWindow('https://ireadygames67.b-cdn.net/a.html','Apps')" title="Apps"><svg viewBox="0 0 24 24"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></svg></div>
  <div class="dock-item music-btn" onclick="openWindow('https://docs.google.com/presentation/d/1JJQOdkUf9OzWWcyqJznDTLdD3KTmc2Qkl85ibqx-JxM/edit?usp=sharing','Music')" title="Music"><svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg></div>
  <div class="dock-item settings-btn" onclick="openSettings()" title="Settings"><svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L5.09 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"></path></svg></div>
</div>

<div id="window" class="window">
  <div class="topbar">
    <span id="windowTitle">App</span>
    <button onclick="closeWindow()">‚úï</button>
  </div>
  <iframe id="frame"></iframe>
</div>

<div id="settings" class="settings">
  <h3>üé≠ Cloak</h3>
  <button onclick="openAboutBlank()">Open about:blank</button>
  <input id="cloakInput" placeholder="Tab name">
  <button onclick="setCloak()">Apply Cloak</button>
  <br><br>
  <button onclick="closeSettings()">Close Settings</button>
</div>

<script>
// Clock
function updateClock() {
  const now = new Date();
  document.getElementById('clock').textContent = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
}
setInterval(updateClock, 1000);
updateClock();

// Visitor Counter
function updateVisitorCounter() {
  let count = localStorage.getItem('visitorCount') || 1256;
  count = parseInt(count) + 1;
  localStorage.setItem('visitorCount', count);
  document.getElementById('visitorCount').textContent = count.toLocaleString();
}
updateVisitorCounter();

// More Info Toggle
function toggleInfo() {
  document.getElementById('infoTooltip').classList.toggle('active');
}

// Feedback
function showFeedback() { document.getElementById('feedbackPopup').classList.add('active'); }
function closeFeedback() { document.getElementById('feedbackPopup').classList.remove('active'); }
function voteSite() {
  window.open('https://ubghub.org/?site=classroomspot', '_blank');
  closeFeedback();
}

// Favorites
let favorites = JSON.parse(localStorage.getItem('codeLearnFavorites')) || [];
function toggleFavorite(gameName, e) {
  e.stopPropagation();
  const idx = favorites.indexOf(gameName);
  if (idx > -1) favorites.splice(idx, 1);
  else favorites.push(gameName);
  localStorage.setItem('codeLearnFavorites', JSON.stringify(favorites));
  updateMyListBadge();
  renderGames();
}
function isFavorite(name) { return favorites.includes(name); }
function updateMyListBadge() {
  const badge = document.getElementById('myListBadge');
  badge.textContent = favorites.length;
  badge.style.display = favorites.length > 0 ? 'flex' : 'none';
  document.getElementById('myListCount').textContent = favorites.length;
}

// Login - FIXED: case-insensitive password
function checkLogin() {
  const u = document.getElementById('username').value.trim();
  const p = document.getElementById('password').value.trim().toLowerCase();
  const err = document.getElementById('errorMsg');
  
  if (u === '1' && p === 'blockmelol') {
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('introScreen').classList.add('active');
    
    setTimeout(() => {
      document.getElementById('introScreen').classList.remove('active');
      document.getElementById('mainSite').classList.add('active');
      loadGames();
      updateMyListBadge();
      showFeedback();
    }, 3000);
  } else {
    err.style.display = 'block';
    setTimeout(() => err.style.display = 'none', 3000);
  }
}

// My List
function openMyList() {
  const sec = document.getElementById('myListSection');
  const grid = document.getElementById('myListGrid');
  grid.innerHTML = '';
  const favs = allGames.filter(g => favorites.includes(g.name));
  if (favs.length === 0) {
    grid.innerHTML = '<p style="color:#666;text-align:center;grid-column:1/-1;">No favorites yet! Click the star on games.</p>';
  } else {
    favs.forEach(g => grid.appendChild(createGameCard(g, true)));
  }
  sec.classList.add('active');
  document.getElementById('overlay').classList.add('active');
}
function closeMyList() {
  document.getElementById('myListSection').classList.remove('active');
  document.getElementById('overlay').classList.remove('active');
}

// Games Data
let allGames = [];
let filteredGames = [];
let focusedIndex = 0;

const ZONES = "https://cdn.jsdelivr.net/gh/gn-math/assets@main/zones.json";
const COVER_BASE = "https://cdn.jsdelivr.net/gh/gn-math/covers@main/";
const HTML_BASE = "https://cdn.jsdelivr.net/gh/gn-math/html@main/";

const FALLBACK_IMAGE = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect width="200" height="200" fill="%23000"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-family="Arial" font-size="16">Image Coming Soon</text></svg>';

const GAME_IMAGES = {
  "Dead Tapes": "https://classlink.com.de/png/games/deadta.webp",
  "Binding of Isaac": "https://classlink.com.de/png/games/tboi.webp",
  "Super Falling Fred": "https://classlink.com.de/png/games/super-falling-fred.webp",
  "Little Big Planet": "https://classlink.com.de/png/games/lbp.webp",
  "Poppy Playtime": "https://th.bing.com/th/id/OIP.6XKOw6fTqs3HXHxZUV3ZFAHaHa?w=158&h=180&c=7&r=0&o=7&dpr=1.1&pid=1.7&rm=3",
  "Stumble Guys": "https://www.bing.com/th/id/OIP.ZA-M_lLp_NeCsbk-mWQ78gHaHa?w=192&h=204&c=8&rs=1&qlt=90&o=6&dpr=1.1&pid=3.1&rm=2",
  "Fortnite": "https://www.tech-wonders.com/wp-content/uploads/2018/09/Fortnite.jpg",
  "Balatro": "https://classlink.com.de/png/games/bal.webp",
  "Repo": "https://classlink.com.de/png/games/repo.webp",
  "Danganronpa": "https://classlink.com.de/png/games/dan.webp",
  "Portal": "https://classlink.com.de/png/games/portal.webp",
  "Pac-Man": "https://classlink.com.de/png/games/pacman.webp",
  "Raldi": "https://classlink.com.de/png/games/raldi.webp",
  "Honkai Star Rail": "https://th.bing.com/th/id/OIP.VXq7uZySprURyg3Uj4wRgAHaGL?w=189&h=180&c=7&r=0&o=7&dpr=1.1&pid=1.7&rm=3",
  "Genshin Impact": "https://www.bing.com/th/id/OIP.D5LrhfKGsVbqeU2giRid4gHaHa?w=152&h=204&c=8&rs=1&qlt=90&o=6&dpr=1.1&pid=3.1&rm=2",
  "Verse": "https://classlink.com.de/png/games/gachaverse.webp",
  "Life": "https://classlink.com.de/png/games/gachalife.webp",
  "GTB": "https://classlink.com.de/png/games/gotobed.webp",
  "Deadseat": "https://classlink.com.de/png/games/deadseat.webp",
  "Fun Mayhem 2": "https://classlink.com.de/png/games/gun2.webp",
  "Fun Mayhem": "https://classlink.com.de/png/games/gun.webp",
  "Lego Star Wars": "https://classlink.com.de/png/games/legostarwars.webp",
  "Mega Man": "https://classlink.com.de/png/games/megaman.webp",
  "TBOIW": "https://classlink.com.de/png/games/tboiw.webp",
  "TBOIR": "https://classlink.com.de/png/games/tboir.webp",
  "SFGE": "https://classlink.com.de/png/games/sli.webp",
  "Solitaire": "https://classlink.com.de/png/games/soli.webp",
  "Soccer Bros": "https://classlink.com.de/png/games/soccer.webp",
  "Truffled Karlson 2D": "https://classlink.com.de/png/games/karlson2d.webp",
  "DM2": "https://classlink.com.de/png/games/dogeminer2.webp",
  "Balls": "https://classlink.com.de/png/games/balls.webp",
  "Lvl Devil": "https://classlink.com.de/png/games/level.webp",
  "Meatboy": "https://classlink.com.de/png/games/meat.webp",
  "SSF2": "https://classlink.com.de/png/games/ssf2.webp",
  "Skibidi Shooter": "https://classlink.com.de/png/games/ski.webp",
  "Rerun": "https://classlink.com.de/png/games/rerun.webp",
  "CS": "https://classlink.com.de/png/games/cs08.webp",
  "Milk": "https://classlink.com.de/png/games/milk.webp",
  "Monkey Mart": "https://classlink.com.de/png/games/monkey.webp",
  "N64 South Park": "https://th.bing.com/th/id/OIP.901_j50LTwSbvEQVmTWxgQHaGz?w=174&h=180&c=7&r=0&o=7&dpr=1.1&pid=1.7&rm=3",
  "Mortal Kombat 4": "https://th.bing.com/th/id/OIP.gOQyPwMxYv_OuaynTMmhFwHaJQ?w=153&h=191&c=7&r=0&o=7&dpr=1.1&pid=1.7&rm=3",
  "Crash Bandicoot PS1": "https://th.bing.com/th/id/OSK.KpP_rhvUCqWX9uKBqhsPTEpU32GqAMgY-bc8Oqq_rP0?w=50&h=50&c=12&o=6&dpr=1.1&pid=SANGAM"
};


const GAME_SRCDOCS = {
  "BTD1": "<html lang=\"en\"><head><script>(function(){(function(){function e(g){this.t={};this.tick=function(h,m,f){var n=void 0!=f?f:(new Date).getTime();this.t[h]=[n,m];if(void 0==f)try{window.console.timeStamp(\"CSI/\"+h)}catch(q){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick(\"start\",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var p=0<d?new e(d):new e;window.jstiming={Timer:e,load:p};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;\n0<b&&d>=b&&(c.tick(\"_wtsrt\",void 0,b),c.tick(\"wtsrt_\",\"_wtsrt\",d),c.tick(\"tbsd_\",\"wtsrt_\"))}try{var k=window.top!=window.self,l=window.location.href;a=null;window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick(\"_tbnd\",void 0,window.chrome.csi().startE),c.tick(\"tbnd_\",\"_tbnd\",b)));null==a&&window.gtbExternal&&(a=k?window.gtbExternal.frameT(l):window.gtbExternal.pageT());null==a&&window.external&&(k?a=window.external.frameT(l):(a=window.external.pageT,c&&0<b&&(c.tick(\"_tbnd\",\nvoid 0,window.external.startE),c.tick(\"tbnd_\",\"_tbnd\",b))));a&&(window.jstiming.pt=a)}catch(g){}})();}).call(this);\nwindow[\"__csi\"]={a:false,b:false,c:\"ig\",v:\"default\",g:null,d:false};if(window.jstiming){window.jstiming.beaconImageReferences_={};window.jstiming.reportCounter_=1;var getTick=function(a,b,c){var d=a.t[b],e=a.t.start;if(d&&(e||c))return d=a.t[b][0],e=void 0!=c?c:e[0],a=d-e,Math.round(a)},getReportUri=function(a,b,c){var d=\"\";window.jstiming.srt&&(d+=\"&srt=\"+window.jstiming.srt,delete window.jstiming.srt);window.jstiming.pt&&(d+=\"&tbsrt=\"+window.jstiming.pt,delete window.jstiming.pt);try{window.external&&window.external.tran?d+=\"&tran=\"+window.external.tran:window.gtbExternal&&\nwindow.gtbExternal.tran?d+=\"&tran=\"+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(d+=\"&tran=\"+window.chrome.csi().tran)}catch(m){}var e=window.chrome;if(e&&(e=e.loadTimes)&&\"function\"===typeof e&&(e=e())){e.wasFetchedViaSpdy&&(d+=\"&p=s\");if(e.wasNpnNegotiated){d+=\"&npn=1\";var f=e.npnNegotiatedProtocol;f&&(d+=\"&npnv=\"+(encodeURIComponent||escape)(f))}e.wasAlternateProtocolAvailable&&(d+=\"&apa=1\")}var g=a.t,k=g.start;e=[];f=[];for(var l in g)if(\"start\"!=l&&0!=l.indexOf(\"_\")){var q=g[l][1];\nq?g[q]&&f.push(l+\".\"+getTick(a,l,g[q][0])):k&&e.push(l+\".\"+getTick(a,l))}delete g.start;if(b)for(var h in b)d+=\"&\"+h+\"=\"+b[h];(b=c)||(b=\"https:\"==document.location.protocol?\"https://csi.gstatic.com/csi\":\"http://csi.gstatic.com/csi\");return a=[b,\"?v=3\",\"&s=\"+(window.jstiming.sn||\"opensocial-gadgets\")+\"&action=\",a.name,f.length?\"&it=\"+f.join(\",\"):\"\",d,\"&rt=\",e.join(\",\")].join(\"\")},sendReport_=function(a,b,c){a=getReportUri(a,b,c);if(!a)return\"\";b=new Image;var d=window.jstiming.reportCounter_++;window.jstiming.beaconImageReferences_[d]=\nb;b.onload=b.onerror=function(){window.jstiming&&delete window.jstiming.beaconImageReferences_[d]};b.src=a;b=null;return a};window.jstiming.report=function(a,b,c){var d=document.visibilityState,e=\"visibilitychange\";d||(d=document.webkitVisibilityState,e=\"webkitvisibilitychange\");if(\"prerender\"==d){var f=!1,g=function(){if(!f){b?b.prerender=\"1\":b={prerender:\"1\"};if(\"prerender\"==(document.visibilityState||document.webkitVisibilityState))var k=!1;else sendReport_(a,b,c),k=!0;k&&(f=!0,document.removeEventListener(e,\ng,!1))}};document.addEventListener(e,g,!1);return\"\"}return sendReport_(a,b,c)}};/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar goog=goog||{};goog.global=this||self;goog.exportPath_=function(a,b,c,d){a=a.split(\".\");d=d||goog.global;a[0]in d||\"undefined\"==typeof d.execScript||d.execScript(\"var \"+a[0]);for(var e;a.length&&(e=a.shift());)if(a.length||void 0===b)d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={};else if(!c&&goog.isObject(b)&&goog.isObject(d[e]))for(var f in b)b.hasOwnProperty(f)&&(d[e][f]=b[f]);else d[e]=b};goog.define=function(a,b){return a=b};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE=\"en\";\ngoog.TRUSTED_SITE=!0;goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.readFlagInternalDoNotUseOrElse=function(a,b){var c=goog.getObjectByName(goog.FLAGS_OBJECT_);a=c&&c[a];return null!=a?a:b};goog.FLAGS_OBJECT_=\"CLOSURE_FLAGS\";goog.FLAGS_STAGING_DEFAULT=!0;\ngoog.readToggleInternalDoNotCallDirectly=function(a){var b=\"object\"===typeof CLOSURE_TOGGLE_ORDINALS?CLOSURE_TOGGLE_ORDINALS:void 0;a=b&&b[a];return\"number\"!==typeof a?!!a:!!(goog.TOGGLES_[Math.floor(a/30)]&1<<a%30)};goog.TOGGLE_VAR_=\"_F_toggles\";goog.TOGGLES_=goog.global[goog.TOGGLE_VAR_]||[];goog.LEGACY_NAMESPACE_OBJECT_=goog.global;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error(\"goog.provide cannot be used within a module.\");goog.constructNamespace_(a)};\ngoog.constructNamespace_=function(a,b,c){goog.exportPath_(a,b,c,goog.LEGACY_NAMESPACE_OBJECT_)};goog.NONCE_PATTERN_=/^[\\w+/_-]+[=]{0,2}$/;goog.getScriptNonce_=function(a){a=(a||goog.global).document;return(a=a.querySelector&&a.querySelector(\"script[nonce]\"))&&(a=a.nonce||a.getAttribute(\"nonce\"))&&goog.NONCE_PATTERN_.test(a)?a:\"\"};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\ngoog.module=function(a){if(\"string\"!==typeof a||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error(\"Invalid module identifier\");if(!goog.isInGoogModuleLoader_())throw Error(\"Module \"+a+\" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");\nif(goog.moduleLoaderState_.moduleName)throw Error(\"goog.module may only be called once per module.\");goog.moduleLoaderState_.moduleName=a};goog.module.get=function(){return null};goog.module.getInternal_=function(){return null};goog.requireDynamic=function(){return null};goog.importHandler_=null;goog.uncompiledChunkIdHandler_=null;goog.setImportHandlerInternalDoNotCallOrElse=function(a){goog.importHandler_=a};\ngoog.setUncompiledChunkIdHandlerInternalDoNotCallOrElse=function(a){goog.uncompiledChunkIdHandler_=a};goog.maybeRequireFrameworkInternalOnlyDoNotCallOrElse=function(){};goog.ModuleType={ES6:\"es6\",GOOG:\"goog\"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};\ngoog.isInEs6ModuleLoader_=function(){var a=!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6;return a?!0:(a=goog.LEGACY_NAMESPACE_OBJECT_.$jscomp)?\"function\"!=typeof a.getCurrentModulePath?!1:!!a.getCurrentModulePath():!1};goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0};\ngoog.declareModuleId=function(a){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=a;else{var b=goog.LEGACY_NAMESPACE_OBJECT_.$jscomp;if(!b||\"function\"!=typeof b.getCurrentModulePath)throw Error('Module with namespace \"'+a+'\" has been loaded incorrectly.');b=b.require(b.getCurrentModulePath());goog.loadedModules_[a]={exports:b,type:goog.ModuleType.ES6,moduleId:a}}};\ngoog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||\"\",Error(\"Importing test-only code into non-debug environment\"+(a?\": \"+a:\".\"));};goog.forwardDeclare=function(){};goog.getObjectByName=function(a,b){a=a.split(\".\");b=b||goog.global;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b};goog.addDependency=function(){};goog.ENABLE_DEBUG_LOADER=!1;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};goog.require=function(){};\ngoog.requireType=function(){return{}};goog.basePath=\"\";goog.abstractMethod=function(){throw Error(\"unimplemented abstract method\");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};\ngoog.DEPENDENCIES_ENABLED=!1;goog.TRANSPILE=\"detect\";goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRUSTED_TYPES_POLICY_NAME=\"goog\";goog.hasBadLetScoping=null;\ngoog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:\"\",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var c={},d=c;if(\"function\"===typeof a)d=a.call(void 0,d);else if(\"string\"===typeof a)d=goog.loadModuleFromSource_.call(void 0,d,a);else throw Error(\"Invalid module definition\");var e=goog.moduleLoaderState_.moduleName;if(\"string\"===typeof e&&e){goog.moduleLoaderState_.declareLegacyNamespace?(a=c!==d,goog.constructNamespace_(e,d,a)):goog.SEAL_MODULE_EXPORTS&&\nObject.seal&&\"object\"==typeof d&&null!=d&&Object.seal(d);var f={exports:d,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};goog.loadedModules_[e]=f}else throw Error('Invalid module name \"'+e+'\"');}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a,b){eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(b));return a};\ngoog.normalizePath_=function(a){a=a.split(\"/\");for(var b=0;b<a.length;)\".\"==a[b]?a.splice(b,1):b&&\"..\"==a[b]&&a[b-1]&&\"..\"!=a[b-1]?a.splice(--b,2):b++;return a.join(\"/\")};goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open(\"get\",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};\ngoog.typeOf=function(a){var b=typeof a;return\"object\"!=b?b:a?Array.isArray(a)?\"array\":b:\"null\"};goog.isArrayLike=function(a){var b=goog.typeOf(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&\"function\"==typeof a.getFullYear};goog.isObject=function(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b};\ngoog.getUid=function(a){return Object.prototype.hasOwnProperty.call(a,goog.UID_PROPERTY_)&&a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&\"removeAttribute\"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_=\"closure_uid_\"+(1E9*Math.random()>>>0);goog.uidCounter_=0;\ngoog.cloneObject=function(a){var b=goog.typeOf(a);if(\"object\"==b||\"array\"==b){if(\"function\"===typeof a.clone)return a.clone();if(\"undefined\"!==typeof Map&&a instanceof Map)return new Map(a);if(\"undefined\"!==typeof Set&&a instanceof Set)return new Set(a);b=\"array\"==b?[]:{};for(var c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};\ngoog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};\ngoog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};goog.now=function(){return Date.now()};goog.globalEval=function(a){(0,eval)(a)};\ngoog.getCssName=function(a,b){if(\".\"==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with \".\". You passed: '+a);var c=function(e){return goog.cssNameMapping_[e]||e},d=function(e){e=e.split(\"-\");for(var f=[],g=0;g<e.length;g++)f.push(c(e[g]));return f.join(\"-\")};d=goog.cssNameMapping_?\"BY_WHOLE\"==goog.cssNameMappingStyle_?c:d:function(e){return e};a=b?a+\"-\"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};\ngoog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};goog.GetMsgOptions=function(){};goog.getMsg=function(a,b,c){c&&c.html&&(a=a.replace(/\u003c/g,\"&lt;\"));c&&c.unescapeHtmlEntities&&(a=a.replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\").replace(/&apos;/g,\"'\").replace(/&quot;/g,'\"').replace(/&amp;/g,\"&\"));b&&(a=a.replace(/\\{\\$([^}]+)}/g,function(d,e){return null!=b&&e in b?b[e]:d}));return a};goog.getMsgWithFallback=function(a){return a};\ngoog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,!0,c)};goog.exportProperty=function(a,b,c){a[b]=c};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error(\"goog.scope is not supported within a module.\");a.call(goog.global)};\ngoog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error(\"cannot instantiate an interface (no constructor defined).\");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;\ngoog.defineClass.createSealingConstructor_=function(a){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var b=function(){var c=a.apply(this,arguments)||this;c[goog.UID_PROPERTY_]=c[goog.UID_PROPERTY_];return c};return b};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\ngoog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.identity_=function(a){return a};\ngoog.createTrustedTypesPolicy=function(a){var b=null,c=goog.global.trustedTypes;if(!c||!c.createPolicy)return b;try{b=c.createPolicy(a,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(d){goog.logToConsole_(d.message)}return b};var google=window.google||{};\ngoogle.csi=function(){function a(h){var m=g?g:document.location.href;return(h=m.match(new RegExp(\"[?&]\"+h+\"=([^&#]+)\")))?h[1]:null}function b(h){window.jstiming.load.tick(h);f[h]=(new Date).getTime()}function c(){if(!l){var h=a(\"url\")||\"default\",m=window.__csi||{},r=m.c||\"default\",v=m.v||\"default\",p=window.encodeURIComponent?encodeURIComponent:escape;p={gadget:p(h),container:p(r),view:p(v)};var t=window.__dflags||{},u=[];m.g&&u.push(m.g);if(m.d)for(var n in t)\"control\"!==t[n]&&(p[n]=t[n],\"true\"===\nt[n]&&u.push(n));p.e=u.join(\",\");n=k?k:document.location.protocol;n=e[n];window.jstiming.load.name=[r,\"_\",v].join(\"\");window.jstiming.report(window.jstiming.load,p,n);(r=window.gadgets)&&r.rpc&&m.b&&(f.url=h,f.id=a(\"mid\"),r.rpc.call(null,\"time_iframe\",void 0,f));l=!0}}function d(h){window.addEventListener?window.addEventListener(\"load\",h,!1):window.attachEvent&&window.attachEvent(\"onload\",h)}var e={\"http:\":\"http://csi.gstatic.com/csi\",\"https:\":\"https://gg.google.com/csi\"},f={},g,k,l=!1,q=window.__csi||\n{};q.a?(d(function(){b(\"prt\")}),window.onbeforeunload=function(){c()}):d(function(){b(\"ol\");b(\"prt\");c()});return{reset_:function(){l=!1},mockHref_:function(h){g=h},mockProtocol_:function(h){k=h},report_:c,tickPrtAndReport:function(){b(\"prt\");c()},tickDl:function(){b(\"dl\")}}}();\n\u003c/script><script>\n/* mp-start */\nwindow['___jsl']=window['___jsl']||{};\n/* mp-end */\n\u003c/script><script>window['__isgadget']=true;\u003c/script><script>window['___jsl'] = window['___jsl'] || {};(window['___jsl']['ci'] = (window['___jsl']['ci'] || [])).push({\"core.io\":{\"jsonProxyUrl\":\"//%host%/gadgets/makeRequest\",\"proxyUrl\":\"//www-ig-opensocial.googleusercontent.com/gadgets/proxy/refresh=%refresh%&container=%container%%rewriteMime%&gadget=%gadget%/%rawurl%\"},\"shindig.auth\":{\"authToken\":\"\",\"trustedJson\":\"\"},\"core.util\":{\"core\":{}}});var safeJSON=window.safeJSON;\nvar tamings___=window.tamings___||[];\nvar bridge___;\nvar caja___=window.caja___;\nvar ___=window.___;;\nvar gapi=window.gapi||{};gapi.client=window.gapi&&window.gapi.client||{};\n;\n;\nvar gadgets=window.gadgets||{},shindig=window.shindig||{},osapi=window.osapi=window.osapi||{};\n;\nwindow['___cfg'] = window['___cfg'] || window['___gcfg'];;\nif(!window.gadgets[\"config\"]){gadgets.config=function(){var f;\nvar h={};\nvar b={};\nfunction c(j,l){for(var k in l){if(!l.hasOwnProperty(k)){continue\n}if(typeof j[k]===\"object\"&&typeof l[k]===\"object\"){c(j[k],l[k])\n}else{j[k]=l[k]\n}}}function i(){var j=document.scripts||document.getElementsByTagName(\"script\");\nif(!j||j.length==0){return null\n}var m;\nif(f.u){for(var k=0;\n!m&&k<j.length;\n++k){var l=j[k];\nif(l.src&&l.src.indexOf(f.u)==0){m=l\n}}}if(!m){m=j[j.length-1]\n}if(!m.src){return null\n}return m\n}function a(j){var k=\"\";\nif(j.nodeType==3||j.nodeType==4){k=j.nodeValue\n}else{if(j.innerText){k=j.innerText\n}else{if(j.innerHTML){k=j.innerHTML\n}else{if(j.firstChild){var l=[];\nfor(var m=j.firstChild;\nm;\nm=m.nextSibling){l.push(a(m))\n}k=l.join(\"\")\n}}}}return k\n}function e(k){if(!k){return{}\n}var j;\nwhile(k.charCodeAt(k.length-1)==0){k=k.substring(0,k.length-1)\n}try{j=(new Function(\"return (\"+k+\"\\n)\"))()\n}catch(l){}if(typeof j===\"object\"){return j\n}try{j=(new Function(\"return ({\"+k+\"\\n})\"))()\n}catch(l){}return typeof j===\"object\"?j:{}\n}function g(n){var p=window.___cfg;\nif(p){c(n,p)\n}var o=i();\nif(!o){return\n}var k=a(o);\nvar j=e(k);\nif(f.f&&f.f.length==1){var m=f.f[0];\nif(!j[m]){var l={};\nl[f.f[0]]=j;\nj=l\n}}c(n,j)\n}function d(o){for(var l in h){if(h.hasOwnProperty(l)){var n=h[l];\nfor(var m=0,k=n.length;\nm<k;\n++m){o(l,n[m])\n}}}}return{register:function(l,k,j,m){var n=h[l];\nif(!n){n=[];\nh[l]=n\n}n.push({validators:k||{},callback:j,callOnUpdate:m})\n},get:function(j){if(j){return b[j]||{}\n}return b\n},init:function(k,j){f=window.___jsl||{};\nc(b,k);\ng(b);\nvar l=window.___config||{};\nc(b,l);\nd(function(q,p){var o=b[q];\nif(o&&!j){var m=p.validators;\nfor(var n in m){if(m.hasOwnProperty(n)){if(!m[n](o[n])){throw new Error('Invalid config value \"'+o[n]+'\" for parameter \"'+n+'\" in component \"'+q+'\"')\n}}}}if(p.callback){p.callback(b)\n}})\n},update:function(k,p){var o=(window.gapi&&window.gapi[\"config\"]&&window.gapi[\"config\"][\"update\"]);\nif(!p&&o){o(k)\n}var n=[];\nd(function(q,j){if(k.hasOwnProperty(q)||(p&&b&&b[q])){if(j.callback&&j.callOnUpdate){n.push(j.callback)\n}}});\nb=p?{}:b||{};\nc(b,k);\nfor(var m=0,l=n.length;\nm<l;\n++m){n[m](b)\n}}}\n}()\n}else{gadgets.config=window.gadgets[\"config\"];\ngadgets.config.register=gadgets.config.register;\ngadgets.config.get=gadgets.config.get;\ngadgets.config.init=gadgets.config.init;\ngadgets.config.update=gadgets.config.update\n};;\ngadgets.log=(function(){var e=1;\nvar a=2;\nvar f=3;\nvar c=4;\nvar d=function(i){b(e,i)\n};\ngadgets.warn=function(i){b(a,i)\n};\ngadgets.error=function(i){b(f,i)\n};\ngadgets.debug=function(i){};\ngadgets.setLogLevel=function(i){h=i\n};\nfunction b(k,i){if(k<h||!g){return\n}if(k===a&&g.warn){g.warn(i)\n}else{if(k===f&&g.error){try{g.error(i)\n}catch(j){}}else{if(g.log){g.log(i)\n}}}}d.INFO=e;\nd.WARNING=a;\nd.NONE=c;\nvar h=e;\nvar g=window.console?window.console:window.opera?window.opera.postError:undefined;\nreturn d\n})();;\ntamings___.push(function(a){caja___.whitelistFuncs([[gadgets,\"log\"],[gadgets,\"warn\"],[gadgets,\"error\"],[gadgets,\"setLogLevel\"]]);\ncaja___.whitelistProps([[gadgets.log,\"INFO\"],[gadgets.log,\"WARNING\"],[gadgets.log,\"ERROR\"],[gadgets.log,\"NONE\"]])\n});;\n;\n(function(){gadgets.config.EnumValidator=function(d){var c=[];\nif(arguments.length>1){for(var b=0,a;\n(a=arguments[b]);\n++b){c.push(a)\n}}else{c=d\n}return function(f){for(var e=0,g;\n(g=c[e]);\n++e){if(f===c[e]){return true\n}}return false\n}\n};\ngadgets.config.RegExValidator=function(a){return function(b){return a.test(b)\n}\n};\ngadgets.config.ExistsValidator=function(a){return typeof a!==\"undefined\"\n};\ngadgets.config.NonEmptyStringValidator=function(a){return typeof a===\"string\"&&a.length>0\n};\ngadgets.config.BooleanValidator=function(a){return typeof a===\"boolean\"\n};\ngadgets.config.LikeValidator=function(a){return function(c){for(var d in a){if(a.hasOwnProperty(d)){var b=a[d];\nif(!b(c[d])){return false\n}}}return true\n}\n}\n})();;\ngadgets.util=gadgets.util||{};\n(function(){gadgets.util.makeClosure=function(d,f,e){var c=[];\nfor(var b=2,a=arguments.length;\nb<a;\n++b){c.push(arguments[b])\n}return function(){var g=c.slice();\nfor(var k=0,h=arguments.length;\nk<h;\n++k){g.push(arguments[k])\n}return f.apply(d,g)\n}\n};\ngadgets.util.makeEnum=function(b){var c,a,d={};\nfor(c=0;\n(a=b[c]);\n++c){d[a]=a\n}return d\n}\n})();;\ngadgets.util=gadgets.util||{};\n(function(){var c=\"http://www.w3.org/1999/xhtml\";\nfunction b(f,e){var h=e||{};\nfor(var g in h){if(h.hasOwnProperty(g)){f[g]=h[g]\n}}}function d(g,f){var e=[\"<\",g];\nvar i=f||{};\nfor(var h in i){if(i.hasOwnProperty(h)){e.push(\" \");\ne.push(h);\ne.push('=\"');\ne.push(gadgets.util.escapeString(i[h]));\ne.push('\"')\n}}e.push(\">\u003c/\");\ne.push(g);\ne.push(\">\");\nreturn e.join(\"\")\n}function a(f){var g=\"\";\nif(f.nodeType==3||f.nodeType==4){g=f.nodeValue\n}else{if(f.innerText){g=f.innerText\n}else{if(f.innerHTML){g=f.innerHTML\n}else{if(f.firstChild){var e=[];\nfor(var h=f.firstChild;\nh;\nh=h.nextSibling){e.push(a(h))\n}g=e.join(\"\")\n}}}}return g\n}gadgets.util.createElement=function(f){var e;\nif((!document.body)||document.body.namespaceURI){try{e=document.createElementNS(c,f)\n}catch(g){}}return e||document.createElement(f)\n};\ngadgets.util.createIframeElement=function(g){var i=gadgets.util.createElement(\"iframe\");\ntry{var e=d(\"iframe\",g);\nvar f=gadgets.util.createElement(e);\nif(f&&((!i)||((f.tagName==i.tagName)&&(f.namespaceURI==i.namespaceURI)))){i=f\n}}catch(h){}b(i,g);\nreturn i\n};\ngadgets.util.getBodyElement=function(){if(document.body){return document.body\n}try{var f=document.getElementsByTagNameNS(c,\"body\");\nif(f&&(f.length==1)){return f[0]\n}}catch(e){}return document.documentElement||document\n};\ngadgets.util.getInnerText=function(e){return a(e)\n}\n})();;\ngadgets.util=gadgets.util||{};\n(function(){gadgets.util.attachBrowserEvent=function(c,b,d,a){if(typeof c.addEventListener!=\"undefined\"){c.addEventListener(b,d,a)\n}else{if(typeof c.attachEvent!=\"undefined\"){c.attachEvent(\"on\"+b,d)\n}else{gadgets.warn(\"cannot attachBrowserEvent: \"+b)\n}}};\ngadgets.util.removeBrowserEvent=function(c,b,d,a){if(c.removeEventListener){c.removeEventListener(b,d,a)\n}else{if(c.detachEvent){c.detachEvent(\"on\"+b,d)\n}else{gadgets.warn(\"cannot removeBrowserEvent: \"+b)\n}}}\n})();;\ngadgets.util=gadgets.util||{};\n(function(){var a=[];\ngadgets.util.registerOnLoadHandler=function(b){a.push(b)\n};\ngadgets.util.runOnLoadHandlers=function(){for(var c=0,b=a.length;\nc<b;\n++c){a[c]()\n}}\n})();;\ntamings___.push(function(a){caja___.whitelistFuncs([[gadgets.util,\"registerOnLoadHandler\"]])\n});;\ngadgets.util=gadgets.util||{};\n(function(){var a={0:false,10:true,13:true,34:true,39:true,60:true,62:true,92:true,8232:true,8233:true,65282:true,65287:true,65308:true,65310:true,65340:true};\nfunction b(c,d){return String.fromCharCode(d)\n}gadgets.util.escape=function(c,g){if(!c){return c\n}else{if(typeof c===\"string\"){return gadgets.util.escapeString(c)\n}else{if(typeof c===\"Array\"){for(var f=0,d=c.length;\nf<d;\n++f){c[f]=gadgets.util.escape(c[f])\n}}else{if(typeof c===\"object\"&&g){var e={};\nfor(var h in c){if(c.hasOwnProperty(h)){e[gadgets.util.escapeString(h)]=gadgets.util.escape(c[h],true)\n}}return e\n}}}}return c\n};\ngadgets.util.escapeString=function(g){if(!g){return g\n}var d=[],f,h;\nfor(var e=0,c=g.length;\ne<c;\n++e){f=g.charCodeAt(e);\nh=a[f];\nif(h===true){d.push(\"&#\",f,\";\")\n}else{if(h!==false){d.push(g.charAt(e))\n}}}return d.join(\"\")\n};\ngadgets.util.unescapeString=function(c){if(!c){return c\n}return c.replace(/&#([0-9]+);/g,b)\n}\n})();;\ntamings___.push(function(a){caja___.whitelistFuncs([[gadgets.util,\"escape\"],[gadgets.util,\"escapeString\"],[gadgets.util,\"unescapeString\"]])\n});;\ngadgets.util=gadgets.util||{};\n(function(){var a=null;\nfunction b(e){var f;\nvar c=e.indexOf(\"?\");\nvar d=e.indexOf(\"#\");\nif(d===-1){f=e.substr(c+1)\n}else{f=[e.substr(c+1,d-c-1),\"&\",e.substr(d+1)].join(\"\")\n}return f.split(\"&\")\n}gadgets.util.getUrlParameters=function(p){var d=typeof p===\"undefined\";\nif(a!==null&&d){return a\n}var l={};\nvar f=b(p||window.location.href);\nvar n=window.decodeURIComponent?decodeURIComponent:unescape;\nfor(var h=0,g=f.length;\nh<g;\n++h){var m=f[h].indexOf(\"=\");\nif(m===-1){continue\n}var c=f[h].substring(0,m);\nvar o=f[h].substring(m+1);\no=o.replace(/\\+/g,\" \");\ntry{l[c]=n(o)\n}catch(k){}}if(d){a=l\n}return l\n};\ngadgets.util.getUrlParameters()\n})();;\ntamings___.push(function(a){caja___.whitelistFuncs([[gadgets.util,\"getUrlParameters\"]])\n});;\ngadgets.util=gadgets.util||{};\n(function(){var b={};\nvar a={};\nfunction c(d){b=d[\"core.util\"]||{}\n}if(gadgets.config){gadgets.config.register(\"core.util\",null,c)\n}gadgets.util.getFeatureParameters=function(d){return typeof b[d]===\"undefined\"?null:b[d]\n};\ngadgets.util.hasFeature=function(d){return typeof b[d]!==\"undefined\"\n};\ngadgets.util.getServices=function(){return a\n}\n})();;\ntamings___.push(function(a){caja___.whitelistFuncs([[gadgets.util,\"getFeatureParameters\"],[gadgets.util,\"hasFeature\"]])\n});;\nshindig.Auth=function(){var authToken=null;\nvar trusted=null;\nfunction addParamsToToken(urlParams){var args=authToken.split(\"&\");\nfor(var i=0;\ni<args.length;\ni++){var nameAndValue=args[i].split(\"=\");\nif(nameAndValue.length===2){var name=nameAndValue[0];\nvar value=nameAndValue[1];\nif(value===\"$\"){value=encodeURIComponent(urlParams[name]);\nargs[i]=name+\"=\"+value\n}}}authToken=args.join(\"&\")\n}function init(configuration){var urlParams=gadgets.util.getUrlParameters();\nvar config=configuration[\"shindig.auth\"]||{};\nif(config.authToken){authToken=config.authToken\n}else{if(urlParams.st){authToken=urlParams.st\n}}if(authToken!==null){addParamsToToken(urlParams)\n}if(config.trustedJson){trusted=(eval(\"(\"+config.trustedJson+\")\"))\n}}gadgets.config.register(\"shindig.auth\",null,init);\nreturn{getSecurityToken:function(){return authToken\n},updateSecurityToken:function(newToken){authToken=newToken\n},getTrustedData:function(){return trusted\n}}\n};;\nshindig.auth=new shindig.Auth();;\nif(window.JSON&&window.JSON.parse&&window.JSON.stringify){gadgets.json=(function(){var a=/___$/;\nfunction b(d,e){var c=this[d];\nreturn c\n}return{parse:function(d){try{return window.JSON.parse(d)\n}catch(c){return false\n}},stringify:function(d){var h=window.JSON.stringify;\nfunction f(e){return h.call(this,e,b)\n}var g=(Array.prototype.toJSON&&h([{x:1}])==='\"[{\\\\\"x\\\\\": 1}]\"')?f:h;\ntry{return g(d,function(i,e){return !a.test(i)?e:void 0\n})\n}catch(c){return null\n}}}\n})()\n};;\n;\nif(!(window.JSON&&window.JSON.parse&&window.JSON.stringify)){gadgets.json=function(){function f(n){return n<10?\"0\"+n:n\n}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),\"-\",f(this.getUTCMonth()+1),\"-\",f(this.getUTCDate()),\"T\",f(this.getUTCHours()),\":\",f(this.getUTCMinutes()),\":\",f(this.getUTCSeconds()),\"Z\"].join(\"\")\n};\nvar m={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"};\nfunction stringify(value){var a,i,k,l,r=/[\\\"\\\\\\x00-\\x1f\\x7f-\\x9f]/g,v;\nswitch(typeof value){case\"string\":return r.test(value)?'\"'+value.replace(r,function(a){var c=m[a];\nif(c){return c\n}c=a.charCodeAt();\nreturn\"\\\\u00\"+Math.floor(c/16).toString(16)+(c%16).toString(16)\n})+'\"':'\"'+value+'\"';\ncase\"number\":return isFinite(value)?String(value):\"null\";\ncase\"boolean\":case\"null\":return String(value);\ncase\"object\":if(!value){return\"null\"\n}a=[];\nif(typeof value.length===\"number\"&&!value.propertyIsEnumerable(\"length\")){l=value.length;\nfor(i=0;\ni<l;\ni+=1){a.push(stringify(value[i])||\"null\")\n}return\"[\"+a.join(\",\")+\"]\"\n}for(k in value){if(/___$/.test(k)){continue\n}if(value.hasOwnProperty(k)){if(typeof k===\"string\"){v=stringify(value[k]);\nif(v){a.push(stringify(k)+\":\"+v)\n}}}}return\"{\"+a.join(\",\")+\"}\"\n}return\"\"\n}return{stringify:stringify,parse:function(text){if(/^[\\],:{}\\s]*$/.test(text.replace(/\\\\[\"\\\\\\/b-u]/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\"))){return eval(\"(\"+text+\")\")\n}return false\n}}\n}()\n};;\ngadgets.json.flatten=function(c){var d={};\nif(c===null||c===undefined){return d\n}for(var a in c){if(c.hasOwnProperty(a)){var b=c[a];\nif(null===b||undefined===b){continue\n}d[a]=(typeof b===\"string\")?b:gadgets.json.stringify(b)\n}}return d\n};;\ngadgets.io=function(){var config={};\nvar oauthState;\nfunction makeXhr(){var x;\nvar wrapperXhr=window.shindig&&window.shindig[\"xhrwrapper\"]&&window.shindig[\"xhrwrapper\"][\"createXHR\"];\nif(wrapperXhr){return wrapperXhr()\n}else{if(typeof ActiveXObject!=\"undefined\"){x=new ActiveXObject(\"Msxml2.XMLHTTP\");\nif(!x){x=new ActiveXObject(\"Microsoft.XMLHTTP\")\n}return x\n}else{if(typeof XMLHttpRequest!=\"undefined\"||window.XMLHttpRequest){return new window.XMLHttpRequest()\n}else{throw (\"no xhr available\")\n}}}}function hadError(xobj,callback){if(xobj.readyState!==4){return true\n}try{if(xobj.status!==200){var error=(\"\"+xobj.status);\nif(xobj.responseText){error=error+\" \"+xobj.responseText\n}callback({errors:[error],rc:xobj.status,text:xobj.responseText});\nreturn true\n}}catch(e){callback({errors:[e.number+\" Error not specified\"],rc:e.number,text:e.description});\nreturn true\n}return false\n}function processNonProxiedResponse(url,callback,params,xobj){if(hadError(xobj,callback)){return\n}var data={body:xobj.responseText};\ncallback(transformResponseData(params,data))\n}var UNPARSEABLE_CRUFT=\"throw 1; < don't be evil' >\";\nfunction processResponse(url,callback,params,xobj){if(hadError(xobj,callback)){return\n}var txt=xobj.responseText;\nvar offset=txt.indexOf(UNPARSEABLE_CRUFT)+UNPARSEABLE_CRUFT.length;\nif(offset<UNPARSEABLE_CRUFT.length){return\n}txt=txt.substr(offset);\nvar data=eval(\"(\"+txt+\")\");\ndata=data[url];\nif(data.oauthState){oauthState=data.oauthState\n}if(data.st){shindig.auth.updateSecurityToken(data.st)\n}callback(transformResponseData(params,data))\n}function transformResponseData(params,data){var resp={text:data.body,rc:data.rc||200,headers:data.headers,oauthApprovalUrl:data.oauthApprovalUrl,oauthError:data.oauthError,oauthErrorText:data.oauthErrorText,errors:[]};\nif(resp.rc<200||resp.rc>=400){resp.errors=[resp.rc+\" Error\"]\n}else{if(resp.text){if(resp.rc>=300&&resp.rc<400){params.CONTENT_TYPE=\"TEXT\"\n}switch(params.CONTENT_TYPE){case\"JSON\":case\"FEED\":resp.data=gadgets.json.parse(resp.text);\nif(!resp.data){resp.errors.push(\"500 Failed to parse JSON\");\nresp.rc=500;\nresp.data=null\n}break;\ncase\"DOM\":var dom;\nif(typeof ActiveXObject!=\"undefined\"){dom=new ActiveXObject(\"Microsoft.XMLDOM\");\ndom.async=false;\ndom.validateOnParse=false;\ndom.resolveExternals=false;\nif(!dom.loadXML(resp.text)){resp.errors.push(\"500 Failed to parse XML\");\nresp.rc=500\n}else{resp.data=dom\n}}else{var parser=new DOMParser();\ndom=parser.parseFromString(resp.text,\"text/xml\");\nif(\"parsererror\"===dom.documentElement.nodeName){resp.errors.push(\"500 Failed to parse XML\");\nresp.rc=500\n}else{resp.data=dom\n}}break;\ndefault:resp.data=resp.text;\nbreak\n}}}return resp\n}function makeXhrRequest(realUrl,proxyUrl,callback,paramData,method,params,processResponseFunction,opt_headers){var xhr=makeXhr();\nif(proxyUrl.indexOf(\"//\")==0){proxyUrl=document.location.protocol+proxyUrl\n}xhr.open(method,proxyUrl,true);\nif(callback){xhr.onreadystatechange=gadgets.util.makeClosure(null,processResponseFunction,realUrl,callback,params,xhr)\n}if(paramData!==null){var contentTypeHeader=\"Content-Type\";\nvar contentType=\"application/x-www-form-urlencoded\";\nif(typeof opt_headers===\"string\"){contentType=opt_headers;\nopt_headers={}\n}var headers=opt_headers||{};\nif(!headers[contentTypeHeader]){headers[contentTypeHeader]=contentType\n}for(var headerName in headers){xhr.setRequestHeader(headerName,headers[headerName])\n}}xhr.send(paramData)\n}function respondWithPreload(postData,params,callback){if(gadgets.io.preloaded_&&postData.httpMethod===\"GET\"){for(var i=0;\ni<gadgets.io.preloaded_.length;\ni++){var preload=gadgets.io.preloaded_[i];\nif(preload&&(preload.id===postData.url)){delete gadgets.io.preloaded_[i];\nif(preload.rc!==200){callback({rc:preload.rc,errors:[preload.rc+\" Error\"]})\n}else{if(preload.oauthState){oauthState=preload.oauthState\n}var resp={body:preload.body,rc:preload.rc,headers:preload.headers,oauthApprovalUrl:preload.oauthApprovalUrl,oauthError:preload.oauthError,oauthErrorText:preload.oauthErrorText,errors:[]};\ncallback(transformResponseData(params,resp))\n}return true\n}}}return false\n}function init(configuration){config=configuration[\"core.io\"]||{}\n}gadgets.config.register(\"core.io\",null,init);\nreturn{makeRequest:function(url,callback,opt_params){var params=opt_params||{};\nvar httpMethod=params.METHOD||\"GET\";\nvar refreshInterval=params.REFRESH_INTERVAL;\nvar auth,st;\nif(params.AUTHORIZATION&&params.AUTHORIZATION!==\"NONE\"){auth=params.AUTHORIZATION.toLowerCase();\nst=shindig.auth.getSecurityToken()\n}else{if(httpMethod===\"GET\"&&refreshInterval===undefined){refreshInterval=3600\n}}var signOwner=true;\nif(typeof params.OWNER_SIGNED!==\"undefined\"){signOwner=params.OWNER_SIGNED\n}var signViewer=true;\nif(typeof params.VIEWER_SIGNED!==\"undefined\"){signViewer=params.VIEWER_SIGNED\n}var headers=params.HEADERS||{};\nif(httpMethod===\"POST\"&&!headers[\"Content-Type\"]){headers[\"Content-Type\"]=\"application/x-www-form-urlencoded\"\n}var urlParams=gadgets.util.getUrlParameters();\nvar paramData={url:url,httpMethod:httpMethod,headers:gadgets.io.encodeValues(headers,false),postData:params.POST_DATA||\"\",authz:auth||\"\",st:st||\"\",contentType:params.CONTENT_TYPE||\"TEXT\",numEntries:params.NUM_ENTRIES||\"3\",getSummaries:!!params.GET_SUMMARIES,signOwner:signOwner,signViewer:signViewer,gadget:urlParams.url,container:urlParams.container||urlParams.synd||\"default\",bypassSpecCache:gadgets.util.getUrlParameters()[\"nocache\"]||\"\",getFullHeaders:!!params.GET_FULL_HEADERS};\nif(auth===\"oauth\"||auth===\"signed\"){if(gadgets.io.oauthReceivedCallbackUrl_){paramData.OAUTH_RECEIVED_CALLBACK=gadgets.io.oauthReceivedCallbackUrl_;\ngadgets.io.oauthReceivedCallbackUrl_=null\n}paramData.oauthState=oauthState||\"\";\nfor(var opt in params){if(params.hasOwnProperty(opt)){if(opt.indexOf(\"OAUTH_\")===0){paramData[opt]=params[opt]\n}}}}var proxyUrl=config.jsonProxyUrl.replace(\"%host%\",document.location.host);\nif(!respondWithPreload(paramData,params,callback)){if(httpMethod===\"GET\"&&refreshInterval>0){var extraparams=\"?refresh=\"+refreshInterval+\"&\"+gadgets.io.encodeValues(paramData);\nmakeXhrRequest(url,proxyUrl+extraparams,callback,null,\"GET\",params,processResponse)\n}else{makeXhrRequest(url,proxyUrl,callback,gadgets.io.encodeValues(paramData),\"POST\",params,processResponse)\n}}},makeNonProxiedRequest:function(relativeUrl,callback,opt_params,opt_headers){var params=opt_params||{};\nmakeXhrRequest(relativeUrl,relativeUrl,callback,params.POST_DATA,params.METHOD,params,processNonProxiedResponse,opt_headers)\n},clearOAuthState:function(){oauthState=undefined\n},encodeValues:function(fields,opt_noEscaping){var escape=!opt_noEscaping;\nvar buf=[];\nvar first=false;\nfor(var i in fields){if(fields.hasOwnProperty(i)&&!/___$/.test(i)){if(!first){first=true\n}else{buf.push(\"&\")\n}buf.push(escape?encodeURIComponent(String(i)):i);\nbuf.push(\"=\");\nbuf.push(escape?encodeURIComponent(String(fields[i])):fields[i])\n}}return buf.join(\"\")\n},getProxyUrl:function(url,opt_params){var params=opt_params||{};\nvar refresh=params.REFRESH_INTERVAL;\nif(refresh===undefined){refresh=\"3600\"\n}var urlParams=gadgets.util.getUrlParameters();\nvar rewriteMimeParam=params.rewriteMime?\"&rewriteMime=\"+encodeURIComponent(String(params.rewriteMime)):\"\";\nvar ret=config.proxyUrl.replace(\"%url%\",encodeURIComponent(url)).replace(\"%host%\",document.location.host).replace(\"%rawurl%\",url).replace(\"%refresh%\",encodeURIComponent(String(refresh))).replace(\"%gadget%\",encodeURIComponent(urlParams.url)).replace(\"%container%\",encodeURIComponent(urlParams.container||urlParams.synd||\"default\")).replace(\"%rewriteMime%\",rewriteMimeParam);\nif(ret.indexOf(\"//\")==0){ret=window.location.protocol+ret\n}return ret\n}}\n}();\ngadgets.io.RequestParameters=gadgets.util.makeEnum([\"METHOD\",\"CONTENT_TYPE\",\"POST_DATA\",\"HEADERS\",\"AUTHORIZATION\",\"NUM_ENTRIES\",\"GET_SUMMARIES\",\"GET_FULL_HEADERS\",\"REFRESH_INTERVAL\",\"OAUTH_SERVICE_NAME\",\"OAUTH_USE_TOKEN\",\"OAUTH_TOKEN_NAME\",\"OAUTH_REQUEST_TOKEN\",\"OAUTH_REQUEST_TOKEN_SECRET\",\"OAUTH_RECEIVED_CALLBACK\"]);\ngadgets.io.MethodType=gadgets.util.makeEnum([\"GET\",\"POST\",\"PUT\",\"DELETE\",\"HEAD\"]);\ngadgets.io.ContentType=gadgets.util.makeEnum([\"TEXT\",\"DOM\",\"JSON\",\"FEED\"]);\ngadgets.io.AuthorizationType=gadgets.util.makeEnum([\"NONE\",\"SIGNED\",\"OAUTH\"]);;\ntamings___.push(function(a){caja___.whitelistFuncs([[gadgets.io,\"encodeValues\"],[gadgets.io,\"getProxyUrl\"],[gadgets.io,\"makeRequest\"]])\n});;\n(function(){var i=null;\nvar j={};\nvar f=gadgets.util.escapeString;\nvar d={};\nvar h={};\nvar e=\"en\";\nvar b=\"US\";\nvar a=0;\nfunction c(){var l=gadgets.util.getUrlParameters();\nfor(var k in l){if(l.hasOwnProperty(k)){if(k.indexOf(\"up_\")===0&&k.length>3){j[k.substr(3)]=String(l[k])\n}else{if(k===\"country\"){b=l[k]\n}else{if(k===\"lang\"){e=l[k]\n}else{if(k===\"mid\"){a=l[k]\n}}}}}}}function g(){for(var k in h){if(typeof j[k]===\"undefined\"){j[k]=h[k]\n}}}gadgets.Prefs=function(){if(!i){c();\ng();\ni=this\n}return i\n};\ngadgets.Prefs.setInternal_=function(n,p){var o=false;\nif(typeof n===\"string\"){if(!j.hasOwnProperty(n)||j[n]!==p){o=true\n}j[n]=p\n}else{for(var m in n){if(n.hasOwnProperty(m)){var l=n[m];\nif(!j.hasOwnProperty(m)||j[m]!==l){o=true\n}j[m]=l\n}}}return o\n};\ngadgets.Prefs.setMessages_=function(k){d=k\n};\ngadgets.Prefs.setDefaultPrefs_=function(k){h=k\n};\ngadgets.Prefs.prototype.getString=function(k){if(k===\".lang\"){k=\"lang\"\n}return j[k]?f(j[k]):\"\"\n};\ngadgets.Prefs.prototype.setDontEscape_=function(){f=function(l){return l\n}\n};\ngadgets.Prefs.prototype.getInt=function(k){var l=parseInt(j[k],10);\nreturn isNaN(l)?0:l\n};\ngadgets.Prefs.prototype.getFloat=function(k){var l=parseFloat(j[k]);\nreturn isNaN(l)?0:l\n};\ngadgets.Prefs.prototype.getBool=function(k){var l=j[k];\nif(l){return l===\"true\"||l===true||!!parseInt(l,10)\n}return false\n};\ngadgets.Prefs.prototype.set=function(k,l){throw new Error(\"setprefs feature required to make this call.\")\n};\ngadgets.Prefs.prototype.getArray=function(n){var o=j[n];\nif(o){var k=o.split(\"|\");\nfor(var m=0,l=k.length;\nm<l;\n++m){k[m]=f(k[m].replace(/%7C/g,\"|\"))\n}return k\n}return[]\n};\ngadgets.Prefs.prototype.setArray=function(k,l){throw new Error(\"setprefs feature required to make this call.\")\n};\ngadgets.Prefs.prototype.getMsg=function(k){return d[k]||\"\"\n};\ngadgets.Prefs.prototype.getCountry=function(){return b\n};\ngadgets.Prefs.prototype.getLang=function(){return e\n};\ngadgets.Prefs.prototype.getModuleId=function(){return a\n}\n})();;\ntamings___.push(function(a){caja___.whitelistCtors([[gadgets,\"Prefs\",Object]]);\ncaja___.whitelistMeths([[gadgets.Prefs,\"getArray\"],[gadgets.Prefs,\"getBool\"],[gadgets.Prefs,\"getCountry\"],[gadgets.Prefs,\"getFloat\"],[gadgets.Prefs,\"getInt\"],[gadgets.Prefs,\"getLang\"],[gadgets.Prefs,\"getMsg\"],[gadgets.Prefs,\"getString\"],[gadgets.Prefs,\"set\"],[gadgets.Prefs,\"setArray\"]])\n});;\nvar JSON=window.JSON||gadgets.json;\nvar _IG_Prefs=(function(){var a=null;\nvar b=function(){if(!a){a=new gadgets.Prefs();\na.setDontEscape_()\n}return a\n};\nb._parseURL=gadgets.Prefs.parseUrl;\nreturn b\n})();\nfunction _IG_Fetch_wrapper(b,a){b(a.data?a.data:\"\")\n}function _IG_FetchContent(b,g,c){var f=c||{};\nif(f.refreshInterval){f.REFRESH_INTERVAL=f.refreshInterval\n}else{f.REFRESH_INTERVAL=3600\n}for(var e in f){var d=f[e];\ndelete f[e];\nf[e.toUpperCase()]=d\n}var a=gadgets.util.makeClosure(null,_IG_Fetch_wrapper,g);\ngadgets.io.makeRequest(b,a,f)\n}function _IG_FetchXmlContent(b,e,c){var d=c||{};\nif(d.refreshInterval){d.REFRESH_INTERVAL=d.refreshInterval\n}else{d.REFRESH_INTERVAL=3600\n}d.CONTENT_TYPE=\"DOM\";\nvar a=gadgets.util.makeClosure(null,_IG_Fetch_wrapper,e);\ngadgets.io.makeRequest(b,a,d)\n}function _IG_FetchFeedAsJSON(b,f,c,a,d){var e=d||{};\ne.CONTENT_TYPE=\"FEED\";\ne.NUM_ENTRIES=c;\ne.GET_SUMMARIES=a;\ngadgets.io.makeRequest(b,function(j){j.data=j.data||{};\nif(j.errors&&j.errors.length>0){j.data.ErrorMsg=j.errors[0]\n}if(j.data.link){j.data.URL=b\n}if(j.data.title){j.data.Title=j.data.title\n}if(j.data.description){j.data.Description=j.data.description\n}if(j.data.link){j.data.Link=j.data.link\n}if(j.data.items&&j.data.items.length>0){j.data.Entry=j.data.items;\nfor(var h=0;\nh<j.data.Entry.length;\n++h){var i=j.data.Entry[h];\ni.Title=i.title;\ni.Link=i.link;\ni.Summary=i.summary||i.description;\ni.Date=i.pubDate\n}}for(var g=0;\ng<j.data.Entry.length;\n++g){var i=j.data.Entry[g];\ni.Date=(i.Date/1000)\n}f(j.data)\n},e)\n}function _IG_GetCachedUrl(a,b){var c=b||{};\nc.REFRESH_INTERVAL=3600;\nif(c.refreshInterval){c.REFRESH_INTERVAL=c.refreshInterval\n}return gadgets.io.getProxyUrl(a,c)\n}function _IG_GetImageUrl(a,b){return _IG_GetCachedUrl(a,b)\n}function _IG_GetImage(b){var a=document.createElement(\"img\");\na.src=_IG_GetCachedUrl(b);\nreturn a\n}function _IG_RegisterOnloadHandler(a){gadgets.util.registerOnLoadHandler(a)\n}function _IG_Callback(b,c){var a=arguments;\nreturn function(){var d=Array.prototype.slice.call(arguments);\nb.apply(null,d.concat(Array.prototype.slice.call(a,1)))\n}\n}var _args=gadgets.util.getUrlParameters;\nfunction _gel(a){return document.getElementById?document.getElementById(a):null\n}function _gelstn(a){if(a===\"*\"&&document.all){return document.all\n}return document.getElementsByTagName?document.getElementsByTagName(a):[]\n}function _gelsbyregex(d,f){var c=_gelstn(d);\nvar e=[];\nfor(var b=0,a=c.length;\nb<a;\n++b){if(f.test(c[b].id)){e.push(c[b])\n}}return e\n}function _esc(a){return window.encodeURIComponent?encodeURIComponent(a):escape(a)\n}function _unesc(a){return window.decodeURIComponent?decodeURIComponent(a):unescape(a)\n}function _hesc(a){return gadgets.util.escapeString(a)\n}function _striptags(a){return a.replace(/<\\/?[^>]+>/g,\"\")\n}function _trim(a){return a.replace(/^\\s+|\\s+$/g,\"\")\n}function _toggle(a){a=(typeof a===\"string\")?_gel(a):a;\nif(a!==null){if(a.style.display.length===0||a.style.display===\"block\"){a.style.display=\"none\"\n}else{if(a.style.display===\"none\"){a.style.display=\"block\"\n}}}}var _uid=(function(){var a=0;\nreturn function(){return a++\n}\n})();\nfunction _min(d,c){return(d<c?d:c)\n}function _max(d,c){return(d>c?d:c)\n}function _exportSymbols(a,c){var m=window;\nvar f=a.split(\".\");\nfor(var h=0,g=f.length;\nh<g;\nh++){var b=f[h];\nm[b]=m[b]||{};\nm=m[b]\n}for(var e=0,d=c.length;\ne<d;\ne+=2){m[c[e]]=c[e+1]\n}}function _IG_AddDOMEventHandler(c,b,a){gadgets.warn(\"_IG_AddDOMEventHandler not implemented - see SHINDIG-198\")\n};;\n(function(){function f(b,c,a){b={msg:b||\"\",line:a||0,jsUrl:0==window.location.href.indexOf(c)?\"-top-\":c,fullUrl:window.location};try{if(++window._varz_numerrors,gadgets&&!(3<e)){c={};c[gadgets.io.RequestParameters.METHOD]=gadgets.io.MethodType.GET;a=encodeURIComponent||escape;var d=gadgets.util.getUrlParameters(),g=d.container||d.synd,h=d.gadget||d.url,l=[\"/gadgets/evthdlr?t=err&gadget=\",a(h),\"&container=\",a(g),\"&jsurl=\",a(b.jsUrl),\"&line=\",a(b.line),\"&session=\",k,\"&count=\",e,\"&msg=\",a(b.msg)];gadgets.io.makeNonProxiedRequest(l.join(\"\"),\nnull,c);e++}}catch(m){}}window._varz_numerrors=0;var k=(new Date).getTime(),e=0;-1==window.location.href.indexOf(\"&debug=1\")&&-1==window.location.href.indexOf(\"?debug=1\")&&(window.onerror=f)})();\n;\n(function(){var l=null,q=function(){function e(a){a=(\"\"+a).match(w);return!a?l:new b(p(a[1]),p(a[2]),p(a[3]),p(a[4]),p(a[5]),p(a[6]),p(a[7]))}function x(a,e){return\"string\"==typeof a?encodeURI(a).replace(e,y):l}function y(a){a=a.charCodeAt(0);return\"%\"+\"0123456789ABCDEF\".charAt(a>>4&15)+\"0123456789ABCDEF\".charAt(a&15)}function u(a){if(a===l)return l;for(var a=a.replace(/(^|\\/)\\.(?:\\/|$)/g,\"$1\").replace(/\\/{2,}/g,\"/\"),e=z,m;(m=a.replace(e,\"$1\"))!=a;a=m);return a}function v(a,e){var m=a.R(),b=e.K();b?m.fa(e.j):\nb=e.V();b?m.ca(e.n):b=e.W();b?m.da(e.k):b=e.Y();var s=e.g,g=u(s);if(b)m.ba(e.T()),g=g&&g.replace(j,\"\");else if(b=!!s){if(47!==g.charCodeAt(0))var g=u(m.g||\"\").replace(j,\"\"),p=g.lastIndexOf(\"/\")+1,g=u((p?g.substring(0,p):\"\")+u(s)).replace(j,\"\")}else g=g&&g.replace(j,\"\"),g!==s&&m.G(g);b?m.G(g):b=e.Z();b?m.M(e.l):b=e.X();b&&m.ea(e.o);return m}function b(a,e,b,j,s,g,p){this.j=a;this.n=e;this.k=b;this.h=j;this.g=s;this.l=g;this.o=p}function p(a){return\"string\"==typeof a&&0<a.length?a:l}var z=RegExp(/(\\/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)\\/\\.\\.(?:\\/|$)/),\nj=/^(?:\\.\\.\\/)*(?:\\.\\.$)?/;b.prototype.toString=function(){var a=[];l!==this.j&&a.push(this.j,\":\");l!==this.k&&(a.push(\"//\"),l!==this.n&&a.push(this.n,\"@\"),a.push(this.k),l!==this.h&&a.push(\":\",this.h.toString()));l!==this.g&&a.push(this.g);l!==this.l&&a.push(\"?\",this.l);l!==this.o&&a.push(\"#\",this.o);return a.join(\"\")};b.prototype.R=function(){return new b(this.j,this.n,this.k,this.h,this.g,this.l,this.o)};b.prototype.U=function(){return this.j&&decodeURIComponent(this.j).toLowerCase()};b.prototype.fa=\nfunction(a){this.j=a?a:l};b.prototype.K=function(){return l!==this.j};b.prototype.ca=function(a){this.n=a?a:l};b.prototype.V=function(){return l!==this.n};b.prototype.da=function(a){this.k=a?a:l;this.G(this.g)};b.prototype.W=function(){return l!==this.k};b.prototype.T=function(){return this.h&&decodeURIComponent(this.h)};b.prototype.ba=function(a){if(a){a=Number(a);if(a!==(a&65535))throw Error(\"Bad port number \"+a);this.h=\"\"+a}else this.h=l};b.prototype.Y=function(){return l!==this.h};b.prototype.S=\nfunction(){return this.g&&decodeURIComponent(this.g)};b.prototype.G=function(a){a?(a=\"\"+a,this.g=!this.k||/^\\//.test(a)?a:\"/\"+a):this.g=l};b.prototype.M=function(a){this.l=a?a:l};b.prototype.Z=function(){return l!==this.l};b.prototype.aa=function(a){if(\"object\"===typeof a&&!(a instanceof Array)&&(a instanceof Object||\"[object Array]\"!==Object.prototype.toString.call(a))){var e=[],b=-1,j;for(j in a){var s=a[j];\"string\"===typeof s&&(e[++b]=j,e[++b]=s)}a=e}for(var e=[],b=\"\",g=0;g<a.length;)j=a[g++],\ns=a[g++],e.push(b,encodeURIComponent(j.toString())),b=\"&\",s&&e.push(\"=\",encodeURIComponent(s.toString()));this.l=e.join(\"\")};b.prototype.ea=function(a){this.o=a?a:l};b.prototype.X=function(){return l!==this.o};var w=/^(?:([^:/?#]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$/,B=/[#\\/\\?@]/g,C=/[\\#\\?]/g;b.parse=e;b.create=function(a,e,j,p,s,g,u){a=new b(x(a,B),x(e,B),\"string\"==typeof j?encodeURIComponent(j):l,0<p?p.toString():l,x(s,C),l,\"string\"==typeof u?encodeURIComponent(u):\nl);g&&(\"string\"===typeof g?a.M(g.replace(/[^?&=0-9A-Za-z_\\-~.%]/g,y)):a.aa(g));return a};b.$=v;b.ja=u;b.va={pa:function(a){return/\\.html$/.test(e(a).S())?\"text/html\":\"application/javascript\"},$:function(a,b){return a?v(e(a),e(b)).toString():\"\"+b}};return b}();\"undefined\"!==typeof window&&(window.URI=q);var M={f:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};M.atype=M.f;\nM.w={\"*::class\":9,\"*::dir\":0,\"*::draggable\":0,\"*::hidden\":0,\"*::id\":4,\"*::inert\":0,\"*::itemprop\":0,\"*::itemref\":6,\"*::itemscope\":0,\"*::lang\":0,\"*::onblur\":2,\"*::onchange\":2,\"*::onclick\":2,\"*::ondblclick\":2,\"*::onerror\":2,\"*::onfocus\":2,\"*::onkeydown\":2,\"*::onkeypress\":2,\"*::onkeyup\":2,\"*::onload\":2,\"*::onmousedown\":2,\"*::onmousemove\":2,\"*::onmouseout\":2,\"*::onmouseover\":2,\"*::onmouseup\":2,\"*::onreset\":2,\"*::onscroll\":2,\"*::onselect\":2,\"*::onsubmit\":2,\"*::ontouchcancel\":2,\"*::ontouchend\":2,\"*::ontouchenter\":2,\n\"*::ontouchleave\":2,\"*::ontouchmove\":2,\"*::ontouchstart\":2,\"*::onunload\":2,\"*::spellcheck\":0,\"*::style\":3,\"*::tabindex\":0,\"*::title\":0,\"*::translate\":0,\"a::accesskey\":0,\"a::coords\":0,\"a::href\":1,\"a::hreflang\":0,\"a::name\":7,\"a::onblur\":2,\"a::onfocus\":2,\"a::shape\":0,\"a::target\":10,\"a::type\":0,\"area::accesskey\":0,\"area::alt\":0,\"area::coords\":0,\"area::href\":1,\"area::nohref\":0,\"area::onblur\":2,\"area::onfocus\":2,\"area::shape\":0,\"area::target\":10,\"audio::controls\":0,\"audio::loop\":0,\"audio::mediagroup\":5,\n\"audio::muted\":0,\"audio::preload\":0,\"audio::src\":1,\"bdo::dir\":0,\"blockquote::cite\":1,\"br::clear\":0,\"button::accesskey\":0,\"button::disabled\":0,\"button::name\":8,\"button::onblur\":2,\"button::onfocus\":2,\"button::type\":0,\"button::value\":0,\"canvas::height\":0,\"canvas::width\":0,\"caption::align\":0,\"col::align\":0,\"col::char\":0,\"col::charoff\":0,\"col::span\":0,\"col::valign\":0,\"col::width\":0,\"colgroup::align\":0,\"colgroup::char\":0,\"colgroup::charoff\":0,\"colgroup::span\":0,\"colgroup::valign\":0,\"colgroup::width\":0,\n\"command::checked\":0,\"command::command\":5,\"command::disabled\":0,\"command::icon\":1,\"command::label\":0,\"command::radiogroup\":0,\"command::type\":0,\"data::value\":0,\"del::cite\":1,\"del::datetime\":0,\"details::open\":0,\"dir::compact\":0,\"div::align\":0,\"dl::compact\":0,\"fieldset::disabled\":0,\"font::color\":0,\"font::face\":0,\"font::size\":0,\"form::accept\":0,\"form::action\":1,\"form::autocomplete\":0,\"form::enctype\":0,\"form::method\":0,\"form::name\":7,\"form::novalidate\":0,\"form::onreset\":2,\"form::onsubmit\":2,\"form::target\":10,\n\"h1::align\":0,\"h2::align\":0,\"h3::align\":0,\"h4::align\":0,\"h5::align\":0,\"h6::align\":0,\"hr::align\":0,\"hr::noshade\":0,\"hr::size\":0,\"hr::width\":0,\"iframe::align\":0,\"iframe::frameborder\":0,\"iframe::height\":0,\"iframe::marginheight\":0,\"iframe::marginwidth\":0,\"iframe::width\":0,\"img::align\":0,\"img::alt\":0,\"img::border\":0,\"img::height\":0,\"img::hspace\":0,\"img::ismap\":0,\"img::name\":7,\"img::src\":1,\"img::usemap\":11,\"img::vspace\":0,\"img::width\":0,\"input::accept\":0,\"input::accesskey\":0,\"input::align\":0,\"input::alt\":0,\n\"input::autocomplete\":0,\"input::checked\":0,\"input::disabled\":0,\"input::inputmode\":0,\"input::ismap\":0,\"input::list\":5,\"input::max\":0,\"input::maxlength\":0,\"input::min\":0,\"input::multiple\":0,\"input::name\":8,\"input::onblur\":2,\"input::onchange\":2,\"input::onfocus\":2,\"input::onselect\":2,\"input::pattern\":0,\"input::placeholder\":0,\"input::readonly\":0,\"input::required\":0,\"input::size\":0,\"input::src\":1,\"input::step\":0,\"input::type\":0,\"input::usemap\":11,\"input::value\":0,\"ins::cite\":1,\"ins::datetime\":0,\"label::accesskey\":0,\n\"label::for\":5,\"label::onblur\":2,\"label::onfocus\":2,\"legend::accesskey\":0,\"legend::align\":0,\"li::type\":0,\"li::value\":0,\"map::name\":7,\"menu::compact\":0,\"menu::label\":0,\"menu::type\":0,\"meter::high\":0,\"meter::low\":0,\"meter::max\":0,\"meter::min\":0,\"meter::optimum\":0,\"meter::value\":0,\"ol::compact\":0,\"ol::reversed\":0,\"ol::start\":0,\"ol::type\":0,\"optgroup::disabled\":0,\"optgroup::label\":0,\"option::disabled\":0,\"option::label\":0,\"option::selected\":0,\"option::value\":0,\"output::for\":6,\"output::name\":8,\"p::align\":0,\n\"pre::width\":0,\"progress::max\":0,\"progress::min\":0,\"progress::value\":0,\"q::cite\":1,\"select::autocomplete\":0,\"select::disabled\":0,\"select::multiple\":0,\"select::name\":8,\"select::onblur\":2,\"select::onchange\":2,\"select::onfocus\":2,\"select::required\":0,\"select::size\":0,\"source::type\":0,\"table::align\":0,\"table::bgcolor\":0,\"table::border\":0,\"table::cellpadding\":0,\"table::cellspacing\":0,\"table::frame\":0,\"table::rules\":0,\"table::summary\":0,\"table::width\":0,\"tbody::align\":0,\"tbody::char\":0,\"tbody::charoff\":0,\n\"tbody::valign\":0,\"td::abbr\":0,\"td::align\":0,\"td::axis\":0,\"td::bgcolor\":0,\"td::char\":0,\"td::charoff\":0,\"td::colspan\":0,\"td::headers\":6,\"td::height\":0,\"td::nowrap\":0,\"td::rowspan\":0,\"td::scope\":0,\"td::valign\":0,\"td::width\":0,\"textarea::accesskey\":0,\"textarea::autocomplete\":0,\"textarea::cols\":0,\"textarea::disabled\":0,\"textarea::inputmode\":0,\"textarea::name\":8,\"textarea::onblur\":2,\"textarea::onchange\":2,\"textarea::onfocus\":2,\"textarea::onselect\":2,\"textarea::placeholder\":0,\"textarea::readonly\":0,\"textarea::required\":0,\n\"textarea::rows\":0,\"textarea::wrap\":0,\"tfoot::align\":0,\"tfoot::char\":0,\"tfoot::charoff\":0,\"tfoot::valign\":0,\"th::abbr\":0,\"th::align\":0,\"th::axis\":0,\"th::bgcolor\":0,\"th::char\":0,\"th::charoff\":0,\"th::colspan\":0,\"th::headers\":6,\"th::height\":0,\"th::nowrap\":0,\"th::rowspan\":0,\"th::scope\":0,\"th::valign\":0,\"th::width\":0,\"thead::align\":0,\"thead::char\":0,\"thead::charoff\":0,\"thead::valign\":0,\"tr::align\":0,\"tr::bgcolor\":0,\"tr::char\":0,\"tr::charoff\":0,\"tr::valign\":0,\"track::default\":0,\"track::kind\":0,\"track::label\":0,\n\"track::srclang\":0,\"ul::compact\":0,\"ul::type\":0,\"video::controls\":0,\"video::height\":0,\"video::loop\":0,\"video::mediagroup\":5,\"video::muted\":0,\"video::poster\":1,\"video::preload\":0,\"video::src\":1,\"video::width\":0};M.ATTRIBS=M.w;M.c={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256};M.eflags=M.c;\nM.e={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,\nkbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,\"var\":0,video:0,wbr:2};M.ELEMENTS=M.e;\nM.O={a:\"HTMLAnchorElement\",abbr:\"HTMLElement\",acronym:\"HTMLElement\",address:\"HTMLElement\",applet:\"HTMLAppletElement\",area:\"HTMLAreaElement\",article:\"HTMLElement\",aside:\"HTMLElement\",audio:\"HTMLAudioElement\",b:\"HTMLElement\",base:\"HTMLBaseElement\",basefont:\"HTMLBaseFontElement\",bdi:\"HTMLElement\",bdo:\"HTMLElement\",big:\"HTMLElement\",blockquote:\"HTMLQuoteElement\",body:\"HTMLBodyElement\",br:\"HTMLBRElement\",button:\"HTMLButtonElement\",canvas:\"HTMLCanvasElement\",caption:\"HTMLTableCaptionElement\",center:\"HTMLElement\",\ncite:\"HTMLElement\",code:\"HTMLElement\",col:\"HTMLTableColElement\",colgroup:\"HTMLTableColElement\",command:\"HTMLCommandElement\",data:\"HTMLElement\",datalist:\"HTMLDataListElement\",dd:\"HTMLElement\",del:\"HTMLModElement\",details:\"HTMLDetailsElement\",dfn:\"HTMLElement\",dialog:\"HTMLDialogElement\",dir:\"HTMLDirectoryElement\",div:\"HTMLDivElement\",dl:\"HTMLDListElement\",dt:\"HTMLElement\",em:\"HTMLElement\",fieldset:\"HTMLFieldSetElement\",figcaption:\"HTMLElement\",figure:\"HTMLElement\",font:\"HTMLFontElement\",footer:\"HTMLElement\",\nform:\"HTMLFormElement\",frame:\"HTMLFrameElement\",frameset:\"HTMLFrameSetElement\",h1:\"HTMLHeadingElement\",h2:\"HTMLHeadingElement\",h3:\"HTMLHeadingElement\",h4:\"HTMLHeadingElement\",h5:\"HTMLHeadingElement\",h6:\"HTMLHeadingElement\",head:\"HTMLHeadElement\",header:\"HTMLElement\",hgroup:\"HTMLElement\",hr:\"HTMLHRElement\",html:\"HTMLHtmlElement\",i:\"HTMLElement\",iframe:\"HTMLIFrameElement\",img:\"HTMLImageElement\",input:\"HTMLInputElement\",ins:\"HTMLModElement\",isindex:\"HTMLUnknownElement\",kbd:\"HTMLElement\",keygen:\"HTMLKeygenElement\",\nlabel:\"HTMLLabelElement\",legend:\"HTMLLegendElement\",li:\"HTMLLIElement\",link:\"HTMLLinkElement\",map:\"HTMLMapElement\",mark:\"HTMLElement\",menu:\"HTMLMenuElement\",meta:\"HTMLMetaElement\",meter:\"HTMLMeterElement\",nav:\"HTMLElement\",nobr:\"HTMLElement\",noembed:\"HTMLElement\",noframes:\"HTMLElement\",noscript:\"HTMLElement\",object:\"HTMLObjectElement\",ol:\"HTMLOListElement\",optgroup:\"HTMLOptGroupElement\",option:\"HTMLOptionElement\",output:\"HTMLOutputElement\",p:\"HTMLParagraphElement\",param:\"HTMLParamElement\",pre:\"HTMLPreElement\",\nprogress:\"HTMLProgressElement\",q:\"HTMLQuoteElement\",s:\"HTMLElement\",samp:\"HTMLElement\",script:\"HTMLScriptElement\",section:\"HTMLElement\",select:\"HTMLSelectElement\",small:\"HTMLElement\",source:\"HTMLSourceElement\",span:\"HTMLSpanElement\",strike:\"HTMLElement\",strong:\"HTMLElement\",style:\"HTMLStyleElement\",sub:\"HTMLElement\",summary:\"HTMLElement\",sup:\"HTMLElement\",table:\"HTMLTableElement\",tbody:\"HTMLTableSectionElement\",td:\"HTMLTableDataCellElement\",textarea:\"HTMLTextAreaElement\",tfoot:\"HTMLTableSectionElement\",\nth:\"HTMLTableHeaderCellElement\",thead:\"HTMLTableSectionElement\",time:\"HTMLTimeElement\",title:\"HTMLTitleElement\",tr:\"HTMLTableRowElement\",track:\"HTMLTrackElement\",tt:\"HTMLElement\",u:\"HTMLElement\",ul:\"HTMLUListElement\",\"var\":\"HTMLElement\",video:\"HTMLVideoElement\",wbr:\"HTMLElement\"};M.ELEMENT_DOM_INTERFACES=M.O;M.N={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};M.ueffects=M.N;\nM.J={\"a::href\":2,\"area::href\":2,\"audio::src\":1,\"blockquote::cite\":0,\"command::icon\":1,\"del::cite\":0,\"form::action\":2,\"img::src\":1,\"input::src\":1,\"ins::cite\":0,\"q::cite\":0,\"video::poster\":1,\"video::src\":1};M.URIEFFECTS=M.J;M.L={UNSANDBOXED:2,SANDBOXED:1,DATA:0};M.ltypes=M.L;M.I={\"a::href\":2,\"area::href\":2,\"audio::src\":2,\"blockquote::cite\":2,\"command::icon\":1,\"del::cite\":2,\"form::action\":2,\"img::src\":1,\"input::src\":1,\"ins::cite\":2,\"q::cite\":2,\"video::poster\":1,\"video::src\":2};M.LOADERTYPES=M.I;\n\"undefined\"!==typeof window&&(window.html4=M);var Q=function(e){function x(d){if(D.hasOwnProperty(d))return D[d];var a=d.match(R);return a?String.fromCharCode(parseInt(a[1],10)):(a=d.match(S))?String.fromCharCode(parseInt(a[1],16)):E&&T.test(d)?(E.innerHTML=\"&\"+d+\";\",a=E.textContent,D[d]=a):\"&\"+d+\";\"}function y(d,a){return x(a)}function u(d){return d.replace(U,y)}function v(d){return(\"\"+d).replace(N,\"&amp;\").replace(F,\"&lt;\").replace(G,\"&gt;\").replace(V,\"&#34;\")}function b(d){return(\"\"+d).replace(N,\"&amp;\").replace(F,\"&lt;\").replace(G,\"&gt;\")}\nfunction p(d){return d.replace(W,\"&amp;$1\").replace(F,\"&lt;\").replace(G,\"&gt;\")}function z(d){var a={z:d.z||d.cdata,A:d.A||d.comment,B:d.B||d.endDoc,t:d.t||d.endTag,d:d.d||d.pcdata,F:d.F||d.rcdata,H:d.H||d.startDoc,v:d.v||d.startTag};return function(d,e){var f;var r=/(<\\/|<\\!--|<[!?]|[&<>])/g;f=d+\"\";if(X)f=f.split(r);else{for(var k=[],i=0,b;(b=r.exec(f))!==l;)k.push(f.substring(i,b.index)),k.push(b[0]),i=b.index+b[0].length;k.push(f.substring(i));f=k}w(a,f,0,{r:!1,C:!1},e)}}function j(d,a,c,e,f){return function(){w(d,\na,c,e,f)}}function w(d,a,c,h,f){try{d.H&&0==c&&d.H(f);for(var r,k,i,b=a.length;c<b;){var n=a[c++],g=a[c];switch(n){case \"&\":Y.test(g)?(d.d&&d.d(\"&\"+g,f,t,j(d,a,c,h,f)),c++):d.d&&d.d(\"&amp;\",f,t,j(d,a,c,h,f));break;case \"\u003c/\":if(r=/^([-\\w:]+)[^\\'\\\"]*/.exec(g))if(r[0].length===g.length&&\">\"===a[c+1])c+=2,i=r[1].toLowerCase(),d.t&&d.t(i,f,t,j(d,a,c,h,f));else{var m=a,o=c,p=d,s=f,u=t,x=h,v=C(m,o);v?(p.t&&p.t(v.name,s,u,j(p,m,o,x,s)),c=v.next):c=m.length}else d.d&&d.d(\"&lt;/\",f,t,j(d,a,c,h,f));break;case \"<\":if(r=\n/^([-\\w:]+)\\s*\\/?/.exec(g))if(r[0].length===g.length&&\">\"===a[c+1]){c+=2;i=r[1].toLowerCase();d.v&&d.v(i,[],f,t,j(d,a,c,h,f));var w=e.e[i];w&O&&(c=B(a,{name:i,next:c,c:w},d,f,t,h))}else{var m=a,o=d,p=f,s=t,u=h,A=C(m,c);A?(o.v&&o.v(A.name,A.P,p,s,j(o,m,A.next,u,p)),c=A.c&O?B(m,A,o,p,s,u):A.next):c=m.length}else d.d&&d.d(\"&lt;\",f,t,j(d,a,c,h,f));break;case \"<\\!--\":if(!h.C){for(k=c+1;k<b&&!(\">\"===a[k]&&/--$/.test(a[k-1]));k++);if(k<b){if(d.A){var y=a.slice(c,k).join(\"\");d.A(y.substr(0,y.length-2),f,\nt,j(d,a,k+1,h,f))}c=k+1}else h.C=!0}h.C&&d.d&&d.d(\"&lt;!--\",f,t,j(d,a,c,h,f));break;case \"<!\":if(/^\\w/.test(g)){if(!h.r){for(k=c+1;k<b&&\">\"!==a[k];k++);k<b?c=k+1:h.r=!0}h.r&&d.d&&d.d(\"&lt;!\",f,t,j(d,a,c,h,f))}else d.d&&d.d(\"&lt;!\",f,t,j(d,a,c,h,f));break;case \"<?\":if(!h.r){for(k=c+1;k<b&&\">\"!==a[k];k++);k<b?c=k+1:h.r=!0}h.r&&d.d&&d.d(\"&lt;?\",f,t,j(d,a,c,h,f));break;case \">\":d.d&&d.d(\"&gt;\",f,t,j(d,a,c,h,f));break;case \"\":break;default:d.d&&d.d(n,f,t,j(d,a,c,h,f))}}d.B&&d.B(f)}catch(z){if(z!==t)throw z;\n}}function B(a,b,c,h,f,r){var k=a.length;H.hasOwnProperty(b.name)||(H[b.name]=RegExp(\"^\"+b.name+\"(?:[\\\\s\\\\/]|$)\",\"i\"));for(var i=H[b.name],g=b.next,n=b.next+1;n<k&&!(\"\u003c/\"===a[n-1]&&i.test(a[n]));n++);n<k&&(n-=1);k=a.slice(g,n).join(\"\");if(b.c&e.c.CDATA)c.z&&c.z(k,h,f,j(c,a,n,r,h));else if(b.c&e.c.RCDATA)c.F&&c.F(p(k),h,f,j(c,a,n,r,h));else throw Error(\"bug\");return n}function C(a,b){var c=/^([-\\w:]+)/.exec(a[b]),h={};h.name=c[1].toLowerCase();h.c=e.e[h.name];for(var f=a[b].substr(c[0].length),r=b+\n1,k=a.length;r<k&&\">\"!==a[r];r++)f+=a[r];if(!(k<=r)){for(var i=[];\"\"!==f;)if(c=Z.exec(f))if(c[4]&&!c[5]||c[6]&&!c[7]){for(var c=c[4]||c[6],g=!1,f=[f,a[r++]];r<k;r++){if(g){if(\">\"===a[r])break}else 0<=a[r].indexOf(c)&&(g=!0);f.push(a[r])}if(k<=r)break;f=f.join(\"\")}else{var g=c[1].toLowerCase(),n;if(c[2]){n=c[3];var j=n.charCodeAt(0);if(34===j||39===j)n=n.substr(1,n.length-2);n=u(n.replace($,\"\"))}else n=\"\";i.push(g,n);f=f.substr(c[0].length)}else f=f.replace(/^[\\s\\S][^a-z\\s]*/,\"\");h.P=i;h.next=r+1;\nreturn h}}function a(a){function g(){var a=h[h.length-1];return a?e.e[a.m]:0}function c(a){var d=h[h.length-1];if(!d)throw Error(\"shouldn't happen: CDATA/RCDATA context without any start tag\");return a.replace(RegExp(\"\u003c/\"+d.m+\"(?=[^A-Za-z])>?\",\"i\"),\"\u003c/>\")}var h,f;return z({startDoc:function(){h=[];f=!1},startTag:function(c,b,i){if(!f&&e.e.hasOwnProperty(c)){var g=e.e[c];if(!(g&e.c.FOLDABLE)){var n=a(c,b);if(n){if(\"object\"!==typeof n)throw Error(\"tagPolicy did not return object (old API?)\");if(\"attribs\"in\nn)b=n.attribs;else throw Error(\"tagPolicy gave no attribs\");var j;\"tagName\"in n?(j=n.tagName,n=e.e[j]):(j=c,n=g);if(g&e.c.OPTIONAL_ENDTAG){var m=h[h.length-1];m&&m.D===c&&(m.m!==j||c!==j)&&i.push(\"\u003c/\",m.m,\">\")}g&e.c.EMPTY||h.push({D:c,m:j});i.push(\"<\",j);c=0;for(m=b.length;c<m;c+=2){var o=b[c],p=b[c+1];p!==l&&void 0!==p&&i.push(\" \",o,'=\"',v(p),'\"')}i.push(\">\");g&e.c.EMPTY&&!(n&e.c.EMPTY)&&i.push(\"\u003c/\",j,\">\")}else f=!(g&e.c.EMPTY)}}},endTag:function(a,d){if(f)f=!1;else if(e.e.hasOwnProperty(a)){var c=\ne.e[a];if(!(c&(e.c.EMPTY|e.c.FOLDABLE))){if(c&e.c.OPTIONAL_ENDTAG)for(c=h.length;0<=--c;){var b=h[c].D;if(b===a)break;if(!(e.e[b]&e.c.OPTIONAL_ENDTAG))return}else for(c=h.length;0<=--c&&h[c].D!==a;);if(!(0>c)){for(b=h.length;--b>c;){var g=h[b].m;e.e[g]&e.c.OPTIONAL_ENDTAG||d.push(\"\u003c/\",g,\">\")}c<h.length&&(a=h[c].m);h.length=c;d.push(\"\u003c/\",a,\">\")}}}},pcdata:function(a,d){f||(g()&(e.c.RCDATA|e.c.CDATA)?d.push(c(a)):d.push(a))},rcdata:function(a,d){f||(g()&(e.c.RCDATA|e.c.CDATA)?d.push(c(a)):d.push(a))},\ncdata:function(a,d){f||(g()&e.c.CDATA?d.push(c(a)):d.push(b(a)))},endDoc:function(a){for(;h.length;h.length--)a.push(\"\u003c/\",h[h.length-1].m,\">\")}})}function J(a,b,c,e,f){if(!f)return l;try{var g=q.parse(\"\"+a);if(g&&(!g.K()||aa.test(g.U()))){var k=f(g,b,c,e);return k?k.toString():l}}catch(i){}return l}function m(a,b,c,e,f){c||a(b+\" removed\",{Q:\"removed\",tagName:b});if(e!==f){var g=\"changed\";e&&!f?g=\"removed\":!e&&f&&(g=\"added\");a(b+\".\"+c+\" \"+g,{Q:g,tagName:b,ia:c,oldValue:e,newValue:f})}}function K(a,\nb,c){b=b+\"::\"+c;if(a.hasOwnProperty(b))return a[b];b=\"*::\"+c;if(a.hasOwnProperty(b))return a[b]}function s(a,b,c,h,f){for(var g=0;g<b.length;g+=2){var k=b[g],i=b[g+1],j=i,n=l,o;if((o=a+\"::\"+k,e.w.hasOwnProperty(o))||(o=\"*::\"+k,e.w.hasOwnProperty(o)))n=e.w[o];if(n!==l)switch(n){case e.f.NONE:break;case e.f.SCRIPT:i=l;f&&m(f,a,k,j,i);break;case e.f.STYLE:if(\"undefined\"===typeof I){i=l;f&&m(f,a,k,j,i);break}var p=[];I(i,{declaration:function(a,b){var d=a.toLowerCase();P(d,b,c?function(a){return J(a,\ne.N.ga,e.L.ha,{TYPE:\"CSS\",CSS_PROP:d},c)}:l);b.length&&p.push(d+\": \"+b.join(\" \"))}});i=0<p.length?p.join(\" ; \"):l;f&&m(f,a,k,j,i);break;case e.f.ID:case e.f.IDREF:case e.f.IDREFS:case e.f.GLOBAL_NAME:case e.f.LOCAL_NAME:case e.f.CLASSES:i=h?h(i):i;f&&m(f,a,k,j,i);break;case e.f.URI:i=J(i,K(e.J,a,k),K(e.I,a,k),{TYPE:\"MARKUP\",XML_ATTR:k,XML_TAG:a},c);f&&m(f,a,k,j,i);break;case e.f.URI_FRAGMENT:i&&\"#\"===i.charAt(0)?(i=i.substring(1),i=h?h(i):i,i!==l&&void 0!==i&&(i=\"#\"+i)):i=l;f&&m(f,a,k,j,i);break;\ndefault:i=l,f&&m(f,a,k,j,i)}else i=l,f&&m(f,a,k,j,i);b[g+1]=i}return b}function g(a,b,c){return function(g,f){if(e.e[g]&e.c.UNSAFE)c&&m(c,g,void 0,void 0,void 0);else return{attribs:s(g,f,a,b,c)}}}function L(b,e){var c=[];a(e)(b,c);return c.join(\"\")}var I,P;\"undefined\"!==typeof window&&(I=window.parseCssDeclarations,P=window.sanitizeCssProperty);var D={lt:\"<\",LT:\"<\",gt:\">\",GT:\">\",amp:\"&\",AMP:\"&\",quot:'\"',apos:\"'\",nbsp:\"\\u00a0\"},R=/^#(\\d+)$/,S=/^#x([0-9A-Fa-f]+)$/,T=/^[A-Za-z][A-Za-z0-9]+$/,E=\"undefined\"!==\ntypeof window&&window.document?window.document.createElement(\"textarea\"):l,$=/\\0/g,U=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\\w+);/g,Y=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\\w+);/,N=/&/g,W=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,F=/[<]/g,G=/>/g,V=/\\\"/g,Z=/^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?/i,X=3===\"a,b\".split(/(,)/).length,O=e.c.CDATA|e.c.RCDATA,t={},H={},aa=/^(?:https?|geo|mailto|sms|tel)$/i,o={};o.ka=o.escapeAttrib=v;o.la=o.escapePcdata=b;o.ma=o.makeHtmlSanitizer=\na;o.na=o.makeSaxParser=z;o.oa=o.makeTagPolicy=g;o.qa=o.normalizeRCData=p;o.ra=o.sanitize=function(a,b,c,e){return L(a,g(b,c,e))};o.sa=o.sanitizeAttribs=s;o.ta=o.sanitizeWithPolicy=L;o.ua=o.unescapeEntities=u;return o}(M),ba=Q.sanitize;\"undefined\"!==typeof window&&(window.html=Q,window.html_sanitize=ba);})();\n;\ngadgets.config.init({\"core.io\":{\"jsonProxyUrl\":\"//%host%/gadgets/makeRequest\",\"proxyUrl\":\"//www-ig-opensocial.googleusercontent.com/gadgets/proxy/refresh=%refresh%&container=%container%%rewriteMime%&gadget=%gadget%/%rawurl%\"},\"shindig.auth\":{\"authToken\":\"\",\"trustedJson\":\"\"},\"core.util\":{\"core\":{}}});\n\u003c/script><script>gadgets.Prefs.setMessages_({});gadgets.Prefs.setDefaultPrefs_({});gadgets.io.preloaded_=[];\u003c/script><link href=\"https://cdn.jsdelivr.net/gh/1mrtl/assets@5cb61b353cff0365c082c9309e82bb561c027201/Run%202/waflash/waflash-style.css\" rel=\"stylesheet\" type=\"text/css\">\n<title>WAFLASH\u003c/title>\n\n\n<script>\n/* mp-start */\n\nvar _params = gadgets.util.getUrlParameters();\nif (_params['exp_rpc_js'] != 1) {\n  var url = _params['parent'] + '/ig/ifpc_relay';\n  gadgets.rpc.setRelayUrl('..', url, true);\n}\n/* mp-end */\n\u003c/script><style type=\"text/css\" id=\"operaUserStyle\">\u003c/style><style type=\"text/css\">:root [href^=\"//x4pollyxxpush.com/\"], :root zeus-ad, :root topadblock, :root span[id^=\"ezoic-pub-ad-placeholder-\"], :root guj-ad, :root gpt-ad, :root div[id^=\"zergnet-widget\"], :root div[id^=\"vuukle-ad-\"], :root div[id^=\"sticky_ad_\"], :root div[id^=\"rc-widget-\"], :root div[id^=\"gpt_ad_\"], :root div[id^=\"ezoic-pub-ad-\"], :root div[id^=\"div-gpt-\"], :root div[id^=\"dfp-ad-\"], :root div[id^=\"adspot-\"], :root div[id^=\"ads300_250-widget-\"], :root div[id^=\"ads300_100-widget-\"], :root div[id^=\"ads250_250-widget-\"], :root div[id^=\"adrotate_widgets-\"], :root div[id^=\"_vdo_ads_player_ai_\"], :root div[id*=\"ScriptRoot\"], :root div[id*=\"MarketGid\"], :root div[data-native_ad], :root div[data-mini-ad-unit], :root div[data-insertion], :root div[data-id-advertdfpconf], :root div[data-google-query-id], :root hl-adsense, :root div[data-contentexchange-widget], :root div[data-content=\"Advertisement\"], :root div[data-alias=\"300x250 Ad 2\"], :root div[data-alias=\"300x250 Ad 1\"], :root div[data-adzone], :root div[data-adunit-path], :root div[data-ad-wrapper], :root div[data-ad-placeholder], :root div[class^=\"native-ad-\"], :root div[data-dfp-id], :root div[class^=\"kiwi-ad-wrapper\"], :root div[class^=\"Adstyled__AdWrapper-\"], :root div[aria-label=\"Ads\"], :root display-ads, :root display-ad-component, :root atf-ad-slot, :root aside[id^=\"adrotate_widgets-\"], :root article.ad, :root ark-top-ad, :root app-advertisement, :root app-ad, :root amp-fx-flying-carpet, :root amp-embed[type=\"taboola\"], :root amp-connatix-player, :root amp-ad-custom, :root amp-ad, :root a[style=\"width:100%;height:100%;z-index:10000000000000000;position:absolute;top:0;left:0;\"], :root a[onmousedown^=\"this.href='https://paid.outbrain.com/network/redir?\"][target=\"_blank\"] + .ob_source, :root a[onmousedown^=\"this.href='http://paid.outbrain.com/network/redir?\"][target=\"_blank\"] + .ob_source, :root a[href^=\"https://yogacomplyfuel.com/\"], :root a[href^=\"https://www.sugarinstant.com/?partner_id=\"], :root a[href^=\"https://www.privateinternetaccess.com/\"] > img, :root a[href^=\"https://www.onlineusershielder.com/\"], :root a[href^=\"https://www.nutaku.net/signup/landing/\"], :root a[href^=\"https://www.nudeidols.com/cams/\"], :root a[href^=\"https://www.mypornstarcams.com/landing/click/\"], :root a[href^=\"https://www.kingsoffetish.com/tour?partner_id=\"], :root a[href^=\"https://www.infowarsstore.com/\"] > img, :root a[href^=\"https://www.highcpmrevenuenetwork.com/\"], :root a[href^=\"https://www.googleadservices.com/pagead/aclk?\"], :root a[href^=\"https://www.goldenfrog.com/vyprvpn?offer_id=\"][href*=\"&aff_id=\"], :root a[href^=\"https://www.get-express-vpn.com/offer/\"], :root a[href^=\"https://www.financeads.net/tc.php?\"], :root a[href^=\"https://www.brazzersnetwork.com/landing/\"], :root div[class^=\"Display_displayAd\"], :root a[href^=\"https://www.sheetmusicplus.com/?aff_id=\"], :root a[href^=\"https://www.bang.com/?aff=\"], :root a[href^=\"https://www.adxsrve.com/\"], :root a[href^=\"https://wirewar.website/\"], :root a[href^=\"https://visit-website.com/\"], :root a[href^=\"https://twinrdsyn.com/\"], :root a[href^=\"https://twinrdsrv.com/\"], :root a[href^=\"https://tsartech.g2afse.com/\"], :root a[href^=\"https://trk.sportsflix4k.club/\"], :root a[href^=\"https://trk.nfl-online-streams.club/\"], :root a[href^=\"https://traffdaq.com/\"], :root a[href^=\"https://tracking.avapartner.com/\"], :root a[href^=\"https://track.wg-aff.com\"], :root a[href^=\"https://track.ultravpn.com/\"], :root a[href^=\"https://track.totalav.com/\"], :root a[href^=\"https://track.afcpatrk.com/\"], :root a[href^=\"https://track.adform.net/\"], :root a[href^=\"https://torguard.net/aff.php\"] > img, :root a[href^=\"https://thefacux.com/\"], :root div[data-adname], :root a[href^=\"https://thechleads.pro/\"], :root a[href^=\"https://tc.tradetracker.net/\"] > img, :root a[href^=\"https://taghaugh.com/\"], :root a[href^=\"https://t.hrtye.com/\"], :root a[href^=\"https://www.highperformancecpmgate.com/\"], :root a[href^=\"https://t.grtyi.com/\"], :root a[href^=\"https://t.adating.link/\"], :root a[href^=\"https://go.trackitalltheway.com/\"], :root [href^=\"https://track.fiverr.com/visit/\"] > img, :root a[href^=\"https://syndication.exoclick.com/\"], :root a[href^=\"https://syndication.dynsrvtbg.com/\"], :root a[href^=\"https://streamate.com/landing/click/\"], :root a[href^=\"https://ad.doubleclick.net/\"], :root a[href^=\"https://static.fleshlight.com/images/banners/\"], :root a[href^=\"https://slkmis.com/\"], :root a[href^=\"https://sTaRtGAMing.net/tienda/\"], :root citrus-ad-wrapper, :root a[onmousedown^=\"this.href='https://paid.outbrain.com/network/redir?\"][target=\"_blank\"], :root a[href^=\"https://sTaRTgamInG.net/tienda/\"], :root [data-adblockkey], :root a[href^=\"https://sTARtgamIng.net/tienda/\"], :root bottomadblock, :root a[href^=\"https://s.zlinkd.com/\"], :root a[href^=\"https://aweptjmp.com/\"], :root a[href^=\"https://s.zlinkc.com/\"], :root a[href^=\"https://www.mrskin.com/account/\"], :root a[href^=\"https://s.optzsrv.com/\"], :root a[data-obtrack^=\"http://paid.outbrain.com/network/redir?\"], :root a[href^=\"https://reinstandpointdumbest.com/\"], :root a[href^=\"https://go.strpjmp.com/\"], :root a[href^=\"https://refpa4903566.top/\"], :root a[href^=\"https://pubads.g.doubleclick.net/\"], :root a[href^=\"https://prf.hn/click/\"][href*=\"/camref:\"] > img, :root a[href^=\"https://serve.awmdelivery.com/\"], :root a[href^=\"https://prf.hn/click/\"][href*=\"/adref:\"] > img, :root a[href^=\"https://pb-track.com/\"], :root a[href^=\"https://paid.outbrain.com/network/redir?\"], :root ps-connatix-module, :root div[id^=\"ad_position_\"], :root a[href^=\"https://ovb.im/\"], :root div[id^=\"ad-div-\"], :root a[href^=\"https://newbinotracs.com/\"], :root a[href^=\"http://eighteenderived.com/\"], :root a[href^=\"https://natour.naughtyamerica.com/track/\"], :root [href^=\"https://stvkr.com/\"], :root a[href^=\"https://mediaserver.entainpartners.com/renderBanner.do?\"], :root a[href^=\"https://loboclick.com\"], :root .nya-slot[style], :root a[href^=\"https://a.bestcontentweb.top/\"], :root a[href^=\"https://lobimax.com/\"], :root a[href^=\"https://lead1.pl/\"], :root a[href^=\"https://refpa.top/\"], :root a[href^=\"https://landing.brazzersnetwork.com/\"], :root a[href^=\"https://safesurfingtoday.com/\"][href*=\"?skip=\"], :root a[href^=\"https://t.acam.link/\"], :root a[href^=\"https://ads.leovegas.com/redirect.aspx?\"], :root a[href^=\"https://land.brazzersnetwork.com/landing/\"], :root [data-css-class=\"dfp-inarticle\"], :root .card-captioned.crd > .crd--cnt > .s2nPlayer, :root a[href^=\"https://go.tmrjmp.com\"], :root a[href^=\"https://startgamIng.Net/tienda/\"], :root a[href^=\"https://l.hyenadata.com/\"], :root a[href^=\"https://yourperfectdating.life/\"], :root a[href^=\"https://join.virtuallust3d.com/\"], :root a[href^=\"https://kiksajex.com/\"], :root a[href^=\"https://juicyads.in/\"], :root a[href^=\"https://mediaserver.gvcaffiliates.com/renderBanner.do?\"], :root a[href^=\"https://join.dreamsexworld.com/\"], :root a[href^=\"https://itubego.com/video-downloader/?affid=\"], :root a[href^=\"https://iqbroker.com/\"][href*=\"?aff=\"], :root a[href^=\"https://incisivetrk.cvtr.io/click?\"], :root a[href^=\"https://hot-growngames.life/\"], :root [data-revive-zoneid], :root a[href^=\"https://googleads.g.doubleclick.net/pcs/click\"], :root a[href^=\"https://t.ajump1.com/\"], :root a[href^=\"https://clk.wrenchsound.store/\"], :root a[href^=\"https://go.zybrdr.com\"], :root [href^=\"http://join.michelle-austin.com/\"], :root [class^=\"tile-picker__CitrusBannerContainer-sc-\"], :root a[href^=\"https://go.xxxiijmp.com\"], :root a[href^=\"https://go.xtbaffiliates.com/\"], :root a[href^=\"https://thaudray.com/\"], :root .OUTBRAIN[data-widget-id^=\"FMS_REELD_\"], :root [data-role=\"tile-ads-module\"], :root a[href^=\"https://adsrv4k.com/\"], :root a[href^=\"https://go.xlviirdr.com\"], :root a[href^=\"https://ismlks.com/\"], :root a[href^=\"//a.bestcontentfare.top/\"], :root [href^=\"https://www.mypillow.com/\"] > img, :root a[href^=\"https://azpresearch.club/\"], :root a[href^=\"https://go.xlirdr.com\"], :root a[href^=\"https://go.skinstrip.net\"][href*=\"?campaignId=\"], :root a[href^=\"https://go.markets.com/visit/?bta=\"], :root a[href^=\"https://billing.purevpn.com/aff.php\"] > img, :root a[href^=\"https://go.hpyrdr.com/\"], :root a[href^=\"https://go.goaserv.com/\"], :root a[href^=\"https://go.dmzjmp.com\"], :root a[href^=\"https://go.admjmp.com/\"], :root [href^=\"https://kingered-banctours.com/\"], :root a[href^=\"https://get.surfshark.net/aff_c?\"][href*=\"&aff_id=\"] > img, :root a-ad, :root a[href^=\"https://affiliate.rusvpn.com/click.php?\"], :root a[href^=\"https://geniusdexchange.com/\"], :root a[href^=\"https://frameworkdeserve.com/\"], :root a[href^=\"https://flirtandsweets.life/\"], :root a[href^=\"https://www.mrskin.com/tour\"], :root a[href^=\"https://financeads.net/tc.php?\"], :root div[data-native-ad], :root a[href^=\"https://engine.trackingdesks.com/\"], :root a[data-redirect^=\"https://paid.outbrain.com/network/redir?\"], :root [href^=\"https://www.reimageplus.com/\"], :root a[href^=\"https://ak.hauchiwu.com/\"], :root a[href^=\"https://engine.phn.doublepimp.com/\"], :root a[href^=\"https://engine.blueistheneworanges.com/\"], :root a[href^=\"https://dl-protect.net/\"], :root [href=\"//jjgirls.com/sex/ChaturbateCams\"], :root a[href^=\"https://datingoffers30.info/\"], :root a[href^=\"https://ctosrd.com/\"], :root a[href^=\"https://clixtrac.com/\"], :root a[href^=\"https://click.linksynergy.com/fs-bin/\"] > img, :root ad-shield-ads, :root a[href^=\"https://sTartGAMinG.net/tienda/\"], :root AD-TRIPLE-BOX, :root a[href^=\"https://click.hoolig.app/\"], :root img[src^=\"https://images.purevpnaffiliates.com\"], :root a[href^=\"https://porntubemate.com/\"], :root a[href^=\"http://www.gfrevenge.com/landing/\"], :root a[href^=\"https://clickadilla.com/\"], :root a[href^=\"https://click.dtiserv2.com/\"], :root a[href^=\"https://go.xlvirdr.com\"], :root a[href^=\"http://www.iyalc.com/\"], :root a[href^=\"https://claring-loccelkin.com/\"], :root a[href^=\"https://chaturbate.com/in/?track=\"], :root a[href^=\"https://chaturbate.com/in/?tour=\"], :root a[href^=\"https://cams.imagetwist.com/in/?track=\"], :root a[href^=\"https://go.gldrdr.com/\"], :root a[href^=\"https://buqkrzbrucz.com/\"], :root a[href^=\"https://affcpatrk.com/\"], :root a[href^=\"https://bongacams2.com/track?\"], :root a[href^=\"https://www.sheetmusicplus.com/\"][href*=\"?aff_id=\"], :root a[href^=\"https://bngpt.com/\"], :root a[href^=\"https://bluedelivery.pro/\"], :root a[href^=\"https://black77854.com/\"], :root a[href^=\"https://bc.game/\"], :root a[href^=\"https://ndt5.net/\"], :root a[href^=\"https://batheunits.com/\"], :root a[target=\"_blank\"][onmousedown=\"this.href^='http://paid.outbrain.com/network/redir?\"], :root a[href^=\"https://banners.livepartners.com/\"], :root a[href^=\"//whulsaux.com/\"], :root a[href^=\"https://m.do.co/c/\"] > img, :root [class^=\"s2nPlayer\"], :root a[href^=\"https://chaturbate.jjgirls.com/?track=\"], :root a[href^=\"https://ausoafab.net/\"], :root a[href^=\"https://t.ajrkm1.com/\"], :root [href=\"https://masstortfinancing.com\"] img, :root a[href^=\"https://bongacams10.com/track?\"], :root a[href^=\"https://albionsoftwares.com/\"], :root a[href^=\"https://go.etoro.com/\"] > img, :root a[href^=\"https://convertmb.com/\"], :root a[href^=\"https://spo-play.live/\"], :root a[href^=\"https://join.sexworld3d.com/track/\"], :root a[href^=\"https://intenseaffiliates.com/redirect/\"], :root a[href^=\"https://ads.ad4game.com/\"], :root [id^=\"google_ads_iframe\"], :root a[href^=\"https://syndication.optimizesrv.com/\"], :root a[href^=\"https://affpa.top/\"], :root a[href^=\"https://adnetwrk.com/\"], :root a[href^=\"https://adjoincomprise.com/\"], :root [href^=\"http://misslinkvocation.com/\"], :root a[href^=\"https://adclick.g.doubleclick.net/\"], :root a[href^=\"https://www.bet365.com/\"][href*=\"affiliate=\"], :root [href^=\"https://r.kraken.com/\"], :root a[href^=\"https://mmwebhandler.aff-online.com/\"], :root a[href^=\"https://go.nordvpn.net/aff\"] > img, :root [href^=\"http://clicks.totemcash.com/\"], :root a[href^=\"https://misspkl.com/\"], :root a[href^=\"https://ad.zanox.com/ppc/\"] > img, :root a[href^=\"https://ad.kubiccomps.icu/\"], :root a[href^=\"https://ab.advertiserurl.com/aff/\"], :root a[href^=\"https://a2.adform.net/\"], :root a[href^=\"https://iactrivago.ampxdirect.com/\"], :root a[href^=\"https://a.medfoodhome.com/\"], :root a[href^=\"https://adultfriendfinder.com/go/\"], :root a[href^=\"https://a.bestcontentoperation.top/\"], :root a[href^=\"http://static.fleshlight.com/images/banners/\"], :root a[href^=\"https://a.adtng.com/\"], :root [data-m-ad-id], :root a[href^=\"https://sTartgAminG.net/tienda/\"], :root a[href^=\"https://a-ads.com/\"], :root a[href^=\"https://join.virtualtaboo.com/track/\"], :root a[href^=\"https://StarTGAminG.net/tienda/\"], :root a[href^=\"https://STaRTgamINg.net/tienda/\"], :root a[href^=\"http://www.mrskin.com/tour\"], :root a[href^=\"https://agacelebir.com/\"], :root a[href^=\"https://spygasm.com/track?\"], :root ins.adsbygoogle, :root a[href^=\"https://1startfiledownload1.com/\"], :root a[href^=\"https://s.zlinkb.com/\"], :root a[href^=\"http://d2.zedo.com/\"], :root a[href^=\"http://www.friendlyduck.com/AF_\"], :root a[href^=\"http://trk.globwo.online/\"], :root a[href^=\"https://1betandgonow.com/\"], :root a[href^=\"https://prf.hn/click/\"][href*=\"/creativeref:\"] > img, :root a[href^=\"http://www.adultempire.com/unlimited/promo?\"][href*=\"&partner_id=\"], :root a[href^=\"http://traffic.tc-clicks.com/\"], :root a[href^=\"http://tour.mrskin.com/\"], :root [href^=\"https://wct.link/\"], :root [data-desktop-ad-id], :root a[href^=\"https://www.purevpn.com/\"][href*=\"&utm_source=aff-\"], :root a[href^=\"http://m.hue2m.com/\"], :root a[href^=\"https://funkydaters.com/\"], :root [id^=\"ad_sky\"], :root a[href^=\"http://https://www.get-express-vpn.com/offer/\"], :root div[id^=\"google_dfp_\"], :root a[href^=\"http://googleads.g.doubleclick.net/pcs/click\"], :root [href^=\"http://go.cm-trk2.com/\"], :root a[href^=\"http://click.payserve.com/\"], :root a[href^=\"https://porngames.adult/?SID=\"], :root a[href^=\"https://landing1.brazzersnetwork.com\"], :root #slashboxes > .deals-rail, :root [href^=\"http://globsads.com/\"], :root [href^=\"https://www.brighteonstore.com/products/\"] img, :root a[href^=\"http://bc.vc/?r=\"], :root a[href^=\"https://mityneedn.com/\"], :root [href^=\"http://homemoviestube.com/\"], :root a[href^=\"http://ad.doubleclick.net/\"], :root a[href^=\"//zunsoach.com/\"], :root a[href^=\"//s.st1net.com/splash.php\"], :root a[href^=\"//pubads.g.doubleclick.net/\"], :root a[href^=\"https://femglobal.app/\"], :root a[href^=\"//go.eabids.com/\"], :root [id^=\"div-gpt-ad\"], :root .ob_container .item-container-obpd, :root div[id^=\"yandex_ad\"], :root a[href^=\"https://pb-imc.com/\"], :root a[href^=\"http://deskfrontfreely.com/\"], :root a[data-url^=\"http://paid.outbrain.com/network/redir?\"] + .author, :root [href^=\"https://join.playboyplus.com/track/\"], :root a[href^=\"//ardslediana.com/\"], :root [data-d-ad-id], :root a[href*=\".engine.adglare.net/\"], :root #kt_player > a[target=\"_blank\"], :root a[href*=\".cfm?fp=\"][href*=\"&maxads=\"], :root [data-ad-width], :root [href^=\"https://cpa.10kfreesilver.com/\"], :root a[href^=\"https://a.bestcontentfood.top/\"], :root a[href^=\"http://wct.link/\"], :root [href^=\"https://goldforyourfuture.com/clk.trk\"] img, :root [onclick^=\"location.href='http://www.reimageplus.com\"], :root [id^=\"section-ad-banner\"], :root a[href^=\"https://t.aslnk.link/\"], :root a[href^=\"https://click.candyoffers.com/\"], :root [href^=\"https://zstacklife.com/\"] img, :root a[href^=\"https://go.julrdr.com/\"], :root .trc_rbox_div .syndicatedItemUB, :root [href^=\"https://zone.gotrackier.com/\"], :root a[href^=\"https://fourwhenstatistics.com/\"], :root [href^=\"https://detachedbates.com/\"], :root [href^=\"https://www.targetingpartner.com/\"], :root .section-subheader > .section-hotel-prices-header, :root [href^=\"https://go.affiliatexe.com/\"], :root [href^=\"https://www.hostg.xyz/\"] > img, :root a[href^=\"http://adultfriendfinder.com/go/\"], :root a[href^=\"https://maymooth-stopic.com/\"], :root [href^=\"https://www.herbanomic.com/\"] > img, :root div[id^=\"ad-position-\"], :root a[href^=\"http://affiliate.glbtracker.com/\"], :root a[href^=\"https://leg.xyz/?track=\"], :root div[id^=\"crt-\"][style], :root a[href^=\"http://adultgames.xxx/\"], :root a[href^=\"https://bngprm.com/\"], :root [href^=\"https://shiftnetwork.infusionsoft.com/go/\"] > img, :root a[href^=\"https://trk.softonixs.xyz/\"], :root [href^=\"https://www.mypatriotsupply.com/\"] > img, :root a[onmousedown^=\"this.href='http://paid.outbrain.com/network/redir?\"][target=\"_blank\"], :root [href^=\"https://secure.bmtmicro.com/servlets/\"], :root [href=\"https://ourgoldguy.com/contact/\"] img, :root a[href^=\"https://brightadnetwork.com/\"], :root a[href^=\"http://www.onwebcam.com/random?t_link=\"], :root [href^=\"https://www.avantlink.com/click.php\"] img, :root a[href^=\"https://losingoldfry.com/\"], :root [data-wpas-zoneid], :root .scroll-fixable.rail-right > .deals-rail, :root [href^=\"https://routewebtk.com/\"], :root a[href^=\"https://oackoubs.com/\"], :root a[href^=\"https://ak.psaltauw.net/\"], :root a[href^=\"https://go.cmtaffiliates.com/\"], :root [data-name=\"adaptiveConstructorAd\"], :root [href^=\"https://optimizedelite.com/\"] > img, :root a[href^=\"https://awptjmp.com/\"], :root a[href^=\"https://go.goasrv.com/\"], :root [href^=\"http://mypillow.com/\"] > img, :root a[href^=\"http://bongacams.com/track?\"], :root a[href^=\"https://fleshlight.sjv.io/\"], :root [data-ad-manager-id], :root a[href^=\"https://promo-bc.com/\"], :root a[href^=\"https://clicks.pipaffiliates.com/\"], :root [href^=\"https://noqreport.com/\"] > img, :root [href^=\"https://mylead.global/stl/\"] > img, :root [href^=\"https://mypatriotsupply.com/\"] > img, :root [data-freestar-ad], :root a[href^=\"https://fc.lc/ref/\"], :root .vid-present > .van_vid_carousel__padding, :root span[data-ez-ph-id], :root [href^=\"https://track.aftrk1.com/\"], :root div[id^=\"adngin-\"], :root [data-rc-widget], :root a[href^=\"https://go.xxxijmp.com\"], :root [href^=\"https://istlnkcl.com/\"], :root a[href^=\"https://staRTgaming.net/tienda/\"], :root a[href^=\"https://STaRtgAmInG.net/tienda/\"], :root [href^=\"https://ilovemyfreedoms.com/landing-\"], :root [href^=\"https://go.xlrdr.com\"], :root [href^=\"https://go.4rabettraff.com/\"], :root a[href^=\"https://tm-offers.gamingadult.com/\"], :root [href^=\"https://charmingdatings.life/\"], :root [href^=\"https://glersakr.com/\"], :root a[href^=\"https://italarizege.xyz/\"], :root a[href^=\"https://wittered-mainging.com/\"], :root [href^=\"https://engine.gettopple.com/\"], :root [data-id^=\"div-gpt-ad\"], :root a[href^=\"https://tracker.loropartners.com/\"], :root [href^=\"https://awbbjmp.com/\"], :root a[href^=\"https://k2s.cc/pr/\"], :root [href^=\"https://affect3dnetwork.com/track/\"], :root a[href^=\"https://camfapr.com/landing/click/\"], :root [href=\"//sexcams.plus/\"], :root a[href^=\"https://go.currency.com/\"], :root div[id^=\"advads_ad_\"], :root .resultsList > div > div > div > div[data-resultid$=\"-sponsored\"], :root [href^=\"http://www.mypillow.com/\"] > img, :root a[href^=\"https://adserver.adreactor.com/\"], :root [href^=\"http://join.shemalesfromhell.com/\"], :root a[href^=\"https://ads.betfair.com/redirect.aspx?\"], :root [href^=\"http://www.fleshlightgirls.com/\"], :root [href^=\"http://join.trannies-fuck.com/\"], :root .trc_rbox .syndicatedItem, :root a[href^=\"http://cam4com.go2cloud.org/aff_c?\"], :root a[href^=\"https://cpmspace.com/\"], :root [href^=\"https://freecourseweb.com/\"] > .sitefriend, :root a[href^=\"https://ads.planetwin365affiliate.com/redirect.aspx?\"], :root [href^=\"http://join.rodneymoore.com/\"], :root [href^=\"https://shrugartisticelder.com\"], :root a[href^=\"https://staRTgamIng.net/tienda/\"], :root div[id^=\"lazyad-\"], :root a[href^=\"http://com-1.pro/\"], :root [name^=\"google_ads_iframe\"], :root a[href^=\"http://bodelen.com/\"], :root [href=\"https://www.masstortfinancing.com/\"] > img, :root a[href^=\"https://www.geekbuying.com/dynamic-ads/\"], :root a[href^=\"https://lnkxt.bannerator.com/\"], :root [href=\"https://jdrucker.com/gold\"] > img, :root [href^=\"https://v.investologic.co.uk/\"], :root [href^=\"https://cipledecline.buzz/\"], :root a[href^=\"https://go.xxxjmp.com\"], :root #leader-companion > a[href], :root a[href^=\"https://jaxofuna.com/\"], :root div[recirculation-ad-container], :root [href^=\"https://traffserve.com/\"], :root [id^=\"ad_slider\"], :root [data-adbridg-ad-class], :root a[href^=\"http://www.adultdvdempire.com/?partner_id=\"][href*=\"&utm_\"], :root [href^=\"http://join.shemale.xxx/\"], :root div[id^=\"div-ads-\"], :root [href^=\"https://rapidgator.net/article/premium/ref/\"], :root [href^=\"https://join3.bannedsextapes.com\"], :root div[data-spotim-slot], :root [href^=\"https://antiagingbed.com/discount/\"] > img, :root a[href^=\"https://go.247traffic.com/\"], :root [href^=\"https://join.girlsoutwest.com/\"], :root [href^=\"http://trafficare.net/\"], :root [data-type=\"ad-vertical\"], :root a[href^=\"https://u.expresstech.io/\"], :root [href^=\"https://mypillow.com/\"] > img, :root [href^=\"https://ad.admitad.com/\"], :root [data-testid=\"ad_testID\"], :root [href^=\"https://goldcometals.com/clk.trk\"], :root a[href^=\"https://bodelen.com/\"], :root [data-ad-name], :root a[href*=\".g2afse.com/\"], :root a[href^=\"https://go.hpyjmp.com\"], :root a[href^=\"https://tour.mrskin.com/\"], :root a[href^=\"https://fastestvpn.com/lifetime-special-deal?a_aid=\"], :root [href^=\"https://mystore.com/\"] > img, :root [data-mobile-ad-id], :root [data-ez-name], :root a[data-widget-outbrain-redirect^=\"http://paid.outbrain.com/network/redir?\"], :root [data-dynamic-ads], :root a[href^=\"http://go.xtbaffiliates.com/\"], :root a[href^=\"https://consali.com/\"], :root .grid > .container > #aside-promotion, :root DFP-AD, :root [onclick*=\"content.ad/\"], :root AMP-AD, :root a[href^=\"https://sTartGAMiNG.net/tienda/\"], :root [data-ad-cls], :root [id^=\"ad-wrap-\"], :root div[id^=\"taboola-stream-\"], :root [href^=\"https://go.astutelinks.com/\"], :root a[href^=\"http://tc.tradetracker.net/\"] > img, :root a[href^=\"http://affiliates.thrixxx.com/\"], :root a[href^=\"https://www.adultempire.com/\"][href*=\"?partner_id=\"], :root [data-template-type=\"nativead\"], :root [class^=\"amp-ad-\"], :root [href^=\"https://affiliate.fastcomet.com/\"] > img, :root [class^=\"adDisplay-module\"], :root AD-SLOT, :root .ob_dual_right > .ob_ads_header ~ .odb_div, :root a[href^=\"https://www.liquidfire.mobi/\"], :root [href^=\"https://click2cvs.com/\"], :root .trc_related_container div[data-item-syndicated=\"true\"], :root [href^=\"http://join.shemalepornstar.com/\"], :root a[href^=\"https://go.xlviiirdr.com\"], :root .trc_rbox_div .syndicatedItem, :root .plistaList > .itemLinkPET, :root [href^=\"https://gmxvmvptfm.com/\"], :root div[data-adunit], :root app-large-ad, :root [href^=\"https://turtlebids.irauctions.com/\"] img, :root a[href^=\"https://www.adskeeper.com\"], :root [href^=\"https://totlnkcl.com/\"], :root [data-ad-module], :root a[data-oburl^=\"https://paid.outbrain.com/network/redir?\"], :root div[data-ad-targeting], :root a[href^=\"https://hotplaystime.life/\"], :root a[href^=\"http://www.h4trck.com/\"], :root [href^=\"https://trackfin.asia/\"], :root .plistaList > .plista_widget_underArticle_item[data-type=\"pet\"], :root a[href^=\"https://bs.serving-sys.com\"], :root [href^=\"http://residenceseeingstanding.com/\"], :root div[id^=\"pa_sticky_ad_box_middle_\"], :root a[href^=\"http://www.onclickmega.com/jump/next.php?\"], :root .trc_rbox_border_elm .syndicatedItem, :root a[href*=\"//lkstrck2.com/\"], :root [class^=\"div-gpt-ad\"], :root a[href^=\"https://ggbetpromo.com/\"], :root a[href^=\"http://partners.etoro.com/\"], :root [data-advadstrackid], :root a[href^=\"https://refpazkjixes.top/\"], :root #mgb-container > #mgb, :root [href^=\"https://www.cloudways.com/en/?id\"], :root [href^=\"https://safer-redirection.com\"], :root a[href^=\"https://startgAming.net/tienda/\"], :root a[href^=\"https://tweakostensibleinstaller.com/\"], :root a[href^=\"https://go.xlivrdr.com\"], :root a[href^=\"https://cam4com.go2cloud.org/\"], :root a[href^=\"http://li.blogtrottr.com/click?\"], :root [href^=\"//mage98rquewz.com/\"], :root a[href^=\"https://webroutetrk.com/\"], :root a[href^=\"https://mercurybest.com/\"], :root [href^=\"https://www.restoro.com/\"], :root div[id^=\"optidigital-adslot\"], :root .resultsList > div > div > div > div.G-5c[role=\"tab\"][tabindex=\"0\"] > .yuAt-pres-rounded { display: none !important; }\u003c/style><style type=\"text/css\">#button {\n  display:none;\n}\n.imgb_vis {\n  animation: imgb-animation 7s linear;\n}\n@keyframes imgb-animation {\n  10% {\n    transform: translateX(0);\n  }\n  20% {\n    transform: translateX(100px);\n  }\n  90% {\n    transform: translateX(100px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\u003c/style>\u003c/head><body dir=\"ltr\"><script>\n\t\tvar gameConfig = {\n\t\t\tswfUrl: \"https://cdn.jsdelivr.net/gh/supaub/interstellar-3@8a13c735e7df6d86602b354e45c090405f21f45a/play/flash/swf/bloonstd1.swf\"\t\t\n\t\t}\n\u003c/script>\n<div id=\"waflashContainer\">\n<canvas class=\"waflashCanvas\" id=\"canvas\" tabindex=\"1\" width=\"987\" height=\"931\" style=\"cursor: default; --waf-content-width: 640px; --waf-content-height: 480px;\" waf-content-width=\"640\" waf-content-height=\"480\" waf-content-fps=\"40\">\u003c/canvas>\n<div id=\"waflashStatus\" style=\"display: none;\">Playing..\u003c/div>\n<script>\n\t\tvar ua = navigator.userAgent.toLowerCase();\n\t\tif ( (navigator.appName =='Netscape' && ua.indexOf('trident') != -1) || (ua.indexOf(\"msie\") != -1)) {\n    \t\tvar waf = document.getElementById('waflashStatus');\n\t\t\twaf.style.display ='block';\n\t\t\twaf.innerText ='??? ?????(IE) ??? ??? ???? ???? !\\n??, ???? ?? ????? ??????.';\n\t\t\tgtag('event', 'connect_from_ie', {'event_category': 'error', 'event_label': ua });\n\t\t}\n\t\u003c/script>\n<script crossorigin=\"anonymous\" type=\"module\">\n\t\tlet is_mobile = /Mobi/i.test(window.navigator.userAgent);\n\t\tif (is_mobile) {\n\t\t\tfunction scrollToSubject() {\n\t\t\t\ttry {\n\t\t\t\t\twindow.scrollTo({\n\t\t\t\t\t\ttop: 100,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tbehavior: 'smooth'\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t\tscrollToSubject();\n\t\t\twindow.addEventListener(\"orientationchange\", function() {\n\t\t\t\tsetTimeout(scrollToSubject, 100);\n\t\t\t});\n\t\t} else {\n\t\t\tdocument.getElementById('canvas').focus();\n\t\t}\n\t\tdocument.getElementById('canvas').addEventListener(\"keydown\", function(ev) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t});\n\t\tdocument.getElementById('canvas').addEventListener(\"click\", function() {\n\t\t\tdocument.getElementById('canvas').focus();\n\t\t});\n\t\tdocument.addEventListener(\"mousedown\", (function() {\n\t\t\tconst canvasElement = document.getElementById('canvas');\n\t\t\tlet focused = false;\n\t\t\treturn function(ev) {\n\t\t\t\tif (ev.target == canvasElement) {\n\t\t\t\t\tif (!focused) {\n\t\t\t\t\t\tcanvasElement.focus();\n\t\t\t\t\t\tfocused = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (focused) {\n\t\t\t\t\t\tfocused = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})());\n\t\timport {\n\t\t\tcreateWaflash\n\t\t} from 'https://cdn.jsdelivr.net/gh/zhit73/wafedit@bd6c0b779c3d8b175e60c149194f6344807b21aa/wasm/waflash-player.min.js';\n\t\tcreateWaflash(gameConfig.swfUrl, window.wafOptions || {});\n\t\u003c/script>\n\u003c/div>\n<script src=\"https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/addc4348-16c2-4645-9dff-f99b962e39ef%2Fscr.js\">\u003c/script>\n\n<script>gadgets.util.runOnLoadHandlers();\u003c/script><script>window.google.csi.tickDl();\n\u003c/script><div id=\"button\" class=\"imgb imgb_vis\" style=\"position: fixed; top: 10%; left: -100px; z-index: 10; display: none;\"><a target=\"_blank\" href=\"https://sites.google.com/site/classroom6x/\" title=\"More of best Classroom 6x Unblocked Games\"><img src=\"https://lh4.googleusercontent.com/lUEWrXMVEr4AdjKISyJahDRJ61bwfvHdpeYm86Djn5U8oCm9dI60NGXSBqad9HUvzTXgqlkosA_hWV-VuXPjzrkGvh3_kNSgYk8ySWzXnDpbBCBiooyBbU8oBy3YBZMDkW8RcRVmDuC0raoeqZBm8kBlqs6c5mdfkJeN2aE68lXS_lcOZ5_F7lIuM6qLVg\" width=\"100\" height=\"30\" style=\"cursor:pointer;\" alt=\"More Unblocked Games 6x\">\u003c/a>\u003c/div>\u003c/body>\u003c/html>",
  "Thermomorph": "<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n<!--this is a horror game like fnaf. Uses jsdelivr--!>\n\n<!doctype html>\n<html lang=\"en-us\">\n<base href=\"https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/thermomorph/\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1, maximum-scale=1\">\n    <title>Thermomorph\u003c/title>\n\n    <!-- Load custom style sheet -->\n    <style>\n      * {\n          box-sizing: border-box;\n      }\n\n      h1 {\n          font-family: arial;\n          color: white;\n      }\n\n      body {\n          font-family: arial;\n          margin: 0;\n          padding: none;\n          background-color: black;\n          color: white;\n      }\n\n      footer {\n          font-family: arial;\n          font-size: 12px;\n          padding-left: 10px;\n          position:absolute;\n          bottom: 0;\n          width: 100%;\n      }\n\n      /* Links */\n      a {\n          text-decoration: none;\n      }\n      a:link {\n          color: rgb( 233, 73, 154 );\n      }\n      a:visited {\n          color: rgb( 110, 30, 71 );\n      }\n      a:hover {\n          color: rgb( 252, 207, 230 );\n      }\n\n      /* the canvas *must not* have any border or padding, or mouse coords will be wrong */\n      #canvas {\n          padding-right: 0;\n          display: none;\n          border: 0px none;\n      }\n    \u003c/style>\n  \u003c/head>\n  <body>\n    <canvas id=\"canvas\" style=\"visibility: hidden; position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; display: block;\" oncontextmenu=\"event.preventDefault()\">\u003c/canvas>\n    <canvas id=\"loadingCanvas\" style=\"position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;\" oncontextmenu=\"event.preventDefault()\">\u003c/canvas>\n\n    <script type='text/javascript'>\n      var loadingContext = document.getElementById('loadingCanvas').getContext('2d');\n      function drawLoadingText(text) {\n        var canvas = loadingContext.canvas;\n        canvas.width  = window.innerWidth;\n        canvas.height = window.innerHeight;\n\n        loadingContext.fillStyle = \"rgb(0, 0, 0)\";\n        loadingContext.fillRect(0, 0, canvas.scrollWidth, canvas.scrollHeight);\n\n        loadingContext.font = '2em arial';\n        loadingContext.textAlign = 'center'\n        loadingContext.fillStyle = \"rgb(255, 255, 255)\";\n        loadingContext.fillText(text, canvas.scrollWidth / 2, canvas.scrollHeight / 2);\n      }\n\n      window.onload = function () { window.focus(); };\n      window.onclick = function () { window.focus(); };\n\n      window.addEventListener(\"keydown\", function(e) {\n        // space and arrow keys\n        if([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n          e.preventDefault();\n        }\n      }, false);\n\n      var Module = {\n        arguments: [\"./game.love\"],\n        INITIAL_MEMORY: 31457280,\n        printErr: console.error.bind(console),\n        canvas: (function() {\n          var canvas = document.getElementById('canvas');\n\n          // As a default initial behavior, pop up an alert when webgl context is lost. To make your\n          // application robust, you may want to override this behavior before shipping!\n          // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2\n          canvas.addEventListener(\"webglcontextlost\", function(e) { alert('WebGL context lost. You will need to reload the page.'); e.preventDefault(); }, false);\n\n          return canvas;\n        })(),\n        setStatus: function(text) {\n          if (text) {\n            drawLoadingText(text);\n          } else if (Module.remainingDependencies === 0) {\n            document.getElementById('loadingCanvas').style.display = 'none';\n            document.getElementById('canvas').style.visibility = 'visible';\n          }\n        },\n        totalDependencies: 0,\n        remainingDependencies: 0,\n        monitorRunDependencies: function(left) {\n          this.remainingDependencies = left;\n          this.totalDependencies = Math.max(this.totalDependencies, left);\n          Module.setStatus(left ? 'Preparing... (' + (this.totalDependencies-left) + '/' + this.totalDependencies + ')' : 'All downloads complete.');\n        }\n      };\n      Module.setStatus('Downloading...');\n      window.onerror = function(event) {\n        // TODO: do not warn on ok events like simulating an infinite loop or exitStatus\n        Module.setStatus('Exception thrown, see JavaScript console');\n        Module.setStatus = function(text) {\n          if (text) Module.printErr('[post-exception status] ' + text);\n        };\n      };\n\n      var applicationLoad = function(e) {\n        Love(Module);\n      }\n\n    \u003c/script>\n    <script type=\"text/javascript\" src=\"game.js\">\u003c/script>\n    <script async type=\"text/javascript\" src=\"love.js\" onload=\"applicationLoad(this)\">\u003c/script>\n  \u003c/body>\n\u003c/html>\n<script defer src=\"https://static.itch.io/htmlgame.js\" type=\"text/javascript\">\u003c/script>\n",
  "The_Sodor_Race": "<Module>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n\n<Module>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n  <title>really cool flash game\u003c/title>\n  <style>\n    html, body {\n      margin: 0;\n      padding: 0;\n      background: black;\n      overflow: hidden;\n      height: 100%;\n      width: 100%;\n    }\n    #flash-container {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background: black;\n      overflow: hidden;\n    }\n    .black-box {\n      position: fixed;\n      background: black;\n      z-index: 10;\n    }\n    #box-top {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n    }\n    #box-bottom {\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n    }\n    #box-left {\n      top: 0;\n      left: 0;\n      width: 0;\n      height: 100%;\n    }\n    #box-right {\n      top: 0;\n      right: 0;\n      width: 0;\n      height: 100%;\n    }\n    ruffle-player {\n      width: 100%;\n      height: 100%;\n      background: black;\n      display: block;\n    }\n  \u003c/style>\n  <script src=\"https://cdn.jsdelivr.net/npm/@ruffle-rs/ruffle@0.2.0-nightly.2025.10.2/ruffle.min.js\">\u003c/script>\n\u003c/head>\n<body>\n  <div id=\"flash-container\">\u003c/div>\n  <div class=\"black-box\" id=\"box-top\">\u003c/div>\n  <div class=\"black-box\" id=\"box-bottom\">\u003c/div>\n  <div class=\"black-box\" id=\"box-left\">\u003c/div>\n  <div class=\"black-box\" id=\"box-right\">\u003c/div>\n  <script>\n    const container = document.getElementById(\"flash-container\");\n    const boxTop = document.getElementById(\"box-top\");\n    const boxBottom = document.getElementById(\"box-bottom\");\n    const boxLeft = document.getElementById(\"box-left\");\n    const boxRight = document.getElementById(\"box-right\");\n    \n    function resizeGame() {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const aspectRatio = 5.5 / 3;\n      \n      // Use 95% of available space instead of 100%\n      let width = Math.floor(windowWidth * 1);\n      let height = Math.floor(width / aspectRatio);\n      \n      if (height > windowHeight * 1) {\n        height = Math.floor(windowHeight * 1);\n        width = Math.floor(height * aspectRatio);\n      }\n      \n      container.style.width = `${width}px`;\n      container.style.height = `${height}px`;\n      \n      // Calculate margins\n      const topMargin = (windowHeight - height) / 2;\n      const leftMargin = (windowWidth - width) / 2;\n      \n      // Set black box sizes\n      boxTop.style.height = `${topMargin}px`;\n      boxBottom.style.height = `${topMargin}px`;\n      boxLeft.style.width = `${leftMargin}px`;\n      boxRight.style.width = `${leftMargin}px`;\n    }\n    \n    window.addEventListener(\"resize\", resizeGame);\n    window.addEventListener(\"DOMContentLoaded\", () => {\n      resizeGame();\n      const ruffle = window.RufflePlayer?.newest() || window.RufflePlayer?.createPlayer();\n      if (ruffle && container) {\n        const player = ruffle.createPlayer();\n        player.style.width = \"100%\";\n        player.style.height = \"100%\";\n        player.style.background = \"black\";\n        container.appendChild(player);\n        player.load(\"$1\");\n      } else {\n        container.textContent = \"Ruffle failed to load.\"; \n      }\n    });\n  \u003c/script>\n    \n    <embed src=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@main/The_Sodor_Race.swf\" width=\"100%\" height=\"100%\">\n\u003c/body>\n\u003c/html>\n\u003c/Content>\n\u003c/Module>",
  "They_Are_Coming": "<!DOCTYPE html>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n\n\n<html lang=\"en-us\">\n<head>\n<meta charset=\"utf-8\"/>\n  <base href=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@main/they-are-coming/\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\"/>\n<link rel=\"stylesheet\" href=\"style.css\"/>\n\n<style>\n        /* \u0423\u0431\u0438\u0440\u0430\u0435\u043c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u044e \u043a\u043b\u0430\u0432\u0438\u0448 */\n        canvas:focus {\n            outline: none;\n        }\n\n        html, body {\n            /* \u0423\u0431\u0438\u0440\u0430\u0435\u043c \u043e\u0442\u0441\u0442\u0443\u043f\u044b */\n            padding: 0;\n            margin: 0;\n            /* \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0441\u043a\u0440\u043e\u043b\u043b \u0438 \u043b\u043e\u043d\u0433\u0442\u0430\u043f \u043d\u0430 IOS */\n            overflow: hidden;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            -webkit-tap-highlight-color: rgba(0,0,0,0);\n            /* \u0421\u0442\u0430\u0432\u0438\u043c \u0432\u044b\u0441\u043e\u0442\u0443 \u043d\u0430 100% */\n            height: 100%;\n        }\n    \u003c/style>\n<!-- Additional head modules -->\n\u003c/head>\n<body class=\"dark\">\n<div id=\"unity-container\" class=\"unity-desktop\">\n<canvas id=\"unity-canvas\" tabindex=\"-1\">\u003c/canvas>\n\u003c/div>\n<div id=\"loading-cover\" style=\"display:none;\">\n<div id=\"unity-loading-bar\">\n<div id=\"unity-logo\"><img src=\"logo.png\"/>\u003c/div>\n<div id=\"unity-progress-bar-empty\" style=\"display: none;\">\n<div id=\"unity-progress-bar-full\">\u003c/div>\n\u003c/div>\n<div class=\"spinner\">\u003c/div>\n\u003c/div>\n\u003c/div>\n<!-- Additional body modules -->\n<script>\n    const hideFullScreenButton = \"\";\n    const buildUrl = \"Build\";\n    const loaderUrl = buildUrl + \"/zombieshooterdone.loader.js\";\n    const config = {\n        dataUrl: buildUrl + \"/zombieshooterdone.data.br\",\n        frameworkUrl: buildUrl + \"/zombieshooterdone.framework.js\",\n        streamingAssetsUrl: \"StreamingAssets\",\n        companyName: \"OnHitDev\",\n        productName: \"They Are Coming\",\n        productVersion: \"1.19\"\n    };\n\n    const wasmParts = [\n        `${buildUrl}/zombieshooterdone.wasm.br.part0`,\n        `${buildUrl}/zombieshooterdone.wasm.br.part1`,\n        `${buildUrl}/zombieshooterdone.wasm.br.part2`,\n        `${buildUrl}/zombieshooterdone.wasm.br.part3`\n    ];\n\n    async function fetchAndMergeWasm() {\n        const parts = await Promise.all(wasmParts.map(url =>\n            fetch(url).then(r => {\n                if (!r.ok) throw new Error(`Failed to load ${url}`);\n                return r.arrayBuffer();\n            })\n        ));\n        const totalLength = parts.reduce((sum, part) => sum + part.byteLength, 0);\n        const merged = new Uint8Array(totalLength);\n        let offset = 0;\n        for (const part of parts) {\n            merged.set(new Uint8Array(part), offset);\n            offset += part.byteLength;\n        }\n        const blob = new Blob([merged], { type: \"application/wasm+br\" });\n        return URL.createObjectURL(blob);\n    }\n\nfetchAndMergeWasm().then(blobUrl => {\n    config.codeUrl = blobUrl;\n\n    const script = document.createElement(\"script\");\n    script.src = loaderUrl;\n    script.onload = () => {\n        createUnityInstance(document.querySelector(\"#unity-canvas\"), config, (progress) => {\n            const loader = document.querySelector(\"#unity-loading-bar\");\n            if (loader) loader.style.width = `${progress * 100}%`;\n        }).then((unityInstance) => {\n            myGameInstance = unityInstance;\n            document.querySelector(\"#loading-cover\").style.display = \"none\";\n        }).catch((message) => {\n            console.error(\"Unity y\u00fckleme hatas\u0131:\", message);\n        });\n    };\n    document.body.appendChild(script);\n});\n\n    \n\n        const container = document.querySelector(\"#unity-container\");\n        const canvas = document.querySelector(\"#unity-canvas\");\n        const loadingCover = document.querySelector(\"#loading-cover\");\n        const progressBarEmpty = document.querySelector(\"#unity-progress-bar-empty\");\n        const progressBarFull = document.querySelector(\"#unity-progress-bar-full\");\n        const spinner = document.querySelector('.spinner');\n\n        const canFullscreen = (function () {\n            for (const key of [\n                'exitFullscreen',\n                'webkitExitFullscreen',\n                'webkitCancelFullScreen',\n                'mozCancelFullScreen',\n                'msExitFullscreen',\n            ]) {\n                if (key in document) {\n                    return true;\n                }\n            }\n            return false;\n        }());\n\n        if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {\n            container.className = \"unity-mobile\";\n            \n        }\n\n        // \u0424\u043e\u043d\u043e\u0432\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0433\u0440\u044b. \u041f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u0431\u0438\u043b\u0434\u0430 \u043a\u043e\u0434 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0432\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0430.\n        \n        loadingCover.style.background = \"url('background.png') center / cover\";\n\n        loadingCover.style.display = \"\";\n\n        // \u0412\u044b\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u043d\u044e \u043f\u0440\u0438 \u043f\u0440\u0430\u0432\u043e\u043c \u043a\u043b\u0438\u043a\u0435 \u043c\u044b\u0448\u0438\n          document.addEventListener('contextmenu', event => event.preventDefault());\n\n        function FocusGame() {\n            window.focus();\n            canvas.focus();\n        }\n\n        window.addEventListener('pointerdown', FocusGame);\n        window.addEventListener('touchstart', FocusGame);\n\n        let StartUnityInstance;\n        let myGameInstance;\n        let ysdk = null; // Yandex SDK pasif\n\n        // \n        let environmentData = {\n            language: \"en\",\n            domain: \"default_domain\",\n            deviceType: \"desktop\",\n            isMobile: false,\n            isDesktop: true,\n            isTablet: false,\n            isTV: false,\n            appID: \"default_app_id\",\n            browserLang: navigator.language || \"en\",\n            payload: null,\n            promptCanShow: false,\n            reviewCanShow: false,\n            platform: navigator.platform,\n            browser: (function() {\n                let userAgent = navigator.userAgent;\n                if (userAgent.includes(\"YaBrowser\")) return \"Yandex\";\n                if (userAgent.includes(\"OPR\") || userAgent.includes(\"Opera\")) return \"Opera\";\n                if (userAgent.includes(\"Firefox\")) return \"Firefox\";\n                if (userAgent.includes(\"MSIE\") || userAgent.includes(\"Trident\")) return \"IE\";\n                if (userAgent.includes(\"Edge\")) return \"Edge\";\n                if (userAgent.includes(\"Chrome\")) return \"Chrome\";\n                if (userAgent.includes(\"Safari\")) return \"Safari\";\n                return \"Other\";\n            })()\n        };\n        \n        let cloudSaves = 'noData';\n        let paymentsData = 'none';\n        let playerData = 'noData'; // Varsay\u0131lan playerData tan\u0131m\u0131\n        let player = null;\n        let payments = null;\n        let initGame = false;\n        let nowFullAdOpen = false;\n\n        // \n        function GetPayments() { console.warn(\"GetPayments is not implemented\"); return Promise.resolve(\"none\"); }\n        function SaveCloud() { console.warn(\"SaveCloud is not implemented\"); }\n        function LoadCloud() { console.warn(\"LoadCloud is not implemented\"); return Promise.resolve(\"noData\"); }\n        function InitPlayer() { console.warn(\"InitPlayer is not implemented\"); return Promise.resolve(\"noData\"); }\n\n\n        function FullAdShow() {\n    try {\n        // Prevent multiple fullscreen ads from opening simultaneously\n        if (!nowFullAdOpen) {\n            nowFullAdOpen = true;\n\n            // If the game is initialized, notify Unity to open the fullscreen ad\n            if (initGame) {\n                myGameInstance.SendMessage(\"YandexGame\", \"OpenFullAd\");\n            }\n\n            // Simulate ad duration (500ms) and then close it\n            setTimeout(() => {\n                nowFullAdOpen = false;\n                if (initGame) {\n                    myGameInstance.SendMessage(\"YandexGame\", \"CloseFullAd\", \"true\");\n                }\n                FocusGame(); // Refocus the game after ad closes\n            }, 500);\n        }\n    } catch (error) {\n        // Silently handle any errors\n    }\n}\n\n\nfunction RewardedShow(rewardId) {\n    try {\n        // Notify Unity to open the rewarded video with the given reward ID\n        myGameInstance.SendMessage(\"YandexGame\", \"RewardVideo\", rewardId);\n\n        // After the ad, close it and refocus the game\n        function closeRewardedAd() {\n            myGameInstance.SendMessage(\"YandexGame\", \"CloseRewardVideo\");\n            FocusGame();\n        }\n        closeRewardedAd(); // Immediate closure for simplicity; in practice, this might be delayed or conditional\n    } catch (error) {\n        // Silently handle any errors\n    }\n}\n\n\n\n        function StickyAdActivity() { console.warn(\"StickyAdActivity is not implemented\"); }\n        function Review() { console.warn(\"Review is not implemented\"); }\n        function PromptShow() { console.warn(\"PromptShow is not implemented\"); }\n        function InitLeaderboards() { console.warn(\"InitLeaderboards is not implemented\"); }\n        function GetLeaderboardScores() { console.warn(\"GetLeaderboardScores is not implemented\"); }\n        function SetLeaderboardScores() { console.warn(\"SetLeaderboardScores is not implemented\"); }\n        function ConsumePurchase() { console.warn(\"ConsumePurchase is not implemented\"); }\n        function ConsumePurchases() { console.warn(\"ConsumePurchases is not implemented\"); } // \n\n\n        function InitGame() {\n            try {\n                console.log('Init Game Success');\n                initGame = true;\n                if (nowFullAdOpen === true && myGameInstance != null) {\n                    myGameInstance.SendMessage('YandexGame', 'OpenFullAd');\n                }\n            } catch (error) {\n                console.error(\"InitGame s\u0131ras\u0131nda hata:\", error);\n            }\n        }\n\n        // \n        window.addEventListener(\"unhandledrejection\", function(event) {\n            console.warn(\"Hata es ge\u00e7ildi:\", event.reason);\n            event.preventDefault();\n        });\n    \u003c/script>\n\u003c/body>\n\u003c/html>",
  "This_Is_The_Only_Level": "<html><head><base target=\"_blank\">\u003c/head><body><div id=\"fr\" data=\"<iframe width=&quot;100%&quot; height=&quot;100%&quot; src=&quot;https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/8c491f21-7353-4f1f-b2a0-9544824c4d28%2Fthis_is_the_only_level.xml&amp;container=ig&quot; frameborder=&quot;0&quot; allowfullscreen>\u003c/iframe>\"><iframe width=\"100%\" height=\"100%\" src=\"https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/8c491f21-7353-4f1f-b2a0-9544824c4d28%2Fthis_is_the_only_level.xml&amp;container=ig\" frameborder=\"0\" allowfullscreen=\"\">\u003c/iframe>\u003c/div>",
  "This_Is_The_Only_Level_2": "<Module>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n\n<Module>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n  <title>really cool flash game\u003c/title>\n  <style>\n    html, body {\n      margin: 0;\n      padding: 0;\n      background: black;\n      overflow: hidden;\n      height: 100%;\n      width: 100%;\n    }\n    #flash-container {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background: black;\n      overflow: hidden;\n    }\n    .black-box {\n      position: fixed;\n      background: black;\n      z-index: 10;\n    }\n    #box-top {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n    }\n    #box-bottom {\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n    }\n    #box-left {\n      top: 0;\n      left: 0;\n      width: 0;\n      height: 100%;\n    }\n    #box-right {\n      top: 0;\n      right: 0;\n      width: 0;\n      height: 100%;\n    }\n    ruffle-player {\n      width: 100%;\n      height: 100%;\n      background: black;\n      display: block;\n    }\n  \u003c/style>\n  <script src=\"https://cdn.jsdelivr.net/npm/@ruffle-rs/ruffle@0.2.0-nightly.2025.10.2/ruffle.min.js\">\u003c/script>\n\u003c/head>\n<body>\n  <div id=\"flash-container\">\u003c/div>\n  <div class=\"black-box\" id=\"box-top\">\u003c/div>\n  <div class=\"black-box\" id=\"box-bottom\">\u003c/div>\n  <div class=\"black-box\" id=\"box-left\">\u003c/div>\n  <div class=\"black-box\" id=\"box-right\">\u003c/div>\n  <script>\n    const container = document.getElementById(\"flash-container\");\n    const boxTop = document.getElementById(\"box-top\");\n    const boxBottom = document.getElementById(\"box-bottom\");\n    const boxLeft = document.getElementById(\"box-left\");\n    const boxRight = document.getElementById(\"box-right\");\n    \n    function resizeGame() {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const aspectRatio = 5.5 / 3;\n      \n      // Use 95% of available space instead of 100%\n      let width = Math.floor(windowWidth * 1);\n      let height = Math.floor(width / aspectRatio);\n      \n      if (height > windowHeight * 1) {\n        height = Math.floor(windowHeight * 1);\n        width = Math.floor(height * aspectRatio);\n      }\n      \n      container.style.width = `${width}px`;\n      container.style.height = `${height}px`;\n      \n      // Calculate margins\n      const topMargin = (windowHeight - height) / 2;\n      const leftMargin = (windowWidth - width) / 2;\n      \n      // Set black box sizes\n      boxTop.style.height = `${topMargin}px`;\n      boxBottom.style.height = `${topMargin}px`;\n      boxLeft.style.width = `${leftMargin}px`;\n      boxRight.style.width = `${leftMargin}px`;\n    }\n    \n    window.addEventListener(\"resize\", resizeGame);\n    window.addEventListener(\"DOMContentLoaded\", () => {\n      resizeGame();\n      const ruffle = window.RufflePlayer?.newest() || window.RufflePlayer?.createPlayer();\n      if (ruffle && container) {\n        const player = ruffle.createPlayer();\n        player.style.width = \"100%\";\n        player.style.height = \"100%\";\n        player.style.background = \"black\";\n        container.appendChild(player);\n        player.load(\"$1\");\n      } else {\n        container.textContent = \"Ruffle failed to load.\"; \n      }\n    });\n  \u003c/script>\n    <param name=\"movie\" value=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@1500a41d490b7455b4f3c8bfe2922687e18a6083/theimpossiblequiz2.swf\">\n    <embed src=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@1500a41d490b7455b4f3c8bfe2922687e18a6083/theimpossiblequiz2.swf\" width=\"100%\" height=\"100%\">\n\u003c/body>\n\u003c/html>\n\u003c/Content>\n\u003c/Module>",
  "This_Is_The_Only_Level_Too": "<Module>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n<Module>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n  <title>really cool flash game\u003c/title>\n  <style>\n    html, body {\n      margin: 0;\n      padding: 0;\n      background: black;\n      overflow: hidden;\n      height: 100%;\n      width: 100%;\n    }\n    #flash-container {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background: black;\n      overflow: hidden;\n    }\n    .black-box {\n      position: fixed;\n      background: black;\n      z-index: 10;\n    }\n    #box-top {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n    }\n    #box-bottom {\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n    }\n    #box-left {\n      top: 0;\n      left: 0;\n      width: 0;\n      height: 100%;\n    }\n    #box-right {\n      top: 0;\n      right: 0;\n      width: 0;\n      height: 100%;\n    }\n    ruffle-player {\n      width: 100%;\n      height: 100%;\n      background: black;\n      display: block;\n    }\n  \u003c/style>\n  <script src=\"https://cdn.jsdelivr.net/npm/@ruffle-rs/ruffle@0.2.0-nightly.2025.10.2/ruffle.min.js\">\u003c/script>\n\u003c/head>\n<body>\n  <div id=\"flash-container\">\u003c/div>\n  <div class=\"black-box\" id=\"box-top\">\u003c/div>\n  <div class=\"black-box\" id=\"box-bottom\">\u003c/div>\n  <div class=\"black-box\" id=\"box-left\">\u003c/div>\n  <div class=\"black-box\" id=\"box-right\">\u003c/div>\n  <script>\n    const container = document.getElementById(\"flash-container\");\n    const boxTop = document.getElementById(\"box-top\");\n    const boxBottom = document.getElementById(\"box-bottom\");\n    const boxLeft = document.getElementById(\"box-left\");\n    const boxRight = document.getElementById(\"box-right\");\n    \n    function resizeGame() {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const aspectRatio = 5.5 / 3;\n      \n      // Use 95% of available space instead of 100%\n      let width = Math.floor(windowWidth * 1);\n      let height = Math.floor(width / aspectRatio);\n      \n      if (height > windowHeight * 1) {\n        height = Math.floor(windowHeight * 1);\n        width = Math.floor(height * aspectRatio);\n      }\n      \n      container.style.width = `${width}px`;\n      container.style.height = `${height}px`;\n      \n      // Calculate margins\n      const topMargin = (windowHeight - height) / 2;\n      const leftMargin = (windowWidth - width) / 2;\n      \n      // Set black box sizes\n      boxTop.style.height = `${topMargin}px`;\n      boxBottom.style.height = `${topMargin}px`;\n      boxLeft.style.width = `${leftMargin}px`;\n      boxRight.style.width = `${leftMargin}px`;\n    }\n    \n    window.addEventListener(\"resize\", resizeGame);\n    window.addEventListener(\"DOMContentLoaded\", () => {\n      resizeGame();\n      const ruffle = window.RufflePlayer?.newest() || window.RufflePlayer?.createPlayer();\n      if (ruffle && container) {\n        const player = ruffle.createPlayer();\n        player.style.width = \"100%\";\n        player.style.height = \"100%\";\n        player.style.background = \"black\";\n        container.appendChild(player);\n        player.load(\"$1\");\n      } else {\n        container.textContent = \"Ruffle failed to load.\"; \n      }\n    });\n  \u003c/script>\n    \n    <embed src=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@3b438e41f9fd6346f864a59b9fcd45733ae326a4/this-is-the-only-lev-5351.swf\" width=\"100%\" height=\"100%\">\n\u003c/body>\n\u003c/html>\n\u003c/Content>\n\u003c/Module>",
  "Three_Goblets": "<Module>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n<!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\"> <title>Three Goblets\u003c/title> <script async src=\"https://www.googletagmanager.com/gtag/js?id=G-MENBM6GSNY\">\u003c/script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag(\"js\",new Date),gtag(\"config\",\"G-MENBM6GSNY\")\u003c/script> <style> * { padding: 0; margin: 0} canvas { position: absolute; top: 0px; margin-left:0px; } #screenCanvas { background-color: #000; background-image: url(\"https://517352059-274610048362274831.preview.editmysite.com/uploads/b/139890129-140139300402873205/files/assets/loading.png\"); } \u003c/style> \u003c/head> <body> <canvas id=\"screenCanvas\" width=\"640\" height=\"576\">\u003c/canvas> <script data-main=\"https://517352059-274610048362274831.preview.editmysite.com/uploads/b/139890129-140139300402873205/files/scripts/app\" src=\"https://517352059-274610048362274831.preview.editmysite.com/uploads/b/139890129-140139300402873205/files/scripts/lib/require.js\">\u003c/script> <script src=\"\">\u003c/script> \u003c/body> \u003c/html>",
  "Throw_A_Potato": "<Module>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n<!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui\"> <meta name=\"apple-mobile-web-app-capable\" content=\"yes\"> <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"> <meta name=\"HandheldFriendly\" content=\"true\"> <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/bubbls/ruffle@d575f9f1fdbbb1fd531b97bb3b921ad7ea5ae559/pocs.css\"> \u003c/head> <body> <div id=\"fb-root\">\u003c/div> <noscript> <div id=\"notSupportedWrap\"> <h2 id=\"notSupportedTitle\">This content requires JavaScript\u003c/h2> <p class=\"notSupportedMessage\">JavaScript appears to be disabled. Please enable it to view this content.\u003c/p> \u003c/div> \u003c/noscript> <script src=\"https://cdn.jsdelivr.net/gh/bubbls/ruffle@d575f9f1fdbbb1fd531b97bb3b921ad7ea5ae559/pocheck.js\">\u003c/script> <script src=\"https://cdn.jsdelivr.net/gh/bubbls/ruffle@d575f9f1fdbbb1fd531b97bb3b921ad7ea5ae559/poof.js\" type=\"module\">\u003c/script> <script src=\"https://cdn.jsdelivr.net/gh/bubbls/ruffle@d575f9f1fdbbb1fd531b97bb3b921ad7ea5ae559/pomain.js\" type=\"module\">\u003c/script> <script src=\"hhttps://cdn.jsdelivr.net/gh/bubbls/ruffle@d575f9f1fdbbb1fd531b97bb3b921ad7ea5ae559/posw.js\" type=\"module\">\u003c/script> <script src=\"\">\u003c/script> \u003c/body> \u003c/html>",
  "Throw_A_Potato_Again": "<Module>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n<!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui\"> <meta name=\"apple-mobile-web-app-capable\" content=\"yes\"> <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"> <meta name=\"HandheldFriendly\" content=\"true\"> <link rel=\"stylesheet\" href=\"https://13920447-135287342860735069.preview.editmysite.com/uploads/b/147739771-196559573878831262/files/style.css\"> \u003c/head> <body> <div id=\"fb-root\">\u003c/div> <noscript> <div id=\"notSupportedWrap\"> <h2 id=\"notSupportedTitle\">This content requires JavaScript\u003c/h2> <p class=\"notSupportedMessage\">JavaScript appears to be disabled. Please enable it to view this content.\u003c/p> \u003c/div> \u003c/noscript> <script src=\"https://13920447-135287342860735069.preview.editmysite.com/uploads/b/147739771-196559573878831262/files/scripts/supportcheck.js\">\u003c/script> <script src=\"https://13920447-135287342860735069.preview.editmysite.com/uploads/b/147739771-196559573878831262/files/scripts/offlineclient.js\" type=\"module\">\u003c/script> <script src=\"https://13920447-135287342860735069.preview.editmysite.com/uploads/b/147739771-196559573878831262/files/scripts/main.js\" type=\"module\">\u003c/script> <script src=\"https://13920447-135287342860735069.preview.editmysite.com/uploads/b/147739771-196559573878831262/files/scripts/register-sw.js\" type=\"module\">\u003c/script> <script src=\"\">\u003c/script> \u003c/body> \u003c/html>",
  "Thwack": "<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n<!--This is a tennis game. Uses jsdelivr--!>\n\n<!DOCTYPE html>\n<html xmlns='http://www.w3.org/1999/xhtml' lang='' xml:lang=''>\n<head>\n<base href=\"https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/thwack/\">\n\t<meta charset='utf-8' />\n\t<meta name='viewport' content='width=device-width, user-scalable=no' />\n\t<title>Thwack\u003c/title>\n\t<style type='text/css'>\n\n\t\tbody {\n\t\t\ttouch-action: none;\n\t\t\tmargin: 0;\n\t\t\tborder: 0 none;\n\t\t\tpadding: 0;\n\t\t\ttext-align: center;\n\t\t\tbackground-color: black;\n\t\t}\n\n\t\t#canvas {\n\t\t\tdisplay: block;\n\t\t\tmargin: 0;\n\t\t\tcolor: white;\n\t\t}\n\n\t\t#canvas:focus {\n\t\t\toutline: none;\n\t\t}\n\n\t\t.godot {\n\t\t\tfont-family: 'Noto Sans', 'Droid Sans', Arial, sans-serif;\n\t\t\tcolor: #e0e0e0;\n\t\t\tbackground-color: #3b3943;\n\t\t\tbackground-image: linear-gradient(to bottom, #403e48, #35333c);\n\t\t\tborder: 1px solid #45434e;\n\t\t\tbox-shadow: 0 0 1px 1px #2f2d35;\n\t\t}\n\n\n\t\t/* Status display\n\t\t * ============== */\n\n\t\t#status {\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\t/* don't consume click events - make children visible explicitly */\n\t\t\tvisibility: hidden;\n\t\t}\n\n\t\t#status-progress {\n\t\t\twidth: 366px;\n\t\t\theight: 7px;\n\t\t\tbackground-color: #38363A;\n\t\t\tborder: 1px solid #444246;\n\t\t\tpadding: 1px;\n\t\t\tbox-shadow: 0 0 2px 1px #1B1C22;\n\t\t\tborder-radius: 2px;\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\t@media only screen and (orientation:portrait) {\n\t\t\t#status-progress {\n\t\t\t\twidth: 61.8%;\n\t\t\t}\n\t\t}\n\n\t\t#status-progress-inner {\n\t\t\theight: 100%;\n\t\t\twidth: 0;\n\t\t\tbox-sizing: border-box;\n\t\t\ttransition: width 0.5s linear;\n\t\t\tbackground-color: #202020;\n\t\t\tborder: 1px solid #222223;\n\t\t\tbox-shadow: 0 0 1px 1px #27282E;\n\t\t\tborder-radius: 3px;\n\t\t}\n\n\t\t#status-indeterminate {\n\t\t\theight: 42px;\n\t\t\tvisibility: visible;\n\t\t\tposition: relative;\n\t\t}\n\n\t\t#status-indeterminate > div {\n\t\t\twidth: 4.5px;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t\tborder-width: 9px 3px 0 3px;\n\t\t\tborder-color: #2b2b2b transparent transparent transparent;\n\t\t\ttransform-origin: center 21px;\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t#status-indeterminate > div:nth-child(1) { transform: rotate( 22.5deg); }\n\t\t#status-indeterminate > div:nth-child(2) { transform: rotate( 67.5deg); }\n\t\t#status-indeterminate > div:nth-child(3) { transform: rotate(112.5deg); }\n\t\t#status-indeterminate > div:nth-child(4) { transform: rotate(157.5deg); }\n\t\t#status-indeterminate > div:nth-child(5) { transform: rotate(202.5deg); }\n\t\t#status-indeterminate > div:nth-child(6) { transform: rotate(247.5deg); }\n\t\t#status-indeterminate > div:nth-child(7) { transform: rotate(292.5deg); }\n\t\t#status-indeterminate > div:nth-child(8) { transform: rotate(337.5deg); }\n\n\t\t#status-notice {\n\t\t\tmargin: 0 100px;\n\t\t\tline-height: 1.3;\n\t\t\tvisibility: visible;\n\t\t\tpadding: 4px 6px;\n\t\t\tvisibility: visible;\n\t\t}\n\t\u003c/style>\n<link id='-gd-engine-icon' rel='icon' type='image/png' href='index.icon.png' />\n<link rel='apple-touch-icon' href='index.apple-touch-icon.png'/>\n\n\u003c/head>\n<body>\n\t<canvas id='canvas'>\n\t\tHTML5 canvas appears to be unsupported in the current browser.<br />\n\t\tPlease try updating or use a different browser.\n\t\u003c/canvas>\n\t<div id='status'>\n\t\t<div id='status-progress' style='display: none;' oncontextmenu='event.preventDefault();'><div id ='status-progress-inner'>\u003c/div>\u003c/div>\n\t\t<div id='status-indeterminate' style='display: none;' oncontextmenu='event.preventDefault();'>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\t<div>\u003c/div>\n\t\t\u003c/div>\n\t\t<div id='status-notice' class='godot' style='display: none;'>\u003c/div>\n\t\u003c/div>\n\n\t<script type='text/javascript' src='index.js'>\u003c/script>\n\t<script type='text/javascript'>//<![CDATA[\n\n\t\tconst GODOT_CONFIG = {\"args\":[],\"canvasResizePolicy\":2,\"executable\":\"index\",\"experimentalVK\":false,\"fileSizes\":{\"index.pck\":10102912,\"index.wasm\":13788612},\"focusCanvas\":true,\"gdnativeLibs\":[]};\n\t\tvar engine = new Engine(GODOT_CONFIG);\n\n\t\t(function() {\n\t\t\tconst INDETERMINATE_STATUS_STEP_MS = 100;\n\t\t\tvar statusProgress = document.getElementById('status-progress');\n\t\t\tvar statusProgressInner = document.getElementById('status-progress-inner');\n\t\t\tvar statusIndeterminate = document.getElementById('status-indeterminate');\n\t\t\tvar statusNotice = document.getElementById('status-notice');\n\n\t\t\tvar initializing = true;\n\t\t\tvar statusMode = 'hidden';\n\n\t\t\tvar animationCallbacks = [];\n\t\t\tfunction animate(time) {\n\t\t\t\tanimationCallbacks.forEach(callback => callback(time));\n\t\t\t\trequestAnimationFrame(animate);\n\t\t\t}\n\t\t\trequestAnimationFrame(animate);\n\n\t\t\tfunction setStatusMode(mode) {\n\n\t\t\t\tif (statusMode === mode || !initializing)\n\t\t\t\t\treturn;\n\t\t\t\t[statusProgress, statusIndeterminate, statusNotice].forEach(elem => {\n\t\t\t\t\telem.style.display = 'none';\n\t\t\t\t});\n\t\t\t\tanimationCallbacks = animationCallbacks.filter(function(value) {\n\t\t\t\t\treturn (value != animateStatusIndeterminate);\n\t\t\t\t});\n\t\t\t\tswitch (mode) {\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tstatusProgress.style.display = 'block';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'indeterminate':\n\t\t\t\t\t\tstatusIndeterminate.style.display = 'block';\n\t\t\t\t\t\tanimationCallbacks.push(animateStatusIndeterminate);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'notice':\n\t\t\t\t\t\tstatusNotice.style.display = 'block';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'hidden':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error('Invalid status mode');\n\t\t\t\t}\n\t\t\t\tstatusMode = mode;\n\t\t\t}\n\n\t\t\tfunction animateStatusIndeterminate(ms) {\n\t\t\t\tvar i = Math.floor(ms / INDETERMINATE_STATUS_STEP_MS % 8);\n\t\t\t\tif (statusIndeterminate.children[i].style.borderTopColor == '') {\n\t\t\t\t\tArray.prototype.slice.call(statusIndeterminate.children).forEach(child => {\n\t\t\t\t\t\tchild.style.borderTopColor = '';\n\t\t\t\t\t});\n\t\t\t\t\tstatusIndeterminate.children[i].style.borderTopColor = '#dfdfdf';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction setStatusNotice(text) {\n\t\t\t\twhile (statusNotice.lastChild) {\n\t\t\t\t\tstatusNotice.removeChild(statusNotice.lastChild);\n\t\t\t\t}\n\t\t\t\tvar lines = text.split('\\n');\n\t\t\t\tlines.forEach((line) => {\n\t\t\t\t\tstatusNotice.appendChild(document.createTextNode(line));\n\t\t\t\t\tstatusNotice.appendChild(document.createElement('br'));\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tfunction displayFailureNotice(err) {\n\t\t\t\tvar msg = err.message || err;\n\t\t\t\tconsole.error(msg);\n\t\t\t\tsetStatusNotice(msg);\n\t\t\t\tsetStatusMode('notice');\n\t\t\t\tinitializing = false;\n\t\t\t};\n\n\t\t\tif (!Engine.isWebGLAvailable()) {\n\t\t\t\tdisplayFailureNotice('WebGL not available');\n\t\t\t} else {\n\t\t\t\tsetStatusMode('indeterminate');\n\t\t\t\tengine.startGame({\n\t\t\t\t\t'onProgress': function (current, total) {\n\t\t\t\t\t\tif (total > 0) {\n\t\t\t\t\t\t\tstatusProgressInner.style.width = current/total * 100 + '%';\n\t\t\t\t\t\t\tsetStatusMode('progress');\n\t\t\t\t\t\t\tif (current === total) {\n\t\t\t\t\t\t\t\t// wait for progress bar animation\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tsetStatusMode('indeterminate');\n\t\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetStatusMode('indeterminate');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}).then(() => {\n\t\t\t\t\tsetStatusMode('hidden');\n\t\t\t\t\tinitializing = false;\n\t\t\t\t}, displayFailureNotice);\n\t\t\t}\n\t\t})();\n\t//]]>\u003c/script>\n\u003c/body>\n\u003c/html>\n",
  "Tiberian_Dawn": "<!-- Ultimate Game Stash file-->\n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n<!DOCTYPE html>\n<html>\n<head>\n<base href=\"https://cdn.statically.io/gh/Stinkalistic/UGS/main/MISC/tiberiandawn/\">\n    <title>Vanilla Conquer\u003c/title>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"description\" content=\"C&C Tiberian Dawn from 1995 ported for the web\">\n    <meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0.0, viewport-fit=cover\">\n\t<style>\n\thtml {\n\t        height: 100vh;\n\t}\n\ta {\n\t\tcolor: #867ae0;\n\t\ttext-decoration: none;\n\t}\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\tbody {\n\t\tcolor: #ccc;\n\t\tfont-family: Monospace;\n\t\tfont-size: 16px;\n\t\tbackground-color: black;\n\t\tmargin: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\tcanvas {\n\t\toverflow: auto;\n\t\twidth: 100vw;\n\t}\n\t@media screen and (min-width: 576px) {\n\t\tcanvas {\n\t\t\theight: 100vh;\n\t\t\theight: 100dvh;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\t@keyframes page-loader { \n\t\t0% {transform: rotate(0deg); } \n\t\t100% { transform: rotate(360deg);}\n\t}\n\t.info-overlay {\n\t\ttext-align: center;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tmargin: auto;\n\t\twidth: 200px;\n\t\theight: 200px;\n\t\tdisplay: none;\n\t}\n\t#spinner {\n\t\tcontent: \"\";\n\t\tborder-radius: 50%;\n\t\twidth: 48px;\n\t\theight: 48px;\n\t\tposition: absolute;\n\t\tmargin: auto;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tborder-top: 2px solid #222;\n\t\tborder-right: 2px solid #222;\n\t\tborder-bottom: 2px solid #222;\n\t\tborder-left: 2px solid #867ae0;\n\t\ttransform: translateZ(0);\n\t\tanimation: page-loader 1.1s infinite linear;\n\t}\n\t\u003c/style>\n\u003c/head>\n<body>\n    <!-- Create the canvas that the C++ code will draw into -->\n    <canvas id=\"canvas\" oncontextmenu=\"event.preventDefault()\">\u003c/canvas>\n\t<div class=\"info-overlay\" id=\"loading\">\n\t\t<div id=\"spinner\">\u003c/div>\n\t\t<div id=\"status\">Downloading...\u003c/div>\n\t\t<div>\n\t\t\t<progress value=\"0\" max=\"100\" id=\"progress\" hidden=1>\u003c/progress>  \n\t\t\u003c/div>\n\t\u003c/div>\n\t<div class=\"info-overlay\" id=\"select-version\">\n\t\t<a href=\"#\" id=\"load\">Click here to load\u003c/a><br/>\n\t\t~31mb\n\t\u003c/div>\n    <!-- Allow the C++ to access the canvas element -->\n    <script type='text/javascript'>\n\t\tvar loadScript = (ev, src) => {\n\t\t\tev.preventDefault();\n\n\t\t\t// Hide select-version, show loader\n\t\t\tdocument.getElementById('select-version').style.display = 'none';\n\t\t\tdocument.getElementById('loading').style.display = 'block';\n\n\t\t\t// Load the requested script\n\t\t\tvar s = document.createElement('script');\n\t\t\ts.setAttribute('src', src);\n\t\t\tdocument.head.appendChild(s);\n\t\t};\n\n\t\tdocument.getElementById('select-version').style.display = 'block';\n\t\tdocument.getElementById('load').addEventListener('click', (ev) => loadScript(ev, 'index.js'));\n\n\t\tvar statusElement = document.getElementById('status');\n\t\tvar progressElement = document.getElementById('progress');\n\t\tvar spinnerElement = document.getElementById('spinner');\n    \n\t\tvar Module = {\n\t\t\tpreRun: [],\n\t\t\tpostRun: [],\n\t\t\tprint: function(text) {\n\t\t\t\tif (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');\n\t\t\t\tconsole.log(text);\n\t\t\t},\n\t\t\tcanvas: document.getElementById('canvas'),\n\t\t\tsetStatus: (text) => {\n\t\t\t\tif (!Module.setStatus.last) {\n\t\t\t\t\tModule.setStatus.last = { time: Date.now(), text: '' };\n\t\t\t\t}\n\t\t\t\tif (text === Module.setStatus.last.text) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar m = text.match(/([^(]+)\\((\\d+(\\.\\d+)?)\\/(\\d+)\\)/);\n\t\t\t\tvar now = Date.now();\n\t\t\t\tif (m && now - Module.setStatus.last.time < 30) {\n\t\t\t\t\treturn; // if this is a progress update, skip it if too soon\n\t\t\t\t}\n\t\t\t\tModule.setStatus.last.time = now;\n\t\t\t\tModule.setStatus.last.text = text;\n\t\t\t\tif (m) {\n\t\t\t\t\ttext = m[1];\n\t\t\t\t\tprogressElement.value = parseInt(m[2])*100;\n\t\t\t\t\tprogressElement.max = parseInt(m[4])*100;\n\t\t\t\t\tprogressElement.hidden = false;\n\t\t\t\t\tspinnerElement.hidden = false;\n\t\t\t\t} else {\n\t\t\t\t\tprogressElement.value = null;\n\t\t\t\t\tprogressElement.max = null;\n\t\t\t\t\tprogressElement.hidden = true;\n\t\t\t\t\tif (!text) {\n\t\t\t\t\t\tspinnerElement.hidden = true;\n\t\t\t\t\t\tdocument.getElementById('loading').style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstatusElement.innerHTML = text;\n\t\t\t},\n\t\t\ttotalDependencies: 0,\n\t\t\tmonitorRunDependencies: (left) => {\n\t\t\t\tModule.totalDependencies = Math.max(Module.totalDependencies, left);\n\t\t\t\tModule.setStatus(left ? 'preparing... (' + (Module.totalDependencies-left) + '/' + Module.totalDependencies + ')' : 'all downloads complete.');\n\t\t\t}\n\t\t};\n\t\tModule.setStatus('downloading...');\n\t\twindow.onerror = () => {\n\t\t\tModule.setStatus('Exception thrown, see JavaScript console');\n\t\t\tdocument.getElementById('loading').style.display = 'block';\n\t\t\tspinnerElement.style.display = 'none';\n\t\t\tModule.setStatus = (text) => {\n\t\t\t\tif (text) {\n\t\t\t\t\tconsole.error('[post-exception status] ' + text);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n    \u003c/script>\n\u003c/body>\n\u003c/html>\n",
  "Bounty_Of_One": "<!DOCTYPE html>\n\n\n<!-- Ultimate Game Stash file--> \n<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->\n\n\n<html lang=\"en-us\">\n  <head>\n    <base href=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@main/bounty%20of%20one/\">\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n    <title>Unity WebGL Player | BountyOfOne\u003c/title>\n    <link rel=\"shortcut icon\" href=\"TemplateData/favicon.ico\">\n    <link rel=\"stylesheet\" href=\"TemplateData/style.css\">\n  \u003c/head>\n  <body>\n    <div id=\"unity-container\" class=\"unity-desktop\">\n      <canvas id=\"unity-canvas\" width=960 height=540>\u003c/canvas>\n      <div id=\"unity-loading-bar\">\n        <div id=\"unity-logo\">\u003c/div>\n        <div id=\"unity-progress-bar-empty\">\n          <div id=\"unity-progress-bar-full\">\u003c/div>\n        \u003c/div>\n      \u003c/div>\n      <div id=\"unity-warning\"> \u003c/div>\n      <div id=\"unity-footer\">\n        <div id=\"unity-webgl-logo\">\u003c/div>\n        <div id=\"unity-fullscreen-button\">\u003c/div>\n        <div id=\"unity-build-title\">BountyOfOne\u003c/div>\n      \u003c/div>\n    \u003c/div>\n    <script>\n      window.fileMergerConfig = {\n        files: [\n          { name: '2022.05.25 Mons GameDevCafe.data', parts: 3 },\n          { name: '2022.05.25 Mons GameDevCafe.wasm', parts: 3 },\n          { name: '2022.05.25 Mons GameDevCafe.framework.js', parts: 1 },\n        ],\n        basePath: '',\n        debug: true\n      };  \n      \u003c/script>\n    <script src=\"https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@ac5cdfc0042aca584e72619375b4aca948a9243c/merge.js\">\u003c/script>\n    <script>\n      var container = document.querySelector(\"#unity-container\");\n      var canvas = document.querySelector(\"#unity-canvas\");\n      var loadingBar = document.querySelector(\"#unity-loading-bar\");\n      var progressBarFull = document.querySelector(\"#unity-progress-bar-full\");\n      var fullscreenButton = document.querySelector(\"#unity-fullscreen-button\");\n      var warningBanner = document.querySelector(\"#unity-warning\");\n\n      // Shows a temporary message banner/ribbon for a few seconds, or\n      // a permanent error message on top of the canvas if type=='error'.\n      // If type=='warning', a yellow highlight color is used.\n      // Modify or remove this function to customize the visually presented\n      // way that non-critical warnings and error messages are presented to the\n      // user.\n      function unityShowBanner(msg, type) {\n        function updateBannerVisibility() {\n          warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';\n        }\n        var div = document.createElement('div');\n        div.innerHTML = msg;\n        warningBanner.appendChild(div);\n        if (type == 'error') div.style = 'background: red; padding: 10px;';\n        else {\n          if (type == 'warning') div.style = 'background: yellow; padding: 10px;';\n          setTimeout(function() {\n            warningBanner.removeChild(div);\n            updateBannerVisibility();\n          }, 5000);\n        }\n        updateBannerVisibility();\n      }\n\n      var buildUrl = \"\";\n      var loaderUrl = \"2022.05.25 Mons GameDevCafe.loader.js\";\n      var config = {\n        dataUrl: buildUrl + \"/2022.05.25 Mons GameDevCafe.data\",\n        frameworkUrl: buildUrl + \"2022.05.25 Mons GameDevCafe.framework.js\",\n        codeUrl: buildUrl + \"/2022.05.25 Mons GameDevCafe.wasm\",\n        streamingAssetsUrl: \"StreamingAssets\",\n        companyName: \"OptizOnion\",\n        productName: \"BountyOfOne\",\n        productVersion: \"1.03\",\n        showBanner: unityShowBanner,\n      };\n\n      // By default Unity keeps WebGL canvas render target size matched with\n      // the DOM size of the canvas element (scaled by window.devicePixelRatio)\n      // Set this to false if you want to decouple this synchronization from\n      // happening inside the engine, and you would instead like to size up\n      // the canvas DOM size and WebGL render target sizes yourself.\n      // config.matchWebGLToCanvasSize = false;\n\n      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {\n        // Mobile device style: fill the whole browser client area with the game canvas:\n\n        var meta = document.createElement('meta');\n        meta.name = 'viewport';\n        meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';\n        document.getElementsByTagName('head')[0].appendChild(meta);\n        container.className = \"unity-mobile\";\n\n        // To lower canvas resolution on mobile devices to gain some\n        // performance, uncomment the following line:\n        // config.devicePixelRatio = 1;\n\n        canvas.style.width = window.innerWidth + 'px';\n        canvas.style.height = window.innerHeight + 'px';\n\n        unityShowBanner('WebGL builds are not supported on mobile devices.');\n      } else {\n        // Desktop style: Render the game canvas in a window that can be maximized to fullscreen:\n\n        canvas.style.width = \"960px\";\n        canvas.style.height = \"540px\";\n      }\n\n      canvas.style.background = \"url('\" + buildUrl + \"/2022.05.25 Mons GameDevCafe.jpg') center / cover\";\n      loadingBar.style.display = \"block\";\n\n      var script = document.createElement(\"script\");\n      script.src = loaderUrl;\n      script.onload = () => {\n        createUnityInstance(canvas, config, (progress) => {\n          progressBarFull.style.width = 100 * progress + \"%\";\n        }).then((unityInstance) => {\n          loadingBar.style.display = \"none\";\n          fullscreenButton.onclick = () => {\n            unityInstance.SetFullscreen(1);\n          };\n        }).catch((message) => {\n          alert(message);\n        });\n      };\n      document.body.appendChild(script);\n    \u003c/script>\n  \u003c/body>\n\u003c/html>\n\n",
  "Brawl_Stars_CL": "<!DOCTYPE html>\n<html lang=\"en-us\">\n<head>\n<meta charset=\"utf-8\"/>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<title>Clicker\u003c/title>\n<style>\n    html, body {\n        width: 100%;\n        height: 100%;\n        padding: 0px;\n        margin: 0px;\n    }\n    .fullscreen {\n        background: #242424;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0px;\n        left: 0px;\n    }\n    #banner-container {\n        position: absolute;\n        bottom: 0px;\n        width: 100%;\n        height: 90px;\n        display: none !important; /* Reklam alan\u0131 tamamen kapal\u0131 */\n    }\n    #loading-overlay {\n        font-size: 20px;\n        z-index: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n    #icon {\n        max-width: 300px;\n        border-radius: 10px;\n        margin-bottom: 20px;\n    }\n    #progress-bar {\n        border-radius: 5px;\n        width: 90%;\n        max-width: 250px;\n        height: 20px;\n        background: #181818;\n        padding: 5px;\n    }\n    #progress-bar-fill {\n        border-radius: 3px;\n        width: 0%;\n        height: 100%;\n        background: #9747FF;\n    }\n\u003c/style>\n\u003c/head>\n<body>\n<canvas id=\"canvas\" class=\"fullscreen\">\u003c/canvas>\n<div id=\"banner-container\">\u003c/div>\n<div id=\"loading-overlay\" class=\"fullscreen\">\n    <img id=\"icon\" src=\"https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/icon.png\"/>\n    <div id=\"progress-bar\"><div id=\"progress-bar-fill\">\u003c/div>\u003c/div>\n\u003c/div>\n\n<script src=\"https://cdn.jsdelivr.net/gh/Deformed-steve/brawl-stars@main/howler.js\">\u003c/script>\n<script>\n    // Mobil viewport ayar\u0131\n    if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {\n        let meta = document.createElement('meta');\n        meta.name = 'viewport';\n        meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';\n        document.head.appendChild(meta);\n    }\n\n    const canvas = document.getElementById('canvas');\n    const loadingOverlay = document.getElementById('loading-overlay');\n    const progressBarFill = document.getElementById('progress-bar-fill');\n    const bannerContainer = document.getElementById('banner-container');\n\n    let unityInstance = null;\n    let progressBarFillingInterval = null;\n    let progressBarCompleteFillingStarted = false;\n\n    function sendMessageToUnity(name, value) {\n        if (unityInstance !== null) {\n            unityInstance.SendMessage('PlaygamaBridge', name, value || '');\n        }\n    }\n\n    function onUnityLoadingProgressChanged(progress) {\n        if (progress >= 1 && progressBarFillingInterval !== null) {\n            clearInterval(progressBarFillingInterval);\n            progressBarFillingInterval = null;\n            return;\n        }\n\n        if (progressBarCompleteFillingStarted) return;\n\n        if (progress >= 0.9) {\n            progressBarCompleteFillingStarted = true;\n            completeProgressBarFilling();\n            return;\n        }\n\n        progressBarFill.style.width = `${progress * 100}%`;\n    }\n\n    function completeProgressBarFilling() {\n        if (progressBarFillingInterval !== null) return;\n\n        let currentPercent = 90;\n        progressBarFill.style.width = `${currentPercent}%`;\n        progressBarFillingInterval = setInterval(() => {\n            currentPercent++;\n            if (currentPercent > 100) currentPercent = 100;\n            progressBarFill.style.width = `${currentPercent}%`;\n            if (currentPercent >= 100) {\n                clearInterval(progressBarFillingInterval);\n                progressBarFillingInterval = null;\n            }\n        }, 100);\n    }\n\n    window.addEventListener('pointerdown', () => {\n        window.focus();\n        canvas.focus();\n    });\n\n    // === YANDEX SDK YER\u0130NE BO\u015e MOCK OBJES\u0130 ===\n    window.bridge = {\n        platform: { id: '', language: 'en', payload: '', tld: '' },\n        device: { type: 'desktop' },\n        player: { isAuthorizationSupported: false, isAuthorized: false, id: '', name: '', photos: [] },\n        game: { visibilityState: 'visible' },\n        storage: { defaultType: 'local', isSupported: () => true, isAvailable: () => true },\n        advertisement: { interstitialState: '', isBannerSupported: false, minimumDelayBetweenInterstitial: 0 },\n        social: {},\n        leaderboard: {},\n        payments: {},\n        remoteConfig: { isSupported: false },\n        achievements: {},\n\n        // Bo\u015f initialize \u2192 hemen resolve\n        initialize: () => Promise.resolve(),\n\n        // T\u00fcm event'ler bo\u015f\n        advertisement: { on: () => {} },\n        game: { on: () => {} }\n    };\n\n    // === T\u00dcM BRIDGE FONKS\u0130YONLARI BO\u015e D\u00d6N\u00dcYOR ===\n    const mockPromise = (success = true, data = '') => \n        success ? Promise.resolve(data) : Promise.reject();\n\n    // Platform\n    window.getPlatformId = () => '';\n    window.getPlatformLanguage = () => 'en';\n    window.getPlatformPayload = () => '';\n    window.getPlatformTld = () => '';\n    window.sendMessageToPlatform = () => {};\n    window.getServerTime = () => sendMessageToUnity('OnGetServerTimeCompleted', Date.now().toString());\n\n    // Device\n    window.getDeviceType = () => 'desktop';\n\n    // Player\n    window.getIsPlayerAuthorizationSupported = () => 'false';\n    window.getIsPlayerAuthorized = () => 'false';\n    window.getPlayerId = () => '';\n    window.getPlayerName = () => '';\n    window.getPlayerPhotos = () => '[]';\n    window.authorizePlayer = () => sendMessageToUnity('OnAuthorizeCompleted', 'false');\n\n    // Game\n    window.getVisibilityState = () => 'visible';\n\n    // Storage\n    window.getStorageDefaultType = () => 'local';\n    window.getIsStorageSupported = () => 'true';\n    window.getIsStorageAvailable = () => 'true';\n    window.getStorageData = (key) => sendMessageToUnity('OnGetStorageDataSuccess', `${key}{bridge_data_separator}`);\n    window.setStorageData = (key) => sendMessageToUnity('OnSetStorageDataSuccess', key);\n    window.deleteStorageData = (key) => sendMessageToUnity('OnDeleteStorageDataSuccess', key);\n\n    // Advertisement\n    window.getInterstitialState = () => '';\n    window.getIsBannerSupported = () => 'false';\n    window.getMinimumDelayBetweenInterstitial = () => '0';\n    window.setMinimumDelayBetweenInterstitial = () => {};\n    window.showBanner = () => {};\n    window.hideBanner = () => {};\n    window.showInterstitial = () => {};\n    window.showRewarded = () => {};\n    window.checkAdBlock = () => sendMessageToUnity('OnCheckAdBlockCompleted', 'false');\n\n    // Social\n    window.getIsShareSupported = () => 'false';\n    window.getIsInviteFriendsSupported = () => 'false';\n    window.getIsJoinCommunitySupported = () => 'false';\n    window.getIsCreatePostSupported = () => 'false';\n    window.getIsAddToHomeScreenSupported = () => 'false';\n    window.getIsAddToFavoritesSupported = () => 'false';\n    window.getIsRateSupported = () => 'false';\n    window.getIsExternalLinksAllowed = () => 'true';\n    window.share = () => sendMessageToUnity('OnShareCompleted', 'false');\n    window.inviteFriends = () => sendMessageToUnity('OnInviteFriendsCompleted', 'false');\n    window.joinCommunity = () => sendMessageToUnity('OnJoinCommunityCompleted', 'false');\n    window.createPost = () => sendMessageToUnity('OnCreatePostCompleted', 'false');\n    window.addToHomeScreen = () => sendMessageToUnity('OnAddToHomeScreenCompleted', 'false');\n    window.addToFavorites = () => sendMessageToUnity('OnAddToFavoritesCompleted', 'false');\n    window.rate = () => sendMessageToUnity('OnRateCompleted', 'false');\n\n    // Leaderboard\n    window.getIsLeaderboardSupported = () => 'false';\n    window.getIsLeaderboardNativePopupSupported = () => 'false';\n    window.getIsLeaderboardSetScoreSupported = () => 'false';\n    window.getIsLeaderboardGetScoreSupported = () => 'false';\n    window.getIsLeaderboardGetEntriesSupported = () => 'false';\n    window.leaderboardSetScore = () => sendMessageToUnity('OnLeaderboardSetScoreCompleted', 'false');\n    window.leaderboardGetScore = () => sendMessageToUnity('OnLeaderboardGetScoreCompleted', '');\n    window.leaderboardGetEntries = () => sendMessageToUnity('OnLeaderboardGetEntriesCompletedSuccess', '[]');\n    window.leaderboardShowNativePopup = () => sendMessageToUnity('OnLeaderboardShowNativePopupCompleted', 'false');\n\n    // Payments\n    window.getIsPaymentsSupported = () => 'false';\n    window.getIsCatalogSupported = () => 'false';\n    window.getIsPurchaseListSupported = () => 'false';\n    window.getIsPurchaseConsumingSupported = () => 'false';\n    window.paymentsPurchase = () => sendMessageToUnity('OnPaymentsPurchaseFailed', '');\n    window.paymentsConsumePurchase = () => sendMessageToUnity('OnPaymentsConsumePurchaseCompleted', 'false');\n    window.paymentsGetCatalog = () => sendMessageToUnity('OnPaymentsGetCatalogCompletedSuccess', '[]');\n    window.paymentsGetPurchases = () => sendMessageToUnity('OnPaymentsGetPurchasesCompletedSuccess', '[]');\n\n    // Remote Config\n    window.getIsRemoteConfigSupported = () => 'false';\n    window.remoteConfigGet = () => sendMessageToUnity('OnRemoteConfigGetFailed', '');\n\n    // Achievements\n    window.getIsAchievementsSupported = () => 'false';\n    window.getIsGetAchievementsListSupported = () => 'false';\n    window.getIsAchievementsNativePopupSupported = () => 'false';\n    window.achievementsUnlock = () => sendMessageToUnity('OnAchievementsUnlockCompleted', 'false');\n    window.achievementsShowNativePopup = () => sendMessageToUnity('OnAchievementsShowNativePopupCompleted', 'false');\n    window.achievementsGetList = () => sendMessageToUnity('OnAchievementsGetListCompletedSuccess', '[]');\n\n    // === UNITY LOADER DO\u011eRUDAN BA\u015eLIYOR ===\n    const unityLoader = document.createElement('script');\n    unityLoader.src = 'https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/Build/web.loader.js';\n    unityLoader.onload = () => {\n        createUnityInstance(canvas, {\n            dataUrl: 'https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/Build/web.data.unityweb',\n            frameworkUrl: 'https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/Build/web.framework.js.unityweb',\n            codeUrl: 'https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/Build/web.wasm.unityweb',\n            streamingAssetsUrl: 'https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/StreamingAssets/',\n            companyName: 'DefaultCompany',\n            productName: 'Clicker',\n            productVersion: '0.1',\n        }, onUnityLoadingProgressChanged)\n        .then((instance) => {\n            window.unityInstance = instance;\n            loadingOverlay.remove();\n            canvas.focus();\n        })\n        .catch((error) => {\n            console.error(\"Unity y\u00fcklenemedi:\", error);\n            alert(\"Oyun y\u00fcklenemedi. L\u00fctfen sayfay\u0131 yenileyin.\");\n        });\n    };\n    unityLoader.onerror = () => {\n        console.error(\"web.loader.js y\u00fcklenemedi!\");\n    };\n    document.body.appendChild(unityLoader);\n\n    // === SES KONTROL\u00dc (Howler) ===\n    var sounds = {};\n    var sound;\n    var isSound = 1;\n\n    sound = new Howl({\n        src: ['https://cdn.jsdelivr.net/gh/ragdoi-archers/zort@main/StreamingAssets/SongInMenu.mp3'],\n        loop: true,\n        volume: 0\n    });\n    sound.play();\n\n    function HowlerSoundOff() {\n        isSound = 0;\n        Howler.volume(0);\n        console.log('Howler Sound Off!');\n    }\n\n    function HowlerSoundOn() {\n        isSound = 1;\n        Howler.volume(1);\n        console.log('Howler Sound On!');\n    }\n\n    function openUrlInNewTab(url) {\n        window.open(url, '_blank');\n    }\n\u003c/script>\n\u003c/body>\n\u003c/html>",
};


allGames = [
  { name: "Roblox", cover: "https://tse3.mm.bing.net/th/id/OIP.Suu0wkaP6duvpXY_gWJucgAAAA?rs=1&pid=ImgDetMain&o=7&rm=3", url: "https://idontixlsomakets.vercel.app/test33.html", external: true },
  { name: "GTA Vice City", cover: "https://tse2.mm.bing.net/th/id/OIP.T6kQS4BQ4CCT6jlXGtAuDgHaE7?rs=1&pid=ImgDetMain&o=7&rm=3", url: "https://t9os.space/gtavc.html", external: true },
  { name: "Subway Surfers", cover: "https://www.google.com/imgres?q=subway%20surfers&imgurl=https%3A%2F%2Fe.snmc.io%2Flk%2Fo%2Fx%2F444cda720211af562927420daf3f445e%2F5282921&imgrefurl=https%3A%2F%2Fglitchwave.com%2Fgame%2Fsubway-surfers%2F&docid=xli-I7UjKozm1M&tbnid=jJiBmadyNWOeEM&vet=12ahUKEwjF_NmgsfeSAxWmMjQIHSufJHcQnPAOegQIIhAB..i&w=960&h=960&hcb=2&ved=2ahUKEwjF_NmgsfeSAxWmMjQIHSufJHcQnPAOegQIIhAB", url: "https://seraph-embeds.vercel.app/games/subwaysurfers/index.html", external: true },
  { name: "Among Us", cover: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRcG8oF3z56u00DxA_RAGa-iv5ojB1Al1NZbA&s", url: "https://seraph-embeds.vercel.app/games/amongus/index.html", external: true },
  { name: "Super Smash Bros", cover: "https://assets-prd.ignimgs.com/2022/02/28/ssb-ignedit-dontsteal-1646008911034.jpg", url: "https://seraph-embeds.vercel.app/games/supersmashbros/index.html", external: true },
  { name: "Clash Royale", cover: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQb-0vYEFuRzD8sX_ClyriT393uJchdjI_RZx11z4PE8w&s", url: "https://t9os.vercel.app/clash.html", external: true },
  { name: "Brawl Stars", cover: "https://i.pinimg.com/1200x/62/ca/ff/62caff4d60879308531745a6b272920e.jpg", isBrawlStars: true, external: true },

  { name: "Dead Tapes", cover: GAME_IMAGES["Dead Tapes"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/deadtapesfinal/index.html", external: true },
  { name: "Binding of Isaac", cover: GAME_IMAGES["Binding of Isaac"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/binding-of-isaac/index.html", external: true },
  { name: "Super Falling Fred", cover: GAME_IMAGES["Super Falling Fred"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/fred/index.html", external: true },
  { name: "Little Big Planet", cover: GAME_IMAGES["Little Big Planet"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/lbp/index.html", external: true },
  { name: "Poppy Playtime", cover: GAME_IMAGES["Poppy Playtime"] || FALLBACK_IMAGE, url: "https://classlink.com.de/gamefile/nowgg/poppyplaytime.html", external: true },
  { name: "Stumble Guys", cover: GAME_IMAGES["Stumble Guys"] || FALLBACK_IMAGE, url: "https://truffling-infinite.b-cdn.net/gamefile/nowgg/stumble.html", external: true },
  { name: "Fortnite", cover: GAME_IMAGES["Fortnite"] || FALLBACK_IMAGE, url: "https://truffling-infinite.b-cdn.net/gamefile/nowgg/fortnite.html", external: true },
  { name: "Balatro", cover: GAME_IMAGES["Balatro"] || FALLBACK_IMAGE, url: "https://truffling-infinite.b-cdn.net/games/balatro/index.html", external: true },
  { name: "Repo", cover: GAME_IMAGES["Repo"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/repo/index.html", external: true },
  { name: "Danganronpa", cover: GAME_IMAGES["Danganronpa"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/danganronpa/index.html", external: true },
  { name: "Portal", cover: GAME_IMAGES["Portal"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/portal/index.html", external: true },
  { name: "Pac-Man", cover: GAME_IMAGES["Pac-Man"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/pacman/index.html", external: true },
  { name: "Raldi", cover: GAME_IMAGES["Raldi"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/raldi/index.html", external: true },
  { name: "Honkai Star Rail", cover: GAME_IMAGES["Honkai Star Rail"] || FALLBACK_IMAGE, url: "https://classlink.com.de/gamefile/nowgg/honkai.html", external: true },
  { name: "Genshin Impact", cover: GAME_IMAGES["Genshin Impact"] || FALLBACK_IMAGE, url: "https://classlink.com.de/gamefile/nowgg/genshin.html", external: true },
  { name: "Verse", cover: GAME_IMAGES["Verse"] || FALLBACK_IMAGE, url: "https://classlink.com.de/gamefile/verse.html", external: true },
  { name: "Life", cover: GAME_IMAGES["Life"] || FALLBACK_IMAGE, url: "https://classlink.com.de/gamefile/life.html", external: true },
  { name: "GTB", cover: GAME_IMAGES["GTB"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/GTB/index.html", external: true },
  { name: "Deadseat", cover: GAME_IMAGES["Deadseat"] || FALLBACK_IMAGE, url: "https://classlink.com.de/games/deadseat/index.html", external: true },
  { name: "Monkey Mart", cover: GAME_IMAGES["Monkey Mart"] || FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/genizy/monkey-mart-mobile@89836e4c54e87739ace84f6fe801b423185cc51d/index.html", external: true },
  { name: "N64 South Park", cover: GAME_IMAGES["N64 South Park"] || FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/EmulatorJS/EmulatorJS@main/examples/parallel_n64.html", external: true },
  { name: "Mortal Kombat 4", cover: GAME_IMAGES["Mortal Kombat 4"] || FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/EmulatorJS/EmulatorJS@main/examples/n64.html", external: true },
  { name: "Crash Bandicoot PS1", cover: GAME_IMAGES["Crash Bandicoot PS1"] || FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/genizy/emu@master/psx/crash.html", external: true },

  { name: "Bowmasters", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/youtube-playables@main/bowmasters/index.html", external: true },
  { name: "Wario Land 4", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/EmulatorJS/EmulatorJS@main/examples/gba.html", external: true },
  { name: "Vs Nonsense", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/mll-enh/die@fe0e5b08118dacdefc79f2b.../index.html", external: true },
  { name: "VVVVVV", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/Flash-games@main/vvvvvv.swf", external: true, isSwf: true },
  { name: "Warfare 1944", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@9c2d92f8128576153dbd00e120ce7138b5a0403e/warfare_1944.swf", external: true, isSwf: true },
  { name: "Waluigi Taco Stand", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/EmulatorJS/EmulatorJS@main/examples/n64.html", external: true },
  { name: "WarioWare DIY", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/EmulatorJS/EmulatorJS@main/examples/gba.html", external: true },
  { name: "Wave Dash", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/Flash-games@main/wavedash.swf", external: true, isSwf: true },
  { name: "Wermhole", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/wermhole/index.html", external: true },
  { name: "We Become What We Behold", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/webecomewhatwebehold/index.html", external: true },
  { name: "Wheelie Bike", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@1a8377d87253610bca22dc9dc44f79020b395c1e/wheelie-bike/index.html", external: true },
  { name: "Whack the Thief", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@ee4beef9317f825b9281b99aa74b28a28e6a2451/whack-the-thief-2016urlfix2.swf", external: true, isSwf: true },
  { name: "Whack Your Computer", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@d62ba8b3552de509e2ab292bf2cb5f41bd9a6860/whack_your_computer_12_ways.swf", external: true, isSwf: true },
  { name: "Whack Your Boss", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@553a049ecceebc9021271d5d846b8730a6d02a6e/dont_whack_your_boss.swf", external: true, isSwf: true },
  { name: "Wheely", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Oozaru341/ClickJogos@a18a27ddb0e3fe3f0c48225a5908607023c90523/jogos/games/wheely.swf", external: true, isSwf: true },
  { name: "Wheely 2", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Oozaru341/ClickJogos@a18a27ddb0e3fe3f0c48225a5908607023c90523/jogos/games/wheely2.swf", external: true, isSwf: true },
  { name: "Wheely 3", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Oozaru341/ClickJogos@a18a27ddb0e3fe3f0c48225a5908607023c90523/jogos/games/wheely3.swf", external: true, isSwf: true },
  { name: "Wheely 4", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Oozaru341/ClickJogos@a18a27ddb0e3fe3f0c48225a5908607023c90523/jogos/games/wheely4.swf", external: true, isSwf: true },
  { name: "Wheely 5", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Buss-beep-3/Omygayyatta@13ed2774c457b7e829d7d73be624e3c3a6f2b884/games/flash/swf/wheely-5.swf", external: true, isSwf: true },
  { name: "Wheely 6", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Buss-beep-3/Omygayyatta@13ed2774c457b7e829d7d73be624e3c3a6f2b884/games/flash/swf/wheely-6.swf", external: true, isSwf: true },
  { name: "Wheely 7", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/mogrt1/BCHS@19fb149c32685a82aed1e66993bf55efc916d5b4/games/flash/swf/wheely-7.swf", external: true, isSwf: true },
  { name: "Wheely 8", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/mogrt1/BCHS@19fb149c32685a82aed1e66993bf55efc916d5b4/games/flash/swf/wheely-8.swf", external: true, isSwf: true },
  { name: "Windows Doors", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/swf3/wtw3@main/woondows.swf", external: true, isSwf: true },
  { name: "Winter Falling", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@54a510a80184f0d5fe1865ddddede69de1df1ef6/winter%20falling/index.html", external: true },
  { name: "Wipeout 2097", cover: FALLBACK_IMAGE, url: null, isUnsupported: true },
  { name: "Wordle", cover: FALLBACK_IMAGE, url: "https://www.nytimes.com/games/wordle/index.html", external: true },
  { name: "Wolfenstein 3D", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/wolfenstein/index.html", external: true },
  { name: "Untime", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/UNITY/untime/index.html", external: true },
  { name: "Underneath", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@8874e6849ea73acaedd853ff61ea04d981fce7dd/underneath/index.html", external: true },
  { name: "World's Hardest Game", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/sonvallhall/x7x@51cffb21c08c2ca9cecbed7aecf10d1afb8b9c72/wordes-hardest-gae.swf", external: true, isSwf: true },
  { name: "World's Hardest Game 2", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@9daac0cbf890bebeee89cca4abe266204a8aff10/worldshardestgame2.swf", external: true, isSwf: true },
  { name: "World's Hardest Game 3", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/vjspranav/FlashGames@c4afbfe9dd12f23ef93e19d7f3d298105448f349/games/The%20World's%20Hardest%20Game%203.swf", external: true, isSwf: true },
  { name: "World's Hardest Game 4", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@9daac0cbf890bebeee89cca4abe266204a8aff10/worlds-hardest-game-4.swf", external: true, isSwf: true },
  { name: "UpSlash", cover: FALLBACK_IMAGE, url: "https://cdn.statically.io/gh/Stinkalistic/junk/main/upslash/index.html", external: true },
  { name: "Upgrade Complete", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@d62ba8b3552de509e2ab292bf2cb5f41bd9a6860/upgrade-complete-3955.swf", external: true, isSwf: true },
  { name: "Unfair Mario", cover: FALLBACK_IMAGE, url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/1ee20621-61bc-4ec8-a8ec-5e839c2e6edc%2Funfair-mario.xml&container=ig", external: true },
  { name: "Uno", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/paigerodeghero/academicwebsite@897c910c65e6c68b04c44a6b6eba0b99d0f2f2cf/TemplateData/uno.html", external: true },
  { name: "Woodworm", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@54a510a80184f0d5fe1865ddddede69de1df1ef6/woodworm/index.html", external: true },
  { name: "Wrestle Bros", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@0e4ecd6d318272b62cd671011d5afe60aec66321/wrestle%20bros/index.html", external: true },
  { name: "Witchcraft TD", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@8874e6849ea73acaedd853ff61ea04d981fce7dd/witchcraft-td/index.html", external: true },
  { name: "World Cup 98", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/Flash-games@main/worldcup98.swf", external: true, isSwf: true },
  { name: "Unfair Undyne", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/bubbls/undyne@293e938aa32b72341bfb36cc1dbbcaef7e728da0/unfair%20undyne/index.html", external: true },
  { name: "Unono Mercy", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/1e295a49108e716ce8ab7eba0c8dca7d/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/utyweb/index.html", external: true },
  { name: "Territorial.io", cover: FALLBACK_IMAGE, url: "https://territorial.io", external: true },
  { name: "Wave Run", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/waverun/index.html", external: true },
  { name: "Undertale Yellow", cover: FALLBACK_IMAGE, url: "https://cdn.jsdelivr.net/gh/undertaleyellow/web/index.html", external: true },
  { name: "BTD1", cover: FALLBACK_IMAGE, url: null, srcdocKey: "BTD1", external: true },
  { name: "Thermomorph", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Thermomorph", external: true },
  { name: "The Sodor Race", cover: FALLBACK_IMAGE, url: null, srcdocKey: "The_Sodor_Race", external: true },
  { name: "They Are Coming", cover: FALLBACK_IMAGE, url: null, srcdocKey: "They_Are_Coming", external: true },
  { name: "This Is The Only Level", cover: FALLBACK_IMAGE, url: null, srcdocKey: "This_Is_The_Only_Level", external: true },
  { name: "This Is The Only Level 2", cover: FALLBACK_IMAGE, url: null, srcdocKey: "This_Is_The_Only_Level_2", external: true },
  { name: "This Is The Only Level Too", cover: FALLBACK_IMAGE, url: null, srcdocKey: "This_Is_The_Only_Level_Too", external: true },
  { name: "Three Goblets", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Three_Goblets", external: true },
  { name: "Throw A Potato", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Throw_A_Potato", external: true },
  { name: "Throw A Potato Again", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Throw_A_Potato_Again", external: true },
  { name: "Thwack", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Thwack", external: true },
  { name: "Tiberian Dawn", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Tiberian_Dawn", external: true },
  { name: "Bounty Of One", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Bounty_Of_One", external: true },
  { name: "Brawl Stars CL", cover: FALLBACK_IMAGE, url: null, srcdocKey: "Brawl_Stars_CL", external: true }
];

function createGameCard(game, isMyList = false) {
  const card = document.createElement('div');
  card.className = 'game-card' + (isFavorite(game.name) ? ' favorite' : '');
  const imgContainer = document.createElement('div');
  imgContainer.style.cssText = 'width:100%;height:100%;position:relative;background:#000;';
  
  if (game.cover) {
    const img = document.createElement('img');
    img.src = game.cover;
    img.alt = game.name;
    img.loading = 'lazy';
    img.style.cssText = 'width:100%;height:100%;object-fit:cover;transition:transform 0.3s, opacity 0.3s;opacity:0.85;';
    img.onerror = () => { img.src = FALLBACK_IMAGE; };
    imgContainer.appendChild(img);
  } else {
    const placeholder = document.createElement('div');
    placeholder.style.cssText = 'width:100%;height:100%;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-size:14px;text-align:center;';
    placeholder.textContent = 'Image Coming Soon';
    imgContainer.appendChild(placeholder);
  }
  card.appendChild(imgContainer);

  const star = document.createElement('span');
  star.className = 'star' + (isFavorite(game.name) ? '' : ' empty');
  star.innerHTML = isFavorite(game.name) ? '‚òÖ' : '‚òÜ';
  star.onclick = (e) => toggleFavorite(game.name, e);
  card.appendChild(star);

  const title = document.createElement('div');
  title.className = 'title';
  title.textContent = game.name;
  card.appendChild(title);

  card.onclick = () => {
    if (game.isBrawlStars) openBrawlStars();
    else openGame(game);
  };
  return card;
}

async function loadGames() {
  const row = document.getElementById('gamesRow');
  row.innerHTML = '<div class="loading-games"><div class="spinner"></div>Loading games...</div>';

  try {
    const res = await fetch(ZONES + '?t=' + Date.now());
    if (!res.ok) throw new Error('API fetch failed');
    const data = await res.json();
    
    const apiGames = data
      .filter(g => g && g.name && !g.name.toLowerCase().includes('suggest') && !g.name.includes('.gg'))
      .map(g => ({
        name: g.name,
        cover: g.cover ? g.cover.replace('{COVER_URL}', COVER_BASE).replace('{HTML_URL}', HTML_BASE) : FALLBACK_IMAGE,
        url: g.url ? g.url.replace('{COVER_URL}', COVER_BASE).replace('{HTML_URL}', HTML_BASE) : '',
        external: true
      }));

    allGames = [...allGames, ...apiGames];
    filteredGames = [...allGames];
    document.getElementById('totalGames').textContent = `Total Games: ${allGames.length}`;
    renderGames();
  } catch (err) {
    console.error('Games API error:', err);
    filteredGames = [...allGames];
    document.getElementById('totalGames').textContent = `Total Games: ${allGames.length} (local only)`;
    renderGames();
  }
}

function renderGames() {
  const row = document.getElementById('gamesRow');
  row.innerHTML = '';
  if (filteredGames.length === 0) {
    row.innerHTML = '<div class="no-games">No games found.</div>';
    return;
  }
  filteredGames.forEach(game => row.appendChild(createGameCard(game)));
}

function handleSearch() {
  const q = document.getElementById('searchInput').value.toLowerCase().trim();
  filteredGames = q ? allGames.filter(g => g.name.toLowerCase().includes(q)) : [...allGames];
  renderGames();
}

function scrollGamesLeft() { document.getElementById('gamesScrollArea').scrollBy({left: -500, behavior: 'smooth'}); }
function scrollGamesRight() { document.getElementById('gamesScrollArea').scrollBy({left: 500, behavior: 'smooth'}); }

async function openGame(game) {
  // If game has pre-embedded HTML (uploaded files), use it directly
  if (game.srcdocKey && GAME_SRCDOCS[game.srcdocKey]) {
    const player = document.getElementById('gamePlayer');
    const frame = document.getElementById('gameFrame');
    document.getElementById('gamePlayerTitle').textContent = game.name;
    player.classList.add('active');
    frame.srcdoc = GAME_SRCDOCS[game.srcdocKey];
    return;
  }

  if (!game.url) {
    alert('This game is not available.');
    return;
  }

  const player = document.getElementById('gamePlayer');
  const frame = document.getElementById('gameFrame');
  document.getElementById('gamePlayerTitle').textContent = game.name;
  player.classList.add('active');

  const url = game.url;

  // Show loading spinner (no script tags in this string)
  frame.srcdoc = '<!DOCTYPE html><html><head><meta charset="utf-8"><style>*{margin:0;padding:0}body{background:#000;color:white;display:flex;align-items:center;justify-content:center;height:100vh;font-family:Arial;flex-direction:column;gap:20px;}.spin{width:40px;height:40px;border:4px solid #333;border-top:4px solid #667eea;border-radius:50%;animation:s 1s linear infinite;}@keyframes s{to{transform:rotate(360deg);}}</style></head><body><div class="spin"></div><div>Loading...</div></body></html>';

  // SWF: use Ruffle ‚Äî use \x3cscript to avoid breaking HTML parser
  if (game.isSwf || url.endsWith('.swf')) {
    frame.srcdoc = '<!DOCTYPE html><html><head><meta charset="utf-8">\x3cscript src="https://unpkg.com/@ruffle-rs/ruffle">\x3c/script><style>*{margin:0;padding:0}body{background:#000;width:100vw;height:100vh;overflow:hidden;display:flex;align-items:center;justify-content:center;}ruffle-embed{width:100%;height:100%;}</style></head><body><ruffle-embed src="' + url + '" width="100%" height="100%"></ruffle-embed></body></html>';
    return;
  }

  // ROM/binary: unsupported
  if (url.endsWith('.chd') || url.endsWith('.iso') || url.endsWith('.bin')) {
    frame.srcdoc = '<!DOCTYPE html><html><head><meta charset="utf-8"><style>body{margin:0;background:#111;color:white;display:flex;align-items:center;justify-content:center;height:100vh;font-family:Arial;text-align:center;}</style></head><body><div><h2>ROM File</h2><p>Requires a local emulator.</p></div></body></html>';
    return;
  }

  // Fetch the raw HTML ourselves so CDN content-type is ignored
  try {
    const res = await fetch(url);
    let html = await res.text();

    const t = html.trim().toLowerCase();
    const isHtml = t.startsWith('<!doctype') || t.startsWith('<html') || t.startsWith('<head') || t.startsWith('<body') || t.startsWith('<meta') || t.startsWith('<link') || t.startsWith('<title');

    if (!isHtml) {
      // Raw JS bundle ‚Äî wrap it using \x3cscript to stay safe
      html = '<!DOCTYPE html><html><head><meta charset="utf-8"><style>*{margin:0;padding:0}body{background:#000;width:100vw;height:100vh;overflow:hidden;}</style></head><body>\x3cscript>\n' + html + '\n\x3c/script></body></html>';
    } else {
      // Inject <base> so relative assets resolve correctly
      const base = url.substring(0, url.lastIndexOf('/') + 1);
      if (!html.match(/<base[\s>]/i)) {
        if (html.match(/<head[^>]*>/i)) {
          html = html.replace(/(<head[^>]*>)/i, '$1<base href="' + base + '">');
        } else {
          html = '<base href="' + base + '">' + html;
        }
      }
    }
    frame.srcdoc = html;
  } catch (err) {
    // CORS fallback
    frame.srcdoc = '<!DOCTYPE html><html><head><meta charset="utf-8"><style>*{margin:0;padding:0}body{background:#000;width:100vw;height:100vh;overflow:hidden;}iframe{width:100%;height:100%;border:none;display:block;}</style></head><body><iframe src="' + url + '" allowfullscreen allow="autoplay;fullscreen;pointer-lock;gamepad"></iframe></body></html>';
  }
}



// Fixed Brawl Stars (loads in large window)
function openBrawlStars() {
  const win = document.getElementById('window');
  const frame = document.getElementById('frame');
  const titleSpan = document.getElementById('windowTitle');
  const overlay = document.getElementById('overlay');
  win.classList.add('large');
  
  const brawlHtml = `
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brawl Stars</title>
  <style>body{margin:0;overflow:hidden;background:#000;height:100vh;}</style>
</head>
<body>
  <iframe src="https://poki.com/en/embed/brawl-stars" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
</body>
</html>`;
  
  frame.srcdoc = brawlHtml;
  titleSpan.textContent = 'üéÆ Brawl Stars';
  win.classList.add('active');
  overlay.classList.add('active');
}

function closeGame() {
  document.getElementById('gamePlayer').classList.remove('active');
  const frame = document.getElementById('gameFrame');
  frame.src = '';
  frame.srcdoc = '';
}

function toggleFullscreen() {
  const player = document.getElementById('gamePlayer');
  if (!document.fullscreenElement) player.requestFullscreen();
  else document.exitFullscreen();
}

function exitFullscreen() { if (document.fullscreenElement) document.exitFullscreen(); }

function openWindow(url, title) {
  document.getElementById('windowTitle').textContent = title;
  document.getElementById('frame').src = url;
  document.getElementById('window').classList.add('active');
  document.getElementById('overlay').classList.add('active');
}
function closeWindow() {
  document.getElementById('window').classList.remove('active');
  document.getElementById('overlay').classList.remove('active');
  document.getElementById('frame').src = '';
}
function openSettings() { document.getElementById('settings').classList.add('active'); document.getElementById('overlay').classList.add('active'); }
function closeSettings() { document.getElementById('settings').classList.remove('active'); document.getElementById('overlay').classList.remove('active'); }
function openAboutBlank() { window.open('about:blank', '_blank'); }
function setCloak() {
  const name = document.getElementById('cloakInput').value.trim() || 'New Tab';
  document.title = name;
  history.replaceState({}, name, 'about:blank');
}
function openPresentation() { openWindow('https://docs.google.com/presentation/d/1JJQOdkUf9OzWWcyqJznDTLdD3KTmc2Qkl85ibqx-JxM/embed?start=false&loop=false&delayms=3000', 'Presentation'); }
function openChat() { openWindow('https://t9os.space/chat3.html', 'Chat'); }

function closeAllModals() {
  closeWindow();
  closeSettings();
  closeMyList();
}

document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('password').addEventListener('keypress', e => { if (e.key === 'Enter') checkLogin(); });
  document.getElementById('username').addEventListener('keypress', e => { if (e.key === 'Enter') document.getElementById('password').focus(); });
});
</script>


</body></html>
